function ck(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Gg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vx={exports:{}},Bd={},yx={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=Symbol.for("react.element"),dk=Symbol.for("react.portal"),hk=Symbol.for("react.fragment"),fk=Symbol.for("react.strict_mode"),pk=Symbol.for("react.profiler"),mk=Symbol.for("react.provider"),gk=Symbol.for("react.context"),vk=Symbol.for("react.forward_ref"),yk=Symbol.for("react.suspense"),_k=Symbol.for("react.memo"),wk=Symbol.for("react.lazy"),T_=Symbol.iterator;function Ek(t){return t===null||typeof t!="object"?null:(t=T_&&t[T_]||t["@@iterator"],typeof t=="function"?t:null)}var _x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wx=Object.assign,Ex={};function Io(t,e,n){this.props=t,this.context=e,this.refs=Ex,this.updater=n||_x}Io.prototype.isReactComponent={};Io.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Io.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tx(){}Tx.prototype=Io.prototype;function qg(t,e,n){this.props=t,this.context=e,this.refs=Ex,this.updater=n||_x}var Kg=qg.prototype=new Tx;Kg.constructor=qg;wx(Kg,Io.prototype);Kg.isPureReactComponent=!0;var x_=Array.isArray,xx=Object.prototype.hasOwnProperty,Qg={current:null},Sx={key:!0,ref:!0,__self:!0,__source:!0};function Ix(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xx.call(e,r)&&!Sx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:kl,type:t,key:s,ref:o,props:i,_owner:Qg.current}}function Tk(t,e){return{$$typeof:kl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yg(t){return typeof t=="object"&&t!==null&&t.$$typeof===kl}function xk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var S_=/\/+/g;function bf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xk(""+t.key):e.toString(36)}function ic(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case kl:case dk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+bf(o,0):r,x_(i)?(n="",t!=null&&(n=t.replace(S_,"$&/")+"/"),ic(i,e,n,"",function(u){return u})):i!=null&&(Yg(i)&&(i=Tk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(S_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",x_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+bf(s,a);o+=ic(s,e,n,l,i)}else if(l=Ek(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+bf(s,a++),o+=ic(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yu(t,e,n){if(t==null)return t;var r=[],i=0;return ic(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Sk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lt={current:null},sc={transition:null},Ik={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:sc,ReactCurrentOwner:Qg};re.Children={map:yu,forEach:function(t,e,n){yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yu(t,function(){e++}),e},toArray:function(t){return yu(t,function(e){return e})||[]},only:function(t){if(!Yg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Io;re.Fragment=hk;re.Profiler=pk;re.PureComponent=qg;re.StrictMode=fk;re.Suspense=yk;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xx.call(e,l)&&!Sx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:kl,type:t.type,key:i,ref:s,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:gk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mk,_context:t},t.Consumer=t};re.createElement=Ix;re.createFactory=function(t){var e=Ix.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:vk,render:t}};re.isValidElement=Yg;re.lazy=function(t){return{$$typeof:wk,_payload:{_status:-1,_result:t},_init:Sk}};re.memo=function(t,e){return{$$typeof:_k,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=sc.transition;sc.transition={};try{t()}finally{sc.transition=e}};re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};re.useCallback=function(t,e){return Lt.current.useCallback(t,e)};re.useContext=function(t){return Lt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return Lt.current.useDeferredValue(t)};re.useEffect=function(t,e){return Lt.current.useEffect(t,e)};re.useId=function(){return Lt.current.useId()};re.useImperativeHandle=function(t,e,n){return Lt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return Lt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return Lt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return Lt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return Lt.current.useReducer(t,e,n)};re.useRef=function(t){return Lt.current.useRef(t)};re.useState=function(t){return Lt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return Lt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return Lt.current.useTransition()};re.version="18.2.0";yx.exports=re;var T=yx.exports;const te=Gg(T),bk=ck({__proto__:null,default:te},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pk=T,Ck=Symbol.for("react.element"),Ak=Symbol.for("react.fragment"),Rk=Object.prototype.hasOwnProperty,Dk=Pk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kk={key:!0,ref:!0,__self:!0,__source:!0};function bx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Rk.call(e,r)&&!kk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ck,type:t,key:s,ref:o,props:i,_owner:Dk.current}}Bd.Fragment=Ak;Bd.jsx=bx;Bd.jsxs=bx;vx.exports=Bd;var p=vx.exports,Kp={},Px={exports:{}},on={},Cx={exports:{}},Ax={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,L){var O=b.length;b.push(L);e:for(;0<O;){var z=O-1>>>1,ee=b[z];if(0<i(ee,L))b[z]=L,b[O]=ee,O=z;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var L=b[0],O=b.pop();if(O!==L){b[0]=O;e:for(var z=0,ee=b.length,Qe=ee>>>1;z<Qe;){var _e=2*(z+1)-1,Ye=b[_e],Kt=_e+1,xn=b[Kt];if(0>i(Ye,O))Kt<ee&&0>i(xn,Ye)?(b[z]=xn,b[Kt]=O,z=Kt):(b[z]=Ye,b[_e]=O,z=_e);else if(Kt<ee&&0>i(xn,O))b[z]=xn,b[Kt]=O,z=Kt;else break e}}return L}function i(b,L){var O=b.sortIndex-L.sortIndex;return O!==0?O:b.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,m=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(b){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=b)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function E(b){if(y=!1,_(b),!m)if(n(l)!==null)m=!0,M(x);else{var L=n(u);L!==null&&U(E,L.startTime-b)}}function x(b,L){m=!1,y&&(y=!1,g(I),I=-1),f=!0;var O=h;try{for(_(L),d=n(l);d!==null&&(!(d.expirationTime>L)||b&&!F());){var z=d.callback;if(typeof z=="function"){d.callback=null,h=d.priorityLevel;var ee=z(d.expirationTime<=L);L=t.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(l)&&r(l),_(L)}else r(l);d=n(l)}if(d!==null)var Qe=!0;else{var _e=n(u);_e!==null&&U(E,_e.startTime-L),Qe=!1}return Qe}finally{d=null,h=O,f=!1}}var S=!1,P=null,I=-1,k=5,N=-1;function F(){return!(t.unstable_now()-N<k)}function Z(){if(P!==null){var b=t.unstable_now();N=b;var L=!0;try{L=P(!0,b)}finally{L?oe():(S=!1,P=null)}}else S=!1}var oe;if(typeof v=="function")oe=function(){v(Z)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ce=ae.port2;ae.port1.onmessage=Z,oe=function(){ce.postMessage(null)}}else oe=function(){w(Z,0)};function M(b){P=b,S||(S=!0,oe())}function U(b,L){I=w(function(){b(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,M(x))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(b){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var O=h;h=L;try{return b()}finally{h=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,L){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var O=h;h=b;try{return L()}finally{h=O}},t.unstable_scheduleCallback=function(b,L,O){var z=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?z+O:z):O=z,b){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=O+ee,b={id:c++,callback:L,priorityLevel:b,startTime:O,expirationTime:ee,sortIndex:-1},O>z?(b.sortIndex=O,e(u,b),n(l)===null&&b===n(u)&&(y?(g(I),I=-1):y=!0,U(E,O-z))):(b.sortIndex=ee,e(l,b),m||f||(m=!0,M(x))),b},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(b){var L=h;return function(){var O=h;h=L;try{return b.apply(this,arguments)}finally{h=O}}}})(Ax);Cx.exports=Ax;var Nk=Cx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx=T,nn=Nk;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dx=new Set,Fa={};function us(t,e){ro(t,e),ro(t+"Capture",e)}function ro(t,e){for(Fa[t]=e,t=0;t<e.length;t++)Dx.add(e[t])}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qp=Object.prototype.hasOwnProperty,Ok=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I_={},b_={};function Lk(t){return Qp.call(b_,t)?!0:Qp.call(I_,t)?!1:Ok.test(t)?b_[t]=!0:(I_[t]=!0,!1)}function Mk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vk(t,e,n,r){if(e===null||typeof e>"u"||Mk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xg=/[\-:]([a-z])/g;function Jg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xg,Jg);mt[e]=new Mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xg,Jg);mt[e]=new Mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xg,Jg);mt[e]=new Mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zg(t,e,n,r){var i=mt.hasOwnProperty(e)?mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vk(e,n,i,r)&&(n=null),r||i===null?Lk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ir=Rx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_u=Symbol.for("react.element"),As=Symbol.for("react.portal"),Rs=Symbol.for("react.fragment"),ev=Symbol.for("react.strict_mode"),Yp=Symbol.for("react.profiler"),kx=Symbol.for("react.provider"),Nx=Symbol.for("react.context"),tv=Symbol.for("react.forward_ref"),Xp=Symbol.for("react.suspense"),Jp=Symbol.for("react.suspense_list"),nv=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),Ox=Symbol.for("react.offscreen"),P_=Symbol.iterator;function $o(t){return t===null||typeof t!="object"?null:(t=P_&&t[P_]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,Pf;function ia(t){if(Pf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pf=e&&e[1]||""}return`
`+Pf+t}var Cf=!1;function Af(t,e){if(!t||Cf)return"";Cf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ia(t):""}function jk(t){switch(t.tag){case 5:return ia(t.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 2:case 15:return t=Af(t.type,!1),t;case 11:return t=Af(t.type.render,!1),t;case 1:return t=Af(t.type,!0),t;default:return""}}function Zp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rs:return"Fragment";case As:return"Portal";case Yp:return"Profiler";case ev:return"StrictMode";case Xp:return"Suspense";case Jp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nx:return(t.displayName||"Context")+".Consumer";case kx:return(t._context.displayName||"Context")+".Provider";case tv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nv:return e=t.displayName||null,e!==null?e:Zp(t.type)||"Memo";case Ar:e=t._payload,t=t._init;try{return Zp(t(e))}catch{}}return null}function Fk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zp(e);case 8:return e===ev?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Bk(t){var e=Lx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wu(t){t._valueTracker||(t._valueTracker=Bk(t))}function Mx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Lx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function em(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function C_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=si(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vx(t,e){e=e.checked,e!=null&&Zg(t,"checked",e,!1)}function tm(t,e){Vx(t,e);var n=si(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nm(t,e.type,n):e.hasOwnProperty("defaultValue")&&nm(t,e.type,si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function A_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nm(t,e,n){(e!=="number"||Cc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sa=Array.isArray;function Gs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+si(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function R_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(sa(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:si(n)}}function jx(t,e){var n=si(e.value),r=si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function D_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function im(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Eu,Bx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Eu=Eu||document.createElement("div"),Eu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Eu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ba(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ga={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uk=["Webkit","ms","Moz","O"];Object.keys(ga).forEach(function(t){Uk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ga[e]=ga[t]})});function Ux(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ga.hasOwnProperty(t)&&ga[t]?(""+e).trim():e+"px"}function $x(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ux(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $k=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sm(t,e){if(e){if($k[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function om(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var am=null;function rv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lm=null,qs=null,Ks=null;function k_(t){if(t=Ll(t)){if(typeof lm!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Hd(e),lm(t.stateNode,t.type,e))}}function zx(t){qs?Ks?Ks.push(t):Ks=[t]:qs=t}function Wx(){if(qs){var t=qs,e=Ks;if(Ks=qs=null,k_(t),e)for(t=0;t<e.length;t++)k_(e[t])}}function Hx(t,e){return t(e)}function Gx(){}var Rf=!1;function qx(t,e,n){if(Rf)return t(e,n);Rf=!0;try{return Hx(t,e,n)}finally{Rf=!1,(qs!==null||Ks!==null)&&(Gx(),Wx())}}function Ua(t,e){var n=t.stateNode;if(n===null)return null;var r=Hd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var um=!1;if(yr)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){um=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{um=!1}function zk(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var va=!1,Ac=null,Rc=!1,cm=null,Wk={onError:function(t){va=!0,Ac=t}};function Hk(t,e,n,r,i,s,o,a,l){va=!1,Ac=null,zk.apply(Wk,arguments)}function Gk(t,e,n,r,i,s,o,a,l){if(Hk.apply(this,arguments),va){if(va){var u=Ac;va=!1,Ac=null}else throw Error(R(198));Rc||(Rc=!0,cm=u)}}function cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Kx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function N_(t){if(cs(t)!==t)throw Error(R(188))}function qk(t){var e=t.alternate;if(!e){if(e=cs(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return N_(i),t;if(s===r)return N_(i),e;s=s.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function Qx(t){return t=qk(t),t!==null?Yx(t):null}function Yx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Yx(t);if(e!==null)return e;t=t.sibling}return null}var Xx=nn.unstable_scheduleCallback,O_=nn.unstable_cancelCallback,Kk=nn.unstable_shouldYield,Qk=nn.unstable_requestPaint,Me=nn.unstable_now,Yk=nn.unstable_getCurrentPriorityLevel,iv=nn.unstable_ImmediatePriority,Jx=nn.unstable_UserBlockingPriority,Dc=nn.unstable_NormalPriority,Xk=nn.unstable_LowPriority,Zx=nn.unstable_IdlePriority,Ud=null,Wn=null;function Jk(t){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(Ud,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:tN,Zk=Math.log,eN=Math.LN2;function tN(t){return t>>>=0,t===0?32:31-(Zk(t)/eN|0)|0}var Tu=64,xu=4194304;function oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=oa(a):(s&=o,s!==0&&(r=oa(s)))}else o=n&~i,o!==0?r=oa(o):s!==0&&(r=oa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),i=1<<n,r|=t[n],e&=~i;return r}function nN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-An(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=nN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function dm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eS(){var t=Tu;return Tu<<=1,!(Tu&4194240)&&(Tu=64),t}function Df(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function iN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-An(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function sv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var he=0;function tS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nS,ov,rS,iS,sS,hm=!1,Su=[],zr=null,Wr=null,Hr=null,$a=new Map,za=new Map,kr=[],sN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L_(t,e){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":$a.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":za.delete(e.pointerId)}}function Wo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ll(e),e!==null&&ov(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function oN(t,e,n,r,i){switch(e){case"focusin":return zr=Wo(zr,t,e,n,r,i),!0;case"dragenter":return Wr=Wo(Wr,t,e,n,r,i),!0;case"mouseover":return Hr=Wo(Hr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return $a.set(s,Wo($a.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,za.set(s,Wo(za.get(s)||null,t,e,n,r,i)),!0}return!1}function oS(t){var e=Oi(t.target);if(e!==null){var n=cs(e);if(n!==null){if(e=n.tag,e===13){if(e=Kx(n),e!==null){t.blockedOn=e,sS(t.priority,function(){rS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);am=r,n.target.dispatchEvent(r),am=null}else return e=Ll(n),e!==null&&ov(e),t.blockedOn=n,!1;e.shift()}return!0}function M_(t,e,n){oc(t)&&n.delete(e)}function aN(){hm=!1,zr!==null&&oc(zr)&&(zr=null),Wr!==null&&oc(Wr)&&(Wr=null),Hr!==null&&oc(Hr)&&(Hr=null),$a.forEach(M_),za.forEach(M_)}function Ho(t,e){t.blockedOn===e&&(t.blockedOn=null,hm||(hm=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,aN)))}function Wa(t){function e(i){return Ho(i,t)}if(0<Su.length){Ho(Su[0],t);for(var n=1;n<Su.length;n++){var r=Su[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zr!==null&&Ho(zr,t),Wr!==null&&Ho(Wr,t),Hr!==null&&Ho(Hr,t),$a.forEach(e),za.forEach(e),n=0;n<kr.length;n++)r=kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kr.length&&(n=kr[0],n.blockedOn===null);)oS(n),n.blockedOn===null&&kr.shift()}var Qs=Ir.ReactCurrentBatchConfig,Nc=!0;function lN(t,e,n,r){var i=he,s=Qs.transition;Qs.transition=null;try{he=1,av(t,e,n,r)}finally{he=i,Qs.transition=s}}function uN(t,e,n,r){var i=he,s=Qs.transition;Qs.transition=null;try{he=4,av(t,e,n,r)}finally{he=i,Qs.transition=s}}function av(t,e,n,r){if(Nc){var i=fm(t,e,n,r);if(i===null)Uf(t,e,r,Oc,n),L_(t,r);else if(oN(i,t,e,n,r))r.stopPropagation();else if(L_(t,r),e&4&&-1<sN.indexOf(t)){for(;i!==null;){var s=Ll(i);if(s!==null&&nS(s),s=fm(t,e,n,r),s===null&&Uf(t,e,r,Oc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Uf(t,e,r,null,n)}}var Oc=null;function fm(t,e,n,r){if(Oc=null,t=rv(r),t=Oi(t),t!==null)if(e=cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Kx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oc=t,null}function aS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yk()){case iv:return 1;case Jx:return 4;case Dc:case Xk:return 16;case Zx:return 536870912;default:return 16}default:return 16}}var Fr=null,lv=null,ac=null;function lS(){if(ac)return ac;var t,e=lv,n=e.length,r,i="value"in Fr?Fr.value:Fr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ac=i.slice(t,1<r?1-r:void 0)}function lc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Iu(){return!0}function V_(){return!1}function an(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Iu:V_,this.isPropagationStopped=V_,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),e}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uv=an(bo),Ol=Re({},bo,{view:0,detail:0}),cN=an(Ol),kf,Nf,Go,$d=Re({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Go&&(Go&&t.type==="mousemove"?(kf=t.screenX-Go.screenX,Nf=t.screenY-Go.screenY):Nf=kf=0,Go=t),kf)},movementY:function(t){return"movementY"in t?t.movementY:Nf}}),j_=an($d),dN=Re({},$d,{dataTransfer:0}),hN=an(dN),fN=Re({},Ol,{relatedTarget:0}),Of=an(fN),pN=Re({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),mN=an(pN),gN=Re({},bo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vN=an(gN),yN=Re({},bo,{data:0}),F_=an(yN),_N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EN[t])?!!e[t]:!1}function cv(){return TN}var xN=Re({},Ol,{key:function(t){if(t.key){var e=_N[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cv,charCode:function(t){return t.type==="keypress"?lc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SN=an(xN),IN=Re({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B_=an(IN),bN=Re({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cv}),PN=an(bN),CN=Re({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),AN=an(CN),RN=Re({},$d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DN=an(RN),kN=[9,13,27,32],dv=yr&&"CompositionEvent"in window,ya=null;yr&&"documentMode"in document&&(ya=document.documentMode);var NN=yr&&"TextEvent"in window&&!ya,uS=yr&&(!dv||ya&&8<ya&&11>=ya),U_=" ",$_=!1;function cS(t,e){switch(t){case"keyup":return kN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ds=!1;function ON(t,e){switch(t){case"compositionend":return dS(e);case"keypress":return e.which!==32?null:($_=!0,U_);case"textInput":return t=e.data,t===U_&&$_?null:t;default:return null}}function LN(t,e){if(Ds)return t==="compositionend"||!dv&&cS(t,e)?(t=lS(),ac=lv=Fr=null,Ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uS&&e.locale!=="ko"?null:e.data;default:return null}}var MN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MN[t.type]:e==="textarea"}function hS(t,e,n,r){zx(r),e=Lc(e,"onChange"),0<e.length&&(n=new uv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _a=null,Ha=null;function VN(t){xS(t,0)}function zd(t){var e=Os(t);if(Mx(e))return t}function jN(t,e){if(t==="change")return e}var fS=!1;if(yr){var Lf;if(yr){var Mf="oninput"in document;if(!Mf){var W_=document.createElement("div");W_.setAttribute("oninput","return;"),Mf=typeof W_.oninput=="function"}Lf=Mf}else Lf=!1;fS=Lf&&(!document.documentMode||9<document.documentMode)}function H_(){_a&&(_a.detachEvent("onpropertychange",pS),Ha=_a=null)}function pS(t){if(t.propertyName==="value"&&zd(Ha)){var e=[];hS(e,Ha,t,rv(t)),qx(VN,e)}}function FN(t,e,n){t==="focusin"?(H_(),_a=e,Ha=n,_a.attachEvent("onpropertychange",pS)):t==="focusout"&&H_()}function BN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zd(Ha)}function UN(t,e){if(t==="click")return zd(e)}function $N(t,e){if(t==="input"||t==="change")return zd(e)}function zN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:zN;function Ga(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qp.call(e,i)||!Dn(t[i],e[i]))return!1}return!0}function G_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function q_(t,e){var n=G_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=G_(n)}}function mS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gS(){for(var t=window,e=Cc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cc(t.document)}return e}function hv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WN(t){var e=gS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mS(n.ownerDocument.documentElement,n)){if(r!==null&&hv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=q_(n,s);var o=q_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HN=yr&&"documentMode"in document&&11>=document.documentMode,ks=null,pm=null,wa=null,mm=!1;function K_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mm||ks==null||ks!==Cc(r)||(r=ks,"selectionStart"in r&&hv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wa&&Ga(wa,r)||(wa=r,r=Lc(pm,"onSelect"),0<r.length&&(e=new uv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ks)))}function bu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ns={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionend:bu("Transition","TransitionEnd")},Vf={},vS={};yr&&(vS=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Wd(t){if(Vf[t])return Vf[t];if(!Ns[t])return t;var e=Ns[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vS)return Vf[t]=e[n];return t}var yS=Wd("animationend"),_S=Wd("animationiteration"),wS=Wd("animationstart"),ES=Wd("transitionend"),TS=new Map,Q_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(t,e){TS.set(t,e),us(e,[t])}for(var jf=0;jf<Q_.length;jf++){var Ff=Q_[jf],GN=Ff.toLowerCase(),qN=Ff[0].toUpperCase()+Ff.slice(1);mi(GN,"on"+qN)}mi(yS,"onAnimationEnd");mi(_S,"onAnimationIteration");mi(wS,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(ES,"onTransitionEnd");ro("onMouseEnter",["mouseout","mouseover"]);ro("onMouseLeave",["mouseout","mouseover"]);ro("onPointerEnter",["pointerout","pointerover"]);ro("onPointerLeave",["pointerout","pointerover"]);us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));us("onBeforeInput",["compositionend","keypress","textInput","paste"]);us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KN=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function Y_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Gk(r,e,void 0,t),t.currentTarget=null}function xS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Y_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Y_(i,a,u),s=l}}}if(Rc)throw t=cm,Rc=!1,cm=null,t}function we(t,e){var n=e[wm];n===void 0&&(n=e[wm]=new Set);var r=t+"__bubble";n.has(r)||(SS(e,t,2,!1),n.add(r))}function Bf(t,e,n){var r=0;e&&(r|=4),SS(n,t,r,e)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function qa(t){if(!t[Pu]){t[Pu]=!0,Dx.forEach(function(n){n!=="selectionchange"&&(KN.has(n)||Bf(n,!1,t),Bf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pu]||(e[Pu]=!0,Bf("selectionchange",!1,e))}}function SS(t,e,n,r){switch(aS(e)){case 1:var i=lN;break;case 4:i=uN;break;default:i=av}n=i.bind(null,e,n,t),i=void 0,!um||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Uf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Oi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}qx(function(){var u=s,c=rv(n),d=[];e:{var h=TS.get(t);if(h!==void 0){var f=uv,m=t;switch(t){case"keypress":if(lc(n)===0)break e;case"keydown":case"keyup":f=SN;break;case"focusin":m="focus",f=Of;break;case"focusout":m="blur",f=Of;break;case"beforeblur":case"afterblur":f=Of;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=j_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=hN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=PN;break;case yS:case _S:case wS:f=mN;break;case ES:f=AN;break;case"scroll":f=cN;break;case"wheel":f=DN;break;case"copy":case"cut":case"paste":f=vN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=B_}var y=(e&4)!==0,w=!y&&t==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var v=u,_;v!==null;){_=v;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,g!==null&&(E=Ua(v,g),E!=null&&y.push(Ka(v,E,_)))),w)break;v=v.return}0<y.length&&(h=new f(h,m,null,n,c),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==am&&(m=n.relatedTarget||n.fromElement)&&(Oi(m)||m[_r]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?Oi(m):null,m!==null&&(w=cs(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(y=j_,E="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=B_,E="onPointerLeave",g="onPointerEnter",v="pointer"),w=f==null?h:Os(f),_=m==null?h:Os(m),h=new y(E,v+"leave",f,n,c),h.target=w,h.relatedTarget=_,E=null,Oi(c)===u&&(y=new y(g,v+"enter",m,n,c),y.target=_,y.relatedTarget=w,E=y),w=E,f&&m)t:{for(y=f,g=m,v=0,_=y;_;_=Es(_))v++;for(_=0,E=g;E;E=Es(E))_++;for(;0<v-_;)y=Es(y),v--;for(;0<_-v;)g=Es(g),_--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Es(y),g=Es(g)}y=null}else y=null;f!==null&&X_(d,h,f,y,!1),m!==null&&w!==null&&X_(d,w,m,y,!0)}}e:{if(h=u?Os(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var x=jN;else if(z_(h))if(fS)x=$N;else{x=BN;var S=FN}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=UN);if(x&&(x=x(t,u))){hS(d,x,n,c);break e}S&&S(t,h,u),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&nm(h,"number",h.value)}switch(S=u?Os(u):window,t){case"focusin":(z_(S)||S.contentEditable==="true")&&(ks=S,pm=u,wa=null);break;case"focusout":wa=pm=ks=null;break;case"mousedown":mm=!0;break;case"contextmenu":case"mouseup":case"dragend":mm=!1,K_(d,n,c);break;case"selectionchange":if(HN)break;case"keydown":case"keyup":K_(d,n,c)}var P;if(dv)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ds?cS(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(uS&&n.locale!=="ko"&&(Ds||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ds&&(P=lS()):(Fr=c,lv="value"in Fr?Fr.value:Fr.textContent,Ds=!0)),S=Lc(u,I),0<S.length&&(I=new F_(I,t,null,n,c),d.push({event:I,listeners:S}),P?I.data=P:(P=dS(n),P!==null&&(I.data=P)))),(P=NN?ON(t,n):LN(t,n))&&(u=Lc(u,"onBeforeInput"),0<u.length&&(c=new F_("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=P))}xS(d,e)})}function Ka(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ua(t,n),s!=null&&r.unshift(Ka(t,s,i)),s=Ua(t,e),s!=null&&r.push(Ka(t,s,i))),t=t.return}return r}function Es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function X_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ua(n,s),l!=null&&o.unshift(Ka(n,l,a))):i||(l=Ua(n,s),l!=null&&o.push(Ka(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var QN=/\r\n?/g,YN=/\u0000|\uFFFD/g;function J_(t){return(typeof t=="string"?t:""+t).replace(QN,`
`).replace(YN,"")}function Cu(t,e,n){if(e=J_(e),J_(t)!==e&&n)throw Error(R(425))}function Mc(){}var gm=null,vm=null;function ym(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _m=typeof setTimeout=="function"?setTimeout:void 0,XN=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,JN=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(t){return Z_.resolve(null).then(t).catch(ZN)}:_m;function ZN(t){setTimeout(function(){throw t})}function $f(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wa(e)}function Gr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ew(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Po=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Po,Qa="__reactProps$"+Po,_r="__reactContainer$"+Po,wm="__reactEvents$"+Po,eO="__reactListeners$"+Po,tO="__reactHandles$"+Po;function Oi(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[Fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ew(t);t!==null;){if(n=t[Fn])return n;t=ew(t)}return e}t=n,n=t.parentNode}return null}function Ll(t){return t=t[Fn]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Os(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Hd(t){return t[Qa]||null}var Em=[],Ls=-1;function gi(t){return{current:t}}function Te(t){0>Ls||(t.current=Em[Ls],Em[Ls]=null,Ls--)}function ve(t,e){Ls++,Em[Ls]=t.current,t.current=e}var oi={},Pt=gi(oi),Wt=gi(!1),Yi=oi;function io(t,e){var n=t.type.contextTypes;if(!n)return oi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(t){return t=t.childContextTypes,t!=null}function Vc(){Te(Wt),Te(Pt)}function tw(t,e,n){if(Pt.current!==oi)throw Error(R(168));ve(Pt,e),ve(Wt,n)}function IS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(R(108,Fk(t)||"Unknown",i));return Re({},n,r)}function jc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||oi,Yi=Pt.current,ve(Pt,t),ve(Wt,Wt.current),!0}function nw(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=IS(t,e,Yi),r.__reactInternalMemoizedMergedChildContext=t,Te(Wt),Te(Pt),ve(Pt,t)):Te(Wt),ve(Wt,n)}var or=null,Gd=!1,zf=!1;function bS(t){or===null?or=[t]:or.push(t)}function nO(t){Gd=!0,bS(t)}function vi(){if(!zf&&or!==null){zf=!0;var t=0,e=he;try{var n=or;for(he=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}or=null,Gd=!1}catch(i){throw or!==null&&(or=or.slice(t+1)),Xx(iv,vi),i}finally{he=e,zf=!1}}return null}var Ms=[],Vs=0,Fc=null,Bc=0,hn=[],fn=0,Xi=null,lr=1,ur="";function Pi(t,e){Ms[Vs++]=Bc,Ms[Vs++]=Fc,Fc=t,Bc=e}function PS(t,e,n){hn[fn++]=lr,hn[fn++]=ur,hn[fn++]=Xi,Xi=t;var r=lr;t=ur;var i=32-An(r)-1;r&=~(1<<i),n+=1;var s=32-An(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,lr=1<<32-An(e)+i|n<<i|r,ur=s+t}else lr=1<<s|n<<i|r,ur=t}function fv(t){t.return!==null&&(Pi(t,1),PS(t,1,0))}function pv(t){for(;t===Fc;)Fc=Ms[--Vs],Ms[Vs]=null,Bc=Ms[--Vs],Ms[Vs]=null;for(;t===Xi;)Xi=hn[--fn],hn[fn]=null,ur=hn[--fn],hn[fn]=null,lr=hn[--fn],hn[fn]=null}var Zt=null,Yt=null,Se=!1,Pn=null;function CS(t,e){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function rw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Yt=Gr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xi!==null?{id:lr,overflow:ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Yt=null,!0):!1;default:return!1}}function Tm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xm(t){if(Se){var e=Yt;if(e){var n=e;if(!rw(t,e)){if(Tm(t))throw Error(R(418));e=Gr(n.nextSibling);var r=Zt;e&&rw(t,e)?CS(r,n):(t.flags=t.flags&-4097|2,Se=!1,Zt=t)}}else{if(Tm(t))throw Error(R(418));t.flags=t.flags&-4097|2,Se=!1,Zt=t}}}function iw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Au(t){if(t!==Zt)return!1;if(!Se)return iw(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ym(t.type,t.memoizedProps)),e&&(e=Yt)){if(Tm(t))throw AS(),Error(R(418));for(;e;)CS(t,e),e=Gr(e.nextSibling)}if(iw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yt=Gr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=Zt?Gr(t.stateNode.nextSibling):null;return!0}function AS(){for(var t=Yt;t;)t=Gr(t.nextSibling)}function so(){Yt=Zt=null,Se=!1}function mv(t){Pn===null?Pn=[t]:Pn.push(t)}var rO=Ir.ReactCurrentBatchConfig;function In(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Uc=gi(null),$c=null,js=null,gv=null;function vv(){gv=js=$c=null}function yv(t){var e=Uc.current;Te(Uc),t._currentValue=e}function Sm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ys(t,e){$c=t,gv=js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(gv!==t)if(t={context:t,memoizedValue:e,next:null},js===null){if($c===null)throw Error(R(308));js=t,$c.dependencies={lanes:0,firstContext:t}}else js=js.next=t;return e}var Li=null;function _v(t){Li===null?Li=[t]:Li.push(t)}function RS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_v(e)):(n.next=i.next,i.next=n),e.interleaved=n,wr(t,r)}function wr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rr=!1;function wv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wr(t,n)}return i=r.interleaved,i===null?(e.next=e,_v(r)):(e.next=i.next,i.next=e),r.interleaved=e,wr(t,n)}function uc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sv(t,n)}}function sw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zc(t,e,n,r){var i=t.updateQueue;Rr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(h=e,f=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=Re({},d,h);break e;case 2:Rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zi|=o,t.lanes=o,t.memoizedState=d}}function ow(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var kS=new Rx.Component().refs;function Im(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qd={isMounted:function(t){return(t=t._reactInternals)?cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=Qr(t),s=pr(r,i);s.payload=e,n!=null&&(s.callback=n),e=qr(t,s,i),e!==null&&(Rn(e,t,i,r),uc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=Qr(t),s=pr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qr(t,s,i),e!==null&&(Rn(e,t,i,r),uc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),r=Qr(t),i=pr(n,r);i.tag=2,e!=null&&(i.callback=e),e=qr(t,i,r),e!==null&&(Rn(e,t,r,n),uc(e,t,r))}};function aw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ga(n,r)||!Ga(i,s):!0}function NS(t,e,n){var r=!1,i=oi,s=e.contextType;return typeof s=="object"&&s!==null?s=wn(s):(i=Ht(e)?Yi:Pt.current,r=e.contextTypes,s=(r=r!=null)?io(t,i):oi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function lw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qd.enqueueReplaceState(e,e.state,null)}function bm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=kS,wv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wn(s):(s=Ht(e)?Yi:Pt.current,i.context=io(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Im(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qd.enqueueReplaceState(i,i.state,null),zc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===kS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function Ru(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uw(t){var e=t._init;return e(t._payload)}function OS(t){function e(g,v){if(t){var _=g.deletions;_===null?(g.deletions=[v],g.flags|=16):_.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Yr(g,v),g.index=0,g.sibling=null,g}function s(g,v,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<v?(g.flags|=2,v):_):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,_,E){return v===null||v.tag!==6?(v=Yf(_,g.mode,E),v.return=g,v):(v=i(v,_),v.return=g,v)}function l(g,v,_,E){var x=_.type;return x===Rs?c(g,v,_.props.children,E,_.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ar&&uw(x)===v.type)?(E=i(v,_.props),E.ref=qo(g,v,_),E.return=g,E):(E=mc(_.type,_.key,_.props,null,g.mode,E),E.ref=qo(g,v,_),E.return=g,E)}function u(g,v,_,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=Xf(_,g.mode,E),v.return=g,v):(v=i(v,_.children||[]),v.return=g,v)}function c(g,v,_,E,x){return v===null||v.tag!==7?(v=Wi(_,g.mode,E,x),v.return=g,v):(v=i(v,_),v.return=g,v)}function d(g,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Yf(""+v,g.mode,_),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _u:return _=mc(v.type,v.key,v.props,null,g.mode,_),_.ref=qo(g,null,v),_.return=g,_;case As:return v=Xf(v,g.mode,_),v.return=g,v;case Ar:var E=v._init;return d(g,E(v._payload),_)}if(sa(v)||$o(v))return v=Wi(v,g.mode,_,null),v.return=g,v;Ru(g,v)}return null}function h(g,v,_,E){var x=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(g,v,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _u:return _.key===x?l(g,v,_,E):null;case As:return _.key===x?u(g,v,_,E):null;case Ar:return x=_._init,h(g,v,x(_._payload),E)}if(sa(_)||$o(_))return x!==null?null:c(g,v,_,E,null);Ru(g,_)}return null}function f(g,v,_,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(_)||null,a(v,g,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case _u:return g=g.get(E.key===null?_:E.key)||null,l(v,g,E,x);case As:return g=g.get(E.key===null?_:E.key)||null,u(v,g,E,x);case Ar:var S=E._init;return f(g,v,_,S(E._payload),x)}if(sa(E)||$o(E))return g=g.get(_)||null,c(v,g,E,x,null);Ru(v,E)}return null}function m(g,v,_,E){for(var x=null,S=null,P=v,I=v=0,k=null;P!==null&&I<_.length;I++){P.index>I?(k=P,P=null):k=P.sibling;var N=h(g,P,_[I],E);if(N===null){P===null&&(P=k);break}t&&P&&N.alternate===null&&e(g,P),v=s(N,v,I),S===null?x=N:S.sibling=N,S=N,P=k}if(I===_.length)return n(g,P),Se&&Pi(g,I),x;if(P===null){for(;I<_.length;I++)P=d(g,_[I],E),P!==null&&(v=s(P,v,I),S===null?x=P:S.sibling=P,S=P);return Se&&Pi(g,I),x}for(P=r(g,P);I<_.length;I++)k=f(P,g,I,_[I],E),k!==null&&(t&&k.alternate!==null&&P.delete(k.key===null?I:k.key),v=s(k,v,I),S===null?x=k:S.sibling=k,S=k);return t&&P.forEach(function(F){return e(g,F)}),Se&&Pi(g,I),x}function y(g,v,_,E){var x=$o(_);if(typeof x!="function")throw Error(R(150));if(_=x.call(_),_==null)throw Error(R(151));for(var S=x=null,P=v,I=v=0,k=null,N=_.next();P!==null&&!N.done;I++,N=_.next()){P.index>I?(k=P,P=null):k=P.sibling;var F=h(g,P,N.value,E);if(F===null){P===null&&(P=k);break}t&&P&&F.alternate===null&&e(g,P),v=s(F,v,I),S===null?x=F:S.sibling=F,S=F,P=k}if(N.done)return n(g,P),Se&&Pi(g,I),x;if(P===null){for(;!N.done;I++,N=_.next())N=d(g,N.value,E),N!==null&&(v=s(N,v,I),S===null?x=N:S.sibling=N,S=N);return Se&&Pi(g,I),x}for(P=r(g,P);!N.done;I++,N=_.next())N=f(P,g,I,N.value,E),N!==null&&(t&&N.alternate!==null&&P.delete(N.key===null?I:N.key),v=s(N,v,I),S===null?x=N:S.sibling=N,S=N);return t&&P.forEach(function(Z){return e(g,Z)}),Se&&Pi(g,I),x}function w(g,v,_,E){if(typeof _=="object"&&_!==null&&_.type===Rs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case _u:e:{for(var x=_.key,S=v;S!==null;){if(S.key===x){if(x=_.type,x===Rs){if(S.tag===7){n(g,S.sibling),v=i(S,_.props.children),v.return=g,g=v;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ar&&uw(x)===S.type){n(g,S.sibling),v=i(S,_.props),v.ref=qo(g,S,_),v.return=g,g=v;break e}n(g,S);break}else e(g,S);S=S.sibling}_.type===Rs?(v=Wi(_.props.children,g.mode,E,_.key),v.return=g,g=v):(E=mc(_.type,_.key,_.props,null,g.mode,E),E.ref=qo(g,v,_),E.return=g,g=E)}return o(g);case As:e:{for(S=_.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(g,v.sibling),v=i(v,_.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=Xf(_,g.mode,E),v.return=g,g=v}return o(g);case Ar:return S=_._init,w(g,v,S(_._payload),E)}if(sa(_))return m(g,v,_,E);if($o(_))return y(g,v,_,E);Ru(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,_),v.return=g,g=v):(n(g,v),v=Yf(_,g.mode,E),v.return=g,g=v),o(g)):n(g,v)}return w}var oo=OS(!0),LS=OS(!1),Ml={},Hn=gi(Ml),Ya=gi(Ml),Xa=gi(Ml);function Mi(t){if(t===Ml)throw Error(R(174));return t}function Ev(t,e){switch(ve(Xa,e),ve(Ya,t),ve(Hn,Ml),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:im(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=im(e,t)}Te(Hn),ve(Hn,e)}function ao(){Te(Hn),Te(Ya),Te(Xa)}function MS(t){Mi(Xa.current);var e=Mi(Hn.current),n=im(e,t.type);e!==n&&(ve(Ya,t),ve(Hn,n))}function Tv(t){Ya.current===t&&(Te(Hn),Te(Ya))}var Pe=gi(0);function Wc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wf=[];function xv(){for(var t=0;t<Wf.length;t++)Wf[t]._workInProgressVersionPrimary=null;Wf.length=0}var cc=Ir.ReactCurrentDispatcher,Hf=Ir.ReactCurrentBatchConfig,Ji=0,Ae=null,ze=null,Je=null,Hc=!1,Ea=!1,Ja=0,iO=0;function gt(){throw Error(R(321))}function Sv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function Iv(t,e,n,r,i,s){if(Ji=s,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cc.current=t===null||t.memoizedState===null?lO:uO,t=n(r,i),Ea){s=0;do{if(Ea=!1,Ja=0,25<=s)throw Error(R(301));s+=1,Je=ze=null,e.updateQueue=null,cc.current=cO,t=n(r,i)}while(Ea)}if(cc.current=Gc,e=ze!==null&&ze.next!==null,Ji=0,Je=ze=Ae=null,Hc=!1,e)throw Error(R(300));return t}function bv(){var t=Ja!==0;return Ja=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ae.memoizedState=Je=t:Je=Je.next=t,Je}function En(){if(ze===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Je===null?Ae.memoizedState:Je.next;if(e!==null)Je=e,ze=t;else{if(t===null)throw Error(R(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Je===null?Ae.memoizedState=Je=t:Je=Je.next=t}return Je}function Za(t,e){return typeof e=="function"?e(t):e}function Gf(t){var e=En(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ji&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ae.lanes|=c,Zi|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Dn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ae.lanes|=s,Zi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qf(t){var e=En(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Dn(s,e.memoizedState)||(zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function VS(){}function jS(t,e){var n=Ae,r=En(),i=e(),s=!Dn(r.memoizedState,i);if(s&&(r.memoizedState=i,zt=!0),r=r.queue,Pv(US.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,el(9,BS.bind(null,n,r,i,e),void 0,null),Ze===null)throw Error(R(349));Ji&30||FS(n,e,i)}return i}function FS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BS(t,e,n,r){e.value=n,e.getSnapshot=r,$S(e)&&zS(t)}function US(t,e,n){return n(function(){$S(e)&&zS(t)})}function $S(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function zS(t){var e=wr(t,1);e!==null&&Rn(e,t,1,-1)}function cw(t){var e=Vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:t},e.queue=t,t=t.dispatch=aO.bind(null,Ae,t),[e.memoizedState,t]}function el(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WS(){return En().memoizedState}function dc(t,e,n,r){var i=Vn();Ae.flags|=t,i.memoizedState=el(1|e,n,void 0,r===void 0?null:r)}function Kd(t,e,n,r){var i=En();r=r===void 0?null:r;var s=void 0;if(ze!==null){var o=ze.memoizedState;if(s=o.destroy,r!==null&&Sv(r,o.deps)){i.memoizedState=el(e,n,s,r);return}}Ae.flags|=t,i.memoizedState=el(1|e,n,s,r)}function dw(t,e){return dc(8390656,8,t,e)}function Pv(t,e){return Kd(2048,8,t,e)}function HS(t,e){return Kd(4,2,t,e)}function GS(t,e){return Kd(4,4,t,e)}function qS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KS(t,e,n){return n=n!=null?n.concat([t]):null,Kd(4,4,qS.bind(null,e,t),n)}function Cv(){}function QS(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function YS(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XS(t,e,n){return Ji&21?(Dn(n,e)||(n=eS(),Ae.lanes|=n,Zi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function sO(t,e){var n=he;he=n!==0&&4>n?n:4,t(!0);var r=Hf.transition;Hf.transition={};try{t(!1),e()}finally{he=n,Hf.transition=r}}function JS(){return En().memoizedState}function oO(t,e,n){var r=Qr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZS(t))eI(e,n);else if(n=RS(t,e,n,r),n!==null){var i=Ot();Rn(n,t,r,i),tI(n,e,r)}}function aO(t,e,n){var r=Qr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZS(t))eI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Dn(a,o)){var l=e.interleaved;l===null?(i.next=i,_v(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=RS(t,e,i,r),n!==null&&(i=Ot(),Rn(n,t,r,i),tI(n,e,r))}}function ZS(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function eI(t,e){Ea=Hc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sv(t,n)}}var Gc={readContext:wn,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},lO={readContext:wn,useCallback:function(t,e){return Vn().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:dw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dc(4194308,4,qS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dc(4194308,4,t,e)},useInsertionEffect:function(t,e){return dc(4,2,t,e)},useMemo:function(t,e){var n=Vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oO.bind(null,Ae,t),[r.memoizedState,t]},useRef:function(t){var e=Vn();return t={current:t},e.memoizedState=t},useState:cw,useDebugValue:Cv,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=cw(!1),e=t[0];return t=sO.bind(null,t[1]),Vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ae,i=Vn();if(Se){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),Ze===null)throw Error(R(349));Ji&30||FS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,dw(US.bind(null,r,s,t),[t]),r.flags|=2048,el(9,BS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Vn(),e=Ze.identifierPrefix;if(Se){var n=ur,r=lr;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ja++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uO={readContext:wn,useCallback:QS,useContext:wn,useEffect:Pv,useImperativeHandle:KS,useInsertionEffect:HS,useLayoutEffect:GS,useMemo:YS,useReducer:Gf,useRef:WS,useState:function(){return Gf(Za)},useDebugValue:Cv,useDeferredValue:function(t){var e=En();return XS(e,ze.memoizedState,t)},useTransition:function(){var t=Gf(Za)[0],e=En().memoizedState;return[t,e]},useMutableSource:VS,useSyncExternalStore:jS,useId:JS,unstable_isNewReconciler:!1},cO={readContext:wn,useCallback:QS,useContext:wn,useEffect:Pv,useImperativeHandle:KS,useInsertionEffect:HS,useLayoutEffect:GS,useMemo:YS,useReducer:qf,useRef:WS,useState:function(){return qf(Za)},useDebugValue:Cv,useDeferredValue:function(t){var e=En();return ze===null?e.memoizedState=t:XS(e,ze.memoizedState,t)},useTransition:function(){var t=qf(Za)[0],e=En().memoizedState;return[t,e]},useMutableSource:VS,useSyncExternalStore:jS,useId:JS,unstable_isNewReconciler:!1};function lo(t,e){try{var n="",r=e;do n+=jk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Kf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Pm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dO=typeof WeakMap=="function"?WeakMap:Map;function nI(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kc||(Kc=!0,Vm=r),Pm(t,e)},n}function rI(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Pm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Pm(t,e),typeof r!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IO.bind(null,t,e,n),e.then(t,t))}function fw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,qr(n,e,1))),n.lanes|=1),t)}var hO=Ir.ReactCurrentOwner,zt=!1;function Dt(t,e,n,r){e.child=t===null?LS(e,null,n,r):oo(e,t.child,n,r)}function mw(t,e,n,r,i){n=n.render;var s=e.ref;return Ys(e,i),r=Iv(t,e,n,r,s,i),n=bv(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(Se&&n&&fv(e),e.flags|=1,Dt(t,e,r,i),e.child)}function gw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Mv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,iI(t,e,s,r,i)):(t=mc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ga,n(o,r)&&t.ref===e.ref)return Er(t,e,i)}return e.flags|=1,t=Yr(s,r),t.ref=e.ref,t.return=e,e.child=t}function iI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ga(s,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,Er(t,e,i)}return Cm(t,e,n,r,i)}function sI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Bs,Qt),Qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ve(Bs,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ve(Bs,Qt),Qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ve(Bs,Qt),Qt|=r;return Dt(t,e,i,n),e.child}function oI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cm(t,e,n,r,i){var s=Ht(n)?Yi:Pt.current;return s=io(e,s),Ys(e,i),n=Iv(t,e,n,r,s,i),r=bv(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(Se&&r&&fv(e),e.flags|=1,Dt(t,e,n,i),e.child)}function vw(t,e,n,r,i){if(Ht(n)){var s=!0;jc(e)}else s=!1;if(Ys(e,i),e.stateNode===null)hc(t,e),NS(e,n,r),bm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=wn(u):(u=Ht(n)?Yi:Pt.current,u=io(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&lw(e,o,r,u),Rr=!1;var h=e.memoizedState;o.state=h,zc(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Wt.current||Rr?(typeof c=="function"&&(Im(e,n,c,r),l=e.memoizedState),(a=Rr||aw(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,DS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:In(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Ht(n)?Yi:Pt.current,l=io(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&lw(e,o,r,l),Rr=!1,h=e.memoizedState,o.state=h,zc(e,r,o,i);var m=e.memoizedState;a!==d||h!==m||Wt.current||Rr?(typeof f=="function"&&(Im(e,n,f,r),m=e.memoizedState),(u=Rr||aw(e,n,u,r,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Am(t,e,n,r,s,i)}function Am(t,e,n,r,i,s){oI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&nw(e,n,!1),Er(t,e,s);r=e.stateNode,hO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=oo(e,t.child,null,s),e.child=oo(e,null,a,s)):Dt(t,e,a,s),e.memoizedState=r.state,i&&nw(e,n,!0),e.child}function aI(t){var e=t.stateNode;e.pendingContext?tw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tw(t,e.context,!1),Ev(t,e.containerInfo)}function yw(t,e,n,r,i){return so(),mv(i),e.flags|=256,Dt(t,e,n,r),e.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function Dm(t){return{baseLanes:t,cachePool:null,transitions:null}}function lI(t,e,n){var r=e.pendingProps,i=Pe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ve(Pe,i&1),t===null)return xm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xd(o,r,0,null),t=Wi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Dm(n),e.memoizedState=Rm,t):Av(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Yr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Yr(a,s):(s=Wi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Dm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Rm,r}return s=t.child,t=s.sibling,r=Yr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Av(t,e){return e=Xd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Du(t,e,n,r){return r!==null&&mv(r),oo(e,t.child,null,n),t=Av(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Kf(Error(R(422))),Du(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xd({mode:"visible",children:r.children},i,0,null),s=Wi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&oo(e,t.child,null,o),e.child.memoizedState=Dm(o),e.memoizedState=Rm,s);if(!(e.mode&1))return Du(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(R(419)),r=Kf(s,r,void 0),Du(t,e,o,r)}if(a=(o&t.childLanes)!==0,zt||a){if(r=Ze,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wr(t,i),Rn(r,t,i,-1))}return Lv(),r=Kf(Error(R(421))),Du(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Yt=Gr(i.nextSibling),Zt=e,Se=!0,Pn=null,t!==null&&(hn[fn++]=lr,hn[fn++]=ur,hn[fn++]=Xi,lr=t.id,ur=t.overflow,Xi=e),e=Av(e,r.children),e.flags|=4096,e)}function _w(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sm(t.return,e,n)}function Qf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Dt(t,e,r.children,n),r=Pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_w(t,n,e);else if(t.tag===19)_w(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ve(Pe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qf(e,!0,n,null,s);break;case"together":Qf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Yr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pO(t,e,n){switch(e.tag){case 3:aI(e),so();break;case 5:MS(e);break;case 1:Ht(e.type)&&jc(e);break;case 4:Ev(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ve(Uc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ve(Pe,Pe.current&1),e.flags|=128,null):n&e.child.childLanes?lI(t,e,n):(ve(Pe,Pe.current&1),t=Er(t,e,n),t!==null?t.sibling:null);ve(Pe,Pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ve(Pe,Pe.current),r)break;return null;case 22:case 23:return e.lanes=0,sI(t,e,n)}return Er(t,e,n)}var cI,km,dI,hI;cI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};km=function(){};dI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Mi(Hn.current);var s=null;switch(n){case"input":i=em(t,i),r=em(t,r),s=[];break;case"select":i=Re({},i,{value:void 0}),r=Re({},r,{value:void 0}),s=[];break;case"textarea":i=rm(t,i),r=rm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mc)}sm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};hI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ko(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mO(t,e,n){var r=e.pendingProps;switch(pv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return Ht(e.type)&&Vc(),vt(e),null;case 3:return r=e.stateNode,ao(),Te(Wt),Te(Pt),xv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Au(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pn!==null&&(Bm(Pn),Pn=null))),km(t,e),vt(e),null;case 5:Tv(e);var i=Mi(Xa.current);if(n=e.type,t!==null&&e.stateNode!=null)dI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return vt(e),null}if(t=Mi(Hn.current),Au(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Fn]=e,r[Qa]=s,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<aa.length;i++)we(aa[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":C_(r,s),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},we("invalid",r);break;case"textarea":R_(r,s),we("invalid",r)}sm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Cu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Cu(r.textContent,a,t),i=["children",""+a]):Fa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":wu(r),A_(r,s,!0);break;case"textarea":wu(r),D_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Mc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fn]=e,t[Qa]=r,cI(t,e,!1,!1),e.stateNode=t;e:{switch(o=om(n,r),n){case"dialog":we("cancel",t),we("close",t),i=r;break;case"iframe":case"object":case"embed":we("load",t),i=r;break;case"video":case"audio":for(i=0;i<aa.length;i++)we(aa[i],t);i=r;break;case"source":we("error",t),i=r;break;case"img":case"image":case"link":we("error",t),we("load",t),i=r;break;case"details":we("toggle",t),i=r;break;case"input":C_(t,r),i=em(t,r),we("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Re({},r,{value:void 0}),we("invalid",t);break;case"textarea":R_(t,r),i=rm(t,r),we("invalid",t);break;default:i=r}sm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?$x(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bx(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ba(t,l):typeof l=="number"&&Ba(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&we("scroll",t):l!=null&&Zg(t,s,l,o))}switch(n){case"input":wu(t),A_(t,r,!1);break;case"textarea":wu(t),D_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+si(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Gs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Gs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vt(e),null;case 6:if(t&&e.stateNode!=null)hI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=Mi(Xa.current),Mi(Hn.current),Au(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fn]=e,(s=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:Cu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fn]=e,e.stateNode=r}return vt(e),null;case 13:if(Te(Pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&Yt!==null&&e.mode&1&&!(e.flags&128))AS(),so(),e.flags|=98560,s=!1;else if(s=Au(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(R(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[Fn]=e}else so(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),s=!1}else Pn!==null&&(Bm(Pn),Pn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?He===0&&(He=3):Lv())),e.updateQueue!==null&&(e.flags|=4),vt(e),null);case 4:return ao(),km(t,e),t===null&&qa(e.stateNode.containerInfo),vt(e),null;case 10:return yv(e.type._context),vt(e),null;case 17:return Ht(e.type)&&Vc(),vt(e),null;case 19:if(Te(Pe),s=e.memoizedState,s===null)return vt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ko(s,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wc(t),o!==null){for(e.flags|=128,Ko(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ve(Pe,Pe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Me()>uo&&(e.flags|=128,r=!0,Ko(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ko(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Se)return vt(e),null}else 2*Me()-s.renderingStartTime>uo&&n!==1073741824&&(e.flags|=128,r=!0,Ko(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Me(),e.sibling=null,n=Pe.current,ve(Pe,r?n&1|2:n&1),e):(vt(e),null);case 22:case 23:return Ov(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function gO(t,e){switch(pv(e),e.tag){case 1:return Ht(e.type)&&Vc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ao(),Te(Wt),Te(Pt),xv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tv(e),null;case 13:if(Te(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));so()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Pe),null;case 4:return ao(),null;case 10:return yv(e.type._context),null;case 22:case 23:return Ov(),null;case 24:return null;default:return null}}var ku=!1,Et=!1,vO=typeof WeakSet=="function"?WeakSet:Set,B=null;function Fs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(t,e,r)}else n.current=null}function Nm(t,e,n){try{n()}catch(r){Ne(t,e,r)}}var ww=!1;function yO(t,e){if(gm=Nc,t=gS(),hv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vm={focusedElem:t,selectionRange:n},Nc=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,w=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:In(e.type,y),w);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(E){Ne(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return m=ww,ww=!1,m}function Ta(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Nm(e,n,s)}i=i.next}while(i!==r)}}function Qd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Om(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fI(t){var e=t.alternate;e!==null&&(t.alternate=null,fI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fn],delete e[Qa],delete e[wm],delete e[eO],delete e[tO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pI(t){return t.tag===5||t.tag===3||t.tag===4}function Ew(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mc));else if(r!==4&&(t=t.child,t!==null))for(Lm(t,e,n),t=t.sibling;t!==null;)Lm(t,e,n),t=t.sibling}function Mm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mm(t,e,n),t=t.sibling;t!==null;)Mm(t,e,n),t=t.sibling}var ot=null,bn=!1;function br(t,e,n){for(n=n.child;n!==null;)mI(t,e,n),n=n.sibling}function mI(t,e,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(Ud,n)}catch{}switch(n.tag){case 5:Et||Fs(n,e);case 6:var r=ot,i=bn;ot=null,br(t,e,n),ot=r,bn=i,ot!==null&&(bn?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(bn?(t=ot,n=n.stateNode,t.nodeType===8?$f(t.parentNode,n):t.nodeType===1&&$f(t,n),Wa(t)):$f(ot,n.stateNode));break;case 4:r=ot,i=bn,ot=n.stateNode.containerInfo,bn=!0,br(t,e,n),ot=r,bn=i;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Nm(n,e,o),i=i.next}while(i!==r)}br(t,e,n);break;case 1:if(!Et&&(Fs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ne(n,e,a)}br(t,e,n);break;case 21:br(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,br(t,e,n),Et=r):br(t,e,n);break;default:br(t,e,n)}}function Tw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vO),e.forEach(function(r){var i=PO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,bn=!1;break e;case 3:ot=a.stateNode.containerInfo,bn=!0;break e;case 4:ot=a.stateNode.containerInfo,bn=!0;break e}a=a.return}if(ot===null)throw Error(R(160));mI(s,o,i),ot=null,bn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ne(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gI(e,t),e=e.sibling}function gI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(e,t),Ln(t),r&4){try{Ta(3,t,t.return),Qd(3,t)}catch(y){Ne(t,t.return,y)}try{Ta(5,t,t.return)}catch(y){Ne(t,t.return,y)}}break;case 1:Sn(e,t),Ln(t),r&512&&n!==null&&Fs(n,n.return);break;case 5:if(Sn(e,t),Ln(t),r&512&&n!==null&&Fs(n,n.return),t.flags&32){var i=t.stateNode;try{Ba(i,"")}catch(y){Ne(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Vx(i,s),om(a,o);var u=om(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?$x(i,d):c==="dangerouslySetInnerHTML"?Bx(i,d):c==="children"?Ba(i,d):Zg(i,c,d,u)}switch(a){case"input":tm(i,s);break;case"textarea":jx(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Gs(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Gs(i,!!s.multiple,s.defaultValue,!0):Gs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qa]=s}catch(y){Ne(t,t.return,y)}}break;case 6:if(Sn(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error(R(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Ne(t,t.return,y)}}break;case 3:if(Sn(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wa(e.containerInfo)}catch(y){Ne(t,t.return,y)}break;case 4:Sn(e,t),Ln(t);break;case 13:Sn(e,t),Ln(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(kv=Me())),r&4&&Tw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(u=Et)||c,Sn(e,t),Et=u):Sn(e,t),Ln(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(B=t,c=t.child;c!==null;){for(d=B=c;B!==null;){switch(h=B,f=h.child,h.tag){case 0:case 11:case 14:case 15:Ta(4,h,h.return);break;case 1:Fs(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Ne(r,n,y)}}break;case 5:Fs(h,h.return);break;case 22:if(h.memoizedState!==null){Sw(d);continue}}f!==null?(f.return=h,B=f):Sw(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ux("display",o))}catch(y){Ne(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Ne(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Sn(e,t),Ln(t),r&4&&Tw(t);break;case 21:break;default:Sn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pI(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ba(i,""),r.flags&=-33);var s=Ew(t);Mm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ew(t);Lm(t,a,o);break;default:throw Error(R(161))}}catch(l){Ne(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _O(t,e,n){B=t,vI(t)}function vI(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ku;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Et;a=ku;var u=Et;if(ku=o,(Et=l)&&!u)for(B=i;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?Iw(i):l!==null?(l.return=o,B=l):Iw(i);for(;s!==null;)B=s,vI(s),s=s.sibling;B=i,ku=a,Et=u}xw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,B=s):xw(t)}}function xw(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||Qd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ow(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ow(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Wa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Et||e.flags&512&&Om(e)}catch(h){Ne(e,e.return,h)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function Sw(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function Iw(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qd(4,e)}catch(l){Ne(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ne(e,i,l)}}var s=e.return;try{Om(e)}catch(l){Ne(e,s,l)}break;case 5:var o=e.return;try{Om(e)}catch(l){Ne(e,o,l)}}}catch(l){Ne(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var wO=Math.ceil,qc=Ir.ReactCurrentDispatcher,Rv=Ir.ReactCurrentOwner,vn=Ir.ReactCurrentBatchConfig,ue=0,Ze=null,Be=null,ht=0,Qt=0,Bs=gi(0),He=0,tl=null,Zi=0,Yd=0,Dv=0,xa=null,Ut=null,kv=0,uo=1/0,sr=null,Kc=!1,Vm=null,Kr=null,Nu=!1,Br=null,Qc=0,Sa=0,jm=null,fc=-1,pc=0;function Ot(){return ue&6?Me():fc!==-1?fc:fc=Me()}function Qr(t){return t.mode&1?ue&2&&ht!==0?ht&-ht:rO.transition!==null?(pc===0&&(pc=eS()),pc):(t=he,t!==0||(t=window.event,t=t===void 0?16:aS(t.type)),t):1}function Rn(t,e,n,r){if(50<Sa)throw Sa=0,jm=null,Error(R(185));Nl(t,n,r),(!(ue&2)||t!==Ze)&&(t===Ze&&(!(ue&2)&&(Yd|=n),He===4&&Nr(t,ht)),Gt(t,r),n===1&&ue===0&&!(e.mode&1)&&(uo=Me()+500,Gd&&vi()))}function Gt(t,e){var n=t.callbackNode;rN(t,e);var r=kc(t,t===Ze?ht:0);if(r===0)n!==null&&O_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&O_(n),e===1)t.tag===0?nO(bw.bind(null,t)):bS(bw.bind(null,t)),JN(function(){!(ue&6)&&vi()}),n=null;else{switch(tS(r)){case 1:n=iv;break;case 4:n=Jx;break;case 16:n=Dc;break;case 536870912:n=Zx;break;default:n=Dc}n=II(n,yI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yI(t,e){if(fc=-1,pc=0,ue&6)throw Error(R(327));var n=t.callbackNode;if(Xs()&&t.callbackNode!==n)return null;var r=kc(t,t===Ze?ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yc(t,r);else{e=r;var i=ue;ue|=2;var s=wI();(Ze!==t||ht!==e)&&(sr=null,uo=Me()+500,zi(t,e));do try{xO();break}catch(a){_I(t,a)}while(!0);vv(),qc.current=s,ue=i,Be!==null?e=0:(Ze=null,ht=0,e=He)}if(e!==0){if(e===2&&(i=dm(t),i!==0&&(r=i,e=Fm(t,i))),e===1)throw n=tl,zi(t,0),Nr(t,r),Gt(t,Me()),n;if(e===6)Nr(t,r);else{if(i=t.current.alternate,!(r&30)&&!EO(i)&&(e=Yc(t,r),e===2&&(s=dm(t),s!==0&&(r=s,e=Fm(t,s))),e===1))throw n=tl,zi(t,0),Nr(t,r),Gt(t,Me()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:Ci(t,Ut,sr);break;case 3:if(Nr(t,r),(r&130023424)===r&&(e=kv+500-Me(),10<e)){if(kc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ot(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_m(Ci.bind(null,t,Ut,sr),e);break}Ci(t,Ut,sr);break;case 4:if(Nr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-An(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wO(r/1960))-r,10<r){t.timeoutHandle=_m(Ci.bind(null,t,Ut,sr),r);break}Ci(t,Ut,sr);break;case 5:Ci(t,Ut,sr);break;default:throw Error(R(329))}}}return Gt(t,Me()),t.callbackNode===n?yI.bind(null,t):null}function Fm(t,e){var n=xa;return t.current.memoizedState.isDehydrated&&(zi(t,e).flags|=256),t=Yc(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&Bm(e)),t}function Bm(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function EO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Dn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nr(t,e){for(e&=~Dv,e&=~Yd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function bw(t){if(ue&6)throw Error(R(327));Xs();var e=kc(t,0);if(!(e&1))return Gt(t,Me()),null;var n=Yc(t,e);if(t.tag!==0&&n===2){var r=dm(t);r!==0&&(e=r,n=Fm(t,r))}if(n===1)throw n=tl,zi(t,0),Nr(t,e),Gt(t,Me()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ci(t,Ut,sr),Gt(t,Me()),null}function Nv(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(uo=Me()+500,Gd&&vi())}}function es(t){Br!==null&&Br.tag===0&&!(ue&6)&&Xs();var e=ue;ue|=1;var n=vn.transition,r=he;try{if(vn.transition=null,he=1,t)return t()}finally{he=r,vn.transition=n,ue=e,!(ue&6)&&vi()}}function Ov(){Qt=Bs.current,Te(Bs)}function zi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XN(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(pv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vc();break;case 3:ao(),Te(Wt),Te(Pt),xv();break;case 5:Tv(r);break;case 4:ao();break;case 13:Te(Pe);break;case 19:Te(Pe);break;case 10:yv(r.type._context);break;case 22:case 23:Ov()}n=n.return}if(Ze=t,Be=t=Yr(t.current,null),ht=Qt=e,He=0,tl=null,Dv=Yd=Zi=0,Ut=xa=null,Li!==null){for(e=0;e<Li.length;e++)if(n=Li[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Li=null}return t}function _I(t,e){do{var n=Be;try{if(vv(),cc.current=Gc,Hc){for(var r=Ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hc=!1}if(Ji=0,Je=ze=Ae=null,Ea=!1,Ja=0,Rv.current=null,n===null||n.return===null){He=1,tl=e,Be=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=fw(o);if(f!==null){f.flags&=-257,pw(f,o,a,s,e),f.mode&1&&hw(s,u,e),e=f,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){hw(s,u,e),Lv();break e}l=Error(R(426))}}else if(Se&&a.mode&1){var w=fw(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),pw(w,o,a,s,e),mv(lo(l,a));break e}}s=l=lo(l,a),He!==4&&(He=2),xa===null?xa=[s]:xa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=nI(s,l,e);sw(s,g);break e;case 1:a=l;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Kr===null||!Kr.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=rI(s,a,e);sw(s,E);break e}}s=s.return}while(s!==null)}TI(n)}catch(x){e=x,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function wI(){var t=qc.current;return qc.current=Gc,t===null?Gc:t}function Lv(){(He===0||He===3||He===2)&&(He=4),Ze===null||!(Zi&268435455)&&!(Yd&268435455)||Nr(Ze,ht)}function Yc(t,e){var n=ue;ue|=2;var r=wI();(Ze!==t||ht!==e)&&(sr=null,zi(t,e));do try{TO();break}catch(i){_I(t,i)}while(!0);if(vv(),ue=n,qc.current=r,Be!==null)throw Error(R(261));return Ze=null,ht=0,He}function TO(){for(;Be!==null;)EI(Be)}function xO(){for(;Be!==null&&!Kk();)EI(Be)}function EI(t){var e=SI(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?TI(t):Be=e,Rv.current=null}function TI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gO(n,e),n!==null){n.flags&=32767,Be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{He=6,Be=null;return}}else if(n=mO(n,e,Qt),n!==null){Be=n;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);He===0&&(He=5)}function Ci(t,e,n){var r=he,i=vn.transition;try{vn.transition=null,he=1,SO(t,e,n,r)}finally{vn.transition=i,he=r}return null}function SO(t,e,n,r){do Xs();while(Br!==null);if(ue&6)throw Error(R(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(iN(t,s),t===Ze&&(Be=Ze=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nu||(Nu=!0,II(Dc,function(){return Xs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=he;he=1;var a=ue;ue|=4,Rv.current=null,yO(t,n),gI(n,t),WN(vm),Nc=!!gm,vm=gm=null,t.current=n,_O(n),Qk(),ue=a,he=o,vn.transition=s}else t.current=n;if(Nu&&(Nu=!1,Br=t,Qc=i),s=t.pendingLanes,s===0&&(Kr=null),Jk(n.stateNode),Gt(t,Me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kc)throw Kc=!1,t=Vm,Vm=null,t;return Qc&1&&t.tag!==0&&Xs(),s=t.pendingLanes,s&1?t===jm?Sa++:(Sa=0,jm=t):Sa=0,vi(),null}function Xs(){if(Br!==null){var t=tS(Qc),e=vn.transition,n=he;try{if(vn.transition=null,he=16>t?16:t,Br===null)var r=!1;else{if(t=Br,Br=null,Qc=0,ue&6)throw Error(R(331));var i=ue;for(ue|=4,B=t.current;B!==null;){var s=B,o=s.child;if(B.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(B=u;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:Ta(8,c,s)}var d=c.child;if(d!==null)d.return=c,B=d;else for(;B!==null;){c=B;var h=c.sibling,f=c.return;if(fI(c),c===u){B=null;break}if(h!==null){h.return=f,B=h;break}B=f}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}B=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ta(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,B=g;break e}B=s.return}}var v=t.current;for(B=v;B!==null;){o=B;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,B=_;else e:for(o=v;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qd(9,a)}}catch(x){Ne(a,a.return,x)}if(a===o){B=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,B=E;break e}B=a.return}}if(ue=i,vi(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(Ud,t)}catch{}r=!0}return r}finally{he=n,vn.transition=e}}return!1}function Pw(t,e,n){e=lo(n,e),e=nI(t,e,1),t=qr(t,e,1),e=Ot(),t!==null&&(Nl(t,1,e),Gt(t,e))}function Ne(t,e,n){if(t.tag===3)Pw(t,t,n);else for(;e!==null;){if(e.tag===3){Pw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kr===null||!Kr.has(r))){t=lo(n,t),t=rI(e,t,1),e=qr(e,t,1),t=Ot(),e!==null&&(Nl(e,1,t),Gt(e,t));break}}e=e.return}}function IO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,Ze===t&&(ht&n)===n&&(He===4||He===3&&(ht&130023424)===ht&&500>Me()-kv?zi(t,0):Dv|=n),Gt(t,e)}function xI(t,e){e===0&&(t.mode&1?(e=xu,xu<<=1,!(xu&130023424)&&(xu=4194304)):e=1);var n=Ot();t=wr(t,e),t!==null&&(Nl(t,e,n),Gt(t,n))}function bO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xI(t,n)}function PO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),xI(t,n)}var SI;SI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,pO(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Se&&e.flags&1048576&&PS(e,Bc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hc(t,e),t=e.pendingProps;var i=io(e,Pt.current);Ys(e,n),i=Iv(null,e,r,t,i,n);var s=bv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(s=!0,jc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wv(e),i.updater=qd,e.stateNode=i,i._reactInternals=e,bm(e,r,t,n),e=Am(null,e,r,!0,s,n)):(e.tag=0,Se&&s&&fv(e),Dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=AO(r),t=In(r,t),i){case 0:e=Cm(null,e,r,t,n);break e;case 1:e=vw(null,e,r,t,n);break e;case 11:e=mw(null,e,r,t,n);break e;case 14:e=gw(null,e,r,In(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),Cm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),vw(t,e,r,i,n);case 3:e:{if(aI(e),t===null)throw Error(R(387));r=e.pendingProps,s=e.memoizedState,i=s.element,DS(t,e),zc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=lo(Error(R(423)),e),e=yw(t,e,r,n,i);break e}else if(r!==i){i=lo(Error(R(424)),e),e=yw(t,e,r,n,i);break e}else for(Yt=Gr(e.stateNode.containerInfo.firstChild),Zt=e,Se=!0,Pn=null,n=LS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(so(),r===i){e=Er(t,e,n);break e}Dt(t,e,r,n)}e=e.child}return e;case 5:return MS(e),t===null&&xm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ym(r,i)?o=null:s!==null&&ym(r,s)&&(e.flags|=32),oI(t,e),Dt(t,e,o,n),e.child;case 6:return t===null&&xm(e),null;case 13:return lI(t,e,n);case 4:return Ev(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oo(e,null,r,n):Dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),mw(t,e,r,i,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ve(Uc,r._currentValue),r._currentValue=o,s!==null)if(Dn(s.value,o)){if(s.children===i.children&&!Wt.current){e=Er(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=pr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Sm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ys(e,n),i=wn(i),r=r(i),e.flags|=1,Dt(t,e,r,n),e.child;case 14:return r=e.type,i=In(r,e.pendingProps),i=In(r.type,i),gw(t,e,r,i,n);case 15:return iI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),hc(t,e),e.tag=1,Ht(r)?(t=!0,jc(e)):t=!1,Ys(e,n),NS(e,r,i),bm(e,r,i,n),Am(null,e,r,!0,t,n);case 19:return uI(t,e,n);case 22:return sI(t,e,n)}throw Error(R(156,e.tag))};function II(t,e){return Xx(t,e)}function CO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,r){return new CO(t,e,n,r)}function Mv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AO(t){if(typeof t=="function")return Mv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tv)return 11;if(t===nv)return 14}return 2}function Yr(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Mv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Rs:return Wi(n.children,i,s,e);case ev:o=8,i|=8;break;case Yp:return t=mn(12,n,e,i|2),t.elementType=Yp,t.lanes=s,t;case Xp:return t=mn(13,n,e,i),t.elementType=Xp,t.lanes=s,t;case Jp:return t=mn(19,n,e,i),t.elementType=Jp,t.lanes=s,t;case Ox:return Xd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kx:o=10;break e;case Nx:o=9;break e;case tv:o=11;break e;case nv:o=14;break e;case Ar:o=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=mn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Wi(t,e,n,r){return t=mn(7,t,r,e),t.lanes=n,t}function Xd(t,e,n,r){return t=mn(22,t,r,e),t.elementType=Ox,t.lanes=n,t.stateNode={isHidden:!1},t}function Yf(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function Xf(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Df(0),this.expirationTimes=Df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Df(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vv(t,e,n,r,i,s,o,a,l){return t=new RO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wv(s),t}function DO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:As,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bI(t){if(!t)return oi;t=t._reactInternals;e:{if(cs(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(Ht(n))return IS(t,n,e)}return e}function PI(t,e,n,r,i,s,o,a,l){return t=Vv(n,r,!0,t,i,s,o,a,l),t.context=bI(null),n=t.current,r=Ot(),i=Qr(n),s=pr(r,i),s.callback=e??null,qr(n,s,i),t.current.lanes=i,Nl(t,i,r),Gt(t,r),t}function Jd(t,e,n,r){var i=e.current,s=Ot(),o=Qr(i);return n=bI(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qr(i,e,o),t!==null&&(Rn(t,i,o,s),uc(t,i,o)),o}function Xc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jv(t,e){Cw(t,e),(t=t.alternate)&&Cw(t,e)}function kO(){return null}var CI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fv(t){this._internalRoot=t}Zd.prototype.render=Fv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));Jd(t,e,null,null)};Zd.prototype.unmount=Fv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;es(function(){Jd(null,t,null,null)}),e[_r]=null}};function Zd(t){this._internalRoot=t}Zd.prototype.unstable_scheduleHydration=function(t){if(t){var e=iS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kr.length&&e!==0&&e<kr[n].priority;n++);kr.splice(n,0,t),n===0&&oS(t)}};function Bv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Aw(){}function NO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Xc(o);s.call(u)}}var o=PI(e,r,t,0,null,!1,!1,"",Aw);return t._reactRootContainer=o,t[_r]=o.current,qa(t.nodeType===8?t.parentNode:t),es(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Xc(l);a.call(u)}}var l=Vv(t,0,!1,null,null,!1,!1,"",Aw);return t._reactRootContainer=l,t[_r]=l.current,qa(t.nodeType===8?t.parentNode:t),es(function(){Jd(e,l,n,r)}),l}function th(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Xc(o);a.call(l)}}Jd(e,o,t,i)}else o=NO(n,e,t,i,r);return Xc(o)}nS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=oa(e.pendingLanes);n!==0&&(sv(e,n|1),Gt(e,Me()),!(ue&6)&&(uo=Me()+500,vi()))}break;case 13:es(function(){var r=wr(t,1);if(r!==null){var i=Ot();Rn(r,t,1,i)}}),jv(t,1)}};ov=function(t){if(t.tag===13){var e=wr(t,134217728);if(e!==null){var n=Ot();Rn(e,t,134217728,n)}jv(t,134217728)}};rS=function(t){if(t.tag===13){var e=Qr(t),n=wr(t,e);if(n!==null){var r=Ot();Rn(n,t,e,r)}jv(t,e)}};iS=function(){return he};sS=function(t,e){var n=he;try{return he=t,e()}finally{he=n}};lm=function(t,e,n){switch(e){case"input":if(tm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hd(r);if(!i)throw Error(R(90));Mx(r),tm(r,i)}}}break;case"textarea":jx(t,n);break;case"select":e=n.value,e!=null&&Gs(t,!!n.multiple,e,!1)}};Hx=Nv;Gx=es;var OO={usingClientEntryPoint:!1,Events:[Ll,Os,Hd,zx,Wx,Nv]},Qo={findFiberByHostInstance:Oi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},LO={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qx(t),t===null?null:t.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||kO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{Ud=Ou.inject(LO),Wn=Ou}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OO;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bv(e))throw Error(R(200));return DO(t,e,null,n)};on.createRoot=function(t,e){if(!Bv(t))throw Error(R(299));var n=!1,r="",i=CI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vv(t,1,!1,null,null,n,!1,r,i),t[_r]=e.current,qa(t.nodeType===8?t.parentNode:t),new Fv(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=Qx(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return es(t)};on.hydrate=function(t,e,n){if(!eh(e))throw Error(R(200));return th(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!Bv(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=CI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=PI(e,null,t,1,n??null,i,!1,s,o),t[_r]=e.current,qa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zd(e)};on.render=function(t,e,n){if(!eh(e))throw Error(R(200));return th(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!eh(t))throw Error(R(40));return t._reactRootContainer?(es(function(){th(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};on.unstable_batchedUpdates=Nv;on.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!eh(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return th(t,e,n,!1,r)};on.version="18.2.0-next-9e3b772b8-20220608";function AI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AI)}catch(t){console.error(t)}}AI(),Px.exports=on;var Uv=Px.exports;const MO=Gg(Uv);var Rw=Uv;Kp.createRoot=Rw.createRoot,Kp.hydrateRoot=Rw.hydrateRoot;var RI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Dw=te.createContext&&te.createContext(RI),VO=["attr","size","title"];function jO(t,e){if(t==null)return{};var n=FO(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}function kw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kw(Object(n),!0).forEach(function(r){BO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BO(t,e,n){return e=UO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UO(t){var e=$O(t,"string");return typeof e=="symbol"?e:String(e)}function $O(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DI(t){return t&&t.map((e,n)=>te.createElement(e.tag,Zc({key:n},e.attr),DI(e.child)))}function rr(t){return e=>te.createElement(zO,Jc({attr:Zc({},t.attr)},e),DI(t.child))}function zO(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=jO(t,VO),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),te.createElement("svg",Jc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Zc(Zc({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&te.createElement("title",null,s),t.children)};return Dw!==void 0?te.createElement(Dw.Consumer,null,n=>e(n)):e(RI)}function WO(t){return rr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function $v(t){return rr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216.4 163.7c5.1 5 5.1 13.3.1 18.4L155.8 243h231.3c7.1 0 12.9 5.8 12.9 13s-5.8 13-12.9 13H155.8l60.8 60.9c5 5.1 4.9 13.3-.1 18.4-5.1 5-13.2 5-18.3-.1l-82.4-83c-1.1-1.2-2-2.5-2.7-4.1-.7-1.6-1-3.3-1-5 0-3.4 1.3-6.6 3.7-9.1l82.4-83c4.9-5.2 13.1-5.3 18.2-.3z"},child:[]}]})(t)}function HO(t){return rr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464.5 240.9h-6.2c-3.3-21.1-13.3-40.5-28.5-55.2-17.3-16.6-39.8-25.8-63.4-25.8-20.5 0-40 6.7-56.2 19.4-13.8 10.8-24.2 25.1-30.5 41.7-7-4.6-15.4-7.3-23.7-7.3-8.3 0-16.7 2.6-23.7 7.3-6.2-16.6-16.6-30.9-30.5-41.7-16.2-12.7-35.7-19.4-56.2-19.4-23.6 0-46.1 9.1-63.4 25.6C67 200.4 57 219.9 53.7 241h-6.2c-8 0-14.5 6.7-14.5 15s6.5 15 14.5 15h6.2c3.3 21.2 13.3 40.6 28.5 55.3 17.3 16.6 39.8 25.8 63.4 25.8 51.3 0 93.1-43 93.1-95.9v-.2c0-5.9 6.9-14.9 17.3-14.9s17.3 9 17.3 14.9v.1c0 52.9 41.8 95.9 93.1 95.9 23.7 0 46.2-9.1 63.4-25.8 15.2-14.7 25.2-34.2 28.5-55.4h6.2c8 0 14.5-6.7 14.5-15 0-8.1-6.5-14.9-14.5-14.9z"},child:[]}]})(t)}function GO(t){return rr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"152",cy:"184",r:"72"},child:[]},{tag:"path",attr:{d:"M234 296c-28.16-14.3-59.24-20-82-20-44.58 0-136 27.34-136 82v42h150v-16.07c0-19 8-38.05 22-53.93 11.17-12.68 26.81-24.45 46-34z"},child:[]},{tag:"path",attr:{d:"M340 288c-52.07 0-156 32.16-156 96v48h312v-48c0-63.84-103.93-96-156-96z"},child:[]},{tag:"circle",attr:{cx:"340",cy:"168",r:"88"},child:[]}]})(t)}function qO(t){return rr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"},child:[]}]})(t)}function KO(t){return rr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function QO(t){return rr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 8V7l-3 2-3-2v1l3 2 3-2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zM8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1zm8-6h-8V6h8v6z"},child:[]}]})(t)}function YO(t){return rr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"},child:[]}]})(t)}function XO(t){return rr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"},child:[]}]})(t)}var Nw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},NI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new ZO;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e2=function(t){const e=kI(t);return NI.encodeByteArray(e,!0)},ed=function(t){return e2(t).replace(/\./g,"")},OI=function(t){try{return NI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=()=>t2().__FIREBASE_DEFAULTS__,r2=()=>{if(typeof process>"u"||typeof Nw>"u")return;const t=Nw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},i2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OI(t[1]);return e&&JSON.parse(e)},nh=()=>{try{return n2()||r2()||i2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LI=t=>{var e,n;return(n=(e=nh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},MI=t=>{const e=LI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VI=()=>{var t;return(t=nh())===null||t===void 0?void 0:t.config},jI=t=>{var e;return(e=nh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ed(JSON.stringify(n)),ed(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function a2(){var t;const e=(t=nh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function u2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c2(){const t=Ue();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function d2(){return!a2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BI(){try{return typeof indexedDB=="object"}catch{return!1}}function h2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="FirebaseError";class ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=f2,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?p2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ir(i,a,r)}}function p2(t,e){return t.replace(m2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const m2=/\{\$([^}]+)}/g;function g2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function td(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Ow(s)&&Ow(o)){if(!td(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ow(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function la(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ua(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function v2(t,e){const n=new y2(t,e);return n.subscribe.bind(n)}class y2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jf),i.error===void 0&&(i.error=Jf),i.complete===void 0&&(i.complete=Jf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t){return t&&t._delegate?t._delegate:t}class ai{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w2=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new s2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T2(e))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ai){return this.instances.has(e)}getOptions(e=Ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ai){return this.component?this.component.multipleInstances?e:Ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function E2(t){return t===Ai?void 0:t}function T2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new w2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const S2={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},I2=ie.INFO,b2={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},P2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=b2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zv{constructor(e){this.name=e,this._logLevel=I2,this._logHandler=P2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const C2=(t,e)=>e.some(n=>t instanceof n);let Lw,Mw;function A2(){return Lw||(Lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R2(){return Mw||(Mw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UI=new WeakMap,Um=new WeakMap,$I=new WeakMap,Zf=new WeakMap,Wv=new WeakMap;function D2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&UI.set(n,t)}).catch(()=>{}),Wv.set(e,t),e}function k2(t){if(Um.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Um.set(t,e)}let $m={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$I.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function N2(t){$m=t($m)}function O2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ep(this),e,...n);return $I.set(r,e.sort?e.sort():[e]),Xr(r)}:R2().includes(t)?function(...e){return t.apply(ep(this),e),Xr(UI.get(this))}:function(...e){return Xr(t.apply(ep(this),e))}}function L2(t){return typeof t=="function"?O2(t):(t instanceof IDBTransaction&&k2(t),C2(t,A2())?new Proxy(t,$m):t)}function Xr(t){if(t instanceof IDBRequest)return D2(t);if(Zf.has(t))return Zf.get(t);const e=L2(t);return e!==t&&(Zf.set(t,e),Wv.set(e,t)),e}const ep=t=>Wv.get(t);function M2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Xr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Xr(o.result),l.oldVersion,l.newVersion,Xr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const V2=["get","getKey","getAll","getAllKeys","count"],j2=["put","add","delete","clear"],tp=new Map;function Vw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tp.get(e))return tp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=j2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||V2.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return tp.set(e,s),s}N2(t=>({...t,get:(e,n,r)=>Vw(e,n)||t.get(e,n,r),has:(e,n)=>!!Vw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function B2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zm="@firebase/app",jw="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new zv("@firebase/app"),U2="@firebase/app-compat",$2="@firebase/analytics-compat",z2="@firebase/analytics",W2="@firebase/app-check-compat",H2="@firebase/app-check",G2="@firebase/auth",q2="@firebase/auth-compat",K2="@firebase/database",Q2="@firebase/database-compat",Y2="@firebase/functions",X2="@firebase/functions-compat",J2="@firebase/installations",Z2="@firebase/installations-compat",eL="@firebase/messaging",tL="@firebase/messaging-compat",nL="@firebase/performance",rL="@firebase/performance-compat",iL="@firebase/remote-config",sL="@firebase/remote-config-compat",oL="@firebase/storage",aL="@firebase/storage-compat",lL="@firebase/firestore",uL="@firebase/firestore-compat",cL="firebase",dL="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="[DEFAULT]",hL={[zm]:"fire-core",[U2]:"fire-core-compat",[z2]:"fire-analytics",[$2]:"fire-analytics-compat",[H2]:"fire-app-check",[W2]:"fire-app-check-compat",[G2]:"fire-auth",[q2]:"fire-auth-compat",[K2]:"fire-rtdb",[Q2]:"fire-rtdb-compat",[Y2]:"fire-fn",[X2]:"fire-fn-compat",[J2]:"fire-iid",[Z2]:"fire-iid-compat",[eL]:"fire-fcm",[tL]:"fire-fcm-compat",[nL]:"fire-perf",[rL]:"fire-perf-compat",[iL]:"fire-rc",[sL]:"fire-rc-compat",[oL]:"fire-gcs",[aL]:"fire-gcs-compat",[lL]:"fire-fst",[uL]:"fire-fst-compat","fire-js":"fire-js",[cL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map,Hm=new Map;function fL(t,e){try{t.container.addComponent(e)}catch(n){ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ns(t){const e=t.name;if(Hm.has(e))return ts.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,t);for(const n of nd.values())fL(n,t);return!0}function rh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Jr=new Vl("app","Firebase",pL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=dL;function zI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jr.create("bad-app-name",{appName:String(i)});if(n||(n=VI()),!n)throw Jr.create("no-options");const s=nd.get(i);if(s){if(td(n,s.options)&&td(r,s.config))return s;throw Jr.create("duplicate-app",{appName:i})}const o=new x2(i);for(const l of Hm.values())o.addComponent(l);const a=new mL(n,r,o);return nd.set(i,a),a}function Hv(t=Wm){const e=nd.get(t);if(!e&&t===Wm&&VI())return zI();if(!e)throw Jr.create("no-app",{appName:t});return e}function Gn(t,e,n){var r;let i=(r=hL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ts.warn(a.join(" "));return}ns(new ai(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="firebase-heartbeat-database",vL=1,nl="firebase-heartbeat-store";let np=null;function WI(){return np||(np=M2(gL,vL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),np}async function yL(t){try{const n=(await WI()).transaction(nl),r=await n.objectStore(nl).get(HI(t));return await n.done,r}catch(e){if(e instanceof ir)ts.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ts.warn(n.message)}}}async function Fw(t,e){try{const r=(await WI()).transaction(nl,"readwrite");await r.objectStore(nl).put(e,HI(t)),await r.done}catch(n){if(n instanceof ir)ts.warn(n.message);else{const r=Jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ts.warn(r.message)}}}function HI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=1024,wL=30*24*60*60*1e3;class EL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Bw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=wL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bw(),{heartbeatsToSend:r,unsentEntries:i}=TL(this._heartbeatsCache.heartbeats),s=ed(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Bw(){return new Date().toISOString().substring(0,10)}function TL(t,e=_L){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Uw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Uw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BI()?h2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Uw(t){return ed(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t){ns(new ai("platform-logger",e=>new F2(e),"PRIVATE")),ns(new ai("heartbeat",e=>new EL(e),"PRIVATE")),Gn(zm,jw,t),Gn(zm,jw,"esm2017"),Gn("fire-js","")}SL("");var IL="firebase",bL="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(IL,bL,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="firebasestorage.googleapis.com",qI="storageBucket",PL=2*60*1e3,CL=10*60*1e3,AL=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke extends ir{constructor(e,n,r=0){super(rp(e),`Firebase Storage: ${n} (${rp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ke.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xe||(xe={}));function rp(t){return"storage/"+t}function Gv(){const t="An unknown error occurred, please check the error payload for server response.";return new ke(xe.UNKNOWN,t)}function RL(t){return new ke(xe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function DL(t){return new ke(xe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ke(xe.UNAUTHENTICATED,t)}function NL(){return new ke(xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function OL(t){return new ke(xe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function KI(){return new ke(xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QI(){return new ke(xe.CANCELED,"User canceled the upload/download.")}function LL(t){return new ke(xe.INVALID_URL,"Invalid URL '"+t+"'.")}function ML(t){return new ke(xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function VL(){return new ke(xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qI+"' property when initializing the app?")}function YI(){return new ke(xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jL(){return new ke(xe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function FL(){return new ke(xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BL(t){return new ke(xe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Gm(t){return new ke(xe.INVALID_ARGUMENT,t)}function XI(){return new ke(xe.APP_DELETED,"The Firebase app was deleted.")}function UL(t){return new ke(xe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ia(t,e){return new ke(xe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Yo(t){throw new ke(xe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=kt.makeFromUrl(e,n)}catch{return new kt(e,"")}if(r.path==="")return r;throw ML(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},y=n===GI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",g=new RegExp(`^https?://${y}/${i}/${w}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:f,indices:m,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<_.length;E++){const x=_[E],S=x.regex.exec(e);if(S){const P=S[x.indices.bucket];let I=S[x.indices.path];I||(I=""),r=new kt(P,I),x.postModify(r);break}}if(r==null)throw LL(e);return r}}class $L{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function d(w){i=setTimeout(()=>{i=null,t(f,l())},w)}function h(){s&&clearTimeout(s)}function f(w,...g){if(u){h();return}if(w){h(),c.call(null,w,...g);return}if(l()||o){h(),c.call(null,w,...g);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let m=!1;function y(w){m||(m=!0,h(),!u&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function WL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){return t!==void 0}function GL(t){return typeof t=="function"}function qL(t){return typeof t=="object"&&!Array.isArray(t)}function ih(t){return typeof t=="string"||t instanceof String}function $w(t){return qv()&&t instanceof Blob}function qv(){return typeof Blob<"u"}function qm(t,e,n,r){if(r<e)throw Gm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Gm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function JI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Hi||(Hi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,m)=>{this.resolve_=f,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Lu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Hi.NO_ERROR,l=s.getStatus();if(!a||ZI(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Hi.ABORT;r(!1,new Lu(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Lu(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());HL(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Gv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?XI():QI();o(l)}else{const l=KI();o(l)}};this.canceled_?n(!1,new Lu(!1,null,!0)):this.backoffId_=zL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function QL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function YL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function XL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function JL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ZL(t,e,n,r,i,s,o=!0){const a=JI(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return XL(u,e),QL(u,n),YL(u,s),JL(u,r),new KL(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tM(...t){const e=eM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(qv())return new Blob(t);throw new ke(xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){if(typeof atob>"u")throw BL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ip{constructor(e,n){this.data=e,this.contentType=n||null}}function iM(t,e){switch(t){case Un.RAW:return new ip(eb(e));case Un.BASE64:case Un.BASE64URL:return new ip(tb(t,e));case Un.DATA_URL:return new ip(oM(e),aM(e))}throw Gv()}function eb(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function sM(t){let e;try{e=decodeURIComponent(t)}catch{throw Ia(Un.DATA_URL,"Malformed data URL.")}return eb(e)}function tb(t,e){switch(t){case Un.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Ia(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Un.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Ia(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=rM(e)}catch(i){throw i.message.includes("polyfill")?i:Ia(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class nb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ia(Un.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=lM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function oM(t){const e=new nb(t);return e.base64?tb(Un.BASE64,e.rest):sM(e.rest)}function aM(t){return new nb(t).contentType}function lM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){let r=0,i="";$w(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if($w(this.data_)){const r=this.data_,i=nM(r,e,n);return i===null?null:new Or(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Or(r,!0)}}static getBlob(...e){if(qv()){const n=e.map(r=>r instanceof Or?r.data_:r);return new Or(tM.apply(null,n))}else{const n=e.map(o=>ih(o)?iM(Un.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Or(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t){let e;try{e=JSON.parse(t)}catch{return null}return qL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function rb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t,e){return e}class At{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||dM}}let Mu=null;function hM(t){return!ih(t)||t.length<2?t:rb(t)}function ib(){if(Mu)return Mu;const t=[];t.push(new At("bucket")),t.push(new At("generation")),t.push(new At("metageneration")),t.push(new At("name","fullPath",!0));function e(s,o){return hM(o)}const n=new At("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new At("size");return i.xform=r,t.push(i),t.push(new At("timeCreated")),t.push(new At("updated")),t.push(new At("md5Hash",null,!0)),t.push(new At("cacheControl",null,!0)),t.push(new At("contentDisposition",null,!0)),t.push(new At("contentEncoding",null,!0)),t.push(new At("contentLanguage",null,!0)),t.push(new At("contentType",null,!0)),t.push(new At("metadata","customMetadata",!0)),Mu=t,Mu}function fM(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new kt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function pM(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return fM(r,t),r}function sb(t,e,n){const r=Kv(e);return r===null?null:pM(t,r,n)}function mM(t,e,n,r){const i=Kv(e);if(i===null||!ih(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=hs(h,n,r),m=JI({alt:"media",token:u});return f+m})[0]}function ob(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="prefixes",Ww="items";function gM(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[zw])for(const i of n[zw]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new kt(e,s));r.prefixes.push(o)}if(n[Ww])for(const i of n[Ww]){const s=t._makeStorageReference(new kt(e,i.name));r.items.push(s)}return r}function vM(t,e,n){const r=Kv(n);return r===null?null:gM(t,e,r)}class yi{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t){if(!t)throw Gv()}function Qv(t,e){function n(r,i){const s=sb(t,i,e);return qn(s!==null),s}return n}function yM(t,e){function n(r,i){const s=vM(t,e,i);return qn(s!==null),s}return n}function _M(t,e){function n(r,i){const s=sb(t,i,e);return qn(s!==null),mM(s,i,t.host,t._protocol)}return n}function Co(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=NL():i=kL():n.getStatus()===402?i=DL(t.bucket):n.getStatus()===403?i=OL(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Yv(t){const e=Co(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=RL(t.path)),s.serverResponse=i.serverResponse,s}return n}function wM(t,e,n){const r=e.fullServerUrl(),i=hs(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new yi(i,s,Qv(t,n),o);return a.errorHandler=Yv(e),a}function EM(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=hs(o,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,c=new yi(a,l,yM(t,e.bucket),u);return c.urlParams=s,c.errorHandler=Co(e),c}function TM(t,e,n){const r=e.fullServerUrl(),i=hs(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new yi(i,s,_M(t,n),o);return a.errorHandler=Yv(e),a}function xM(t,e){const n=e.fullServerUrl(),r=hs(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new yi(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=Yv(e),a}function SM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ab(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=SM(null,e)),r}function IM(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let E=0;E<2;E++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=ab(e,r,i),c=ob(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=Or.getBlob(d,r,h);if(f===null)throw YI();const m={name:u.fullPath},y=hs(s,t.host,t._protocol),w="POST",g=t.maxUploadRetryTime,v=new yi(y,w,Qv(t,n),g);return v.urlParams=m,v.headers=o,v.body=f.uploadData(),v.errorHandler=Co(e),v}class rd{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Xv(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{qn(!1)}return qn(!!n&&(e||["active"]).indexOf(n)!==-1),n}function bM(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=ab(e,r,i),a={name:o.fullPath},l=hs(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=ob(o,n),h=t.maxUploadRetryTime;function f(y){Xv(y);let w;try{w=y.getResponseHeader("X-Goog-Upload-URL")}catch{qn(!1)}return qn(ih(w)),w}const m=new yi(l,u,f,h);return m.urlParams=a,m.headers=c,m.body=d,m.errorHandler=Co(e),m}function PM(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=Xv(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qn(!1)}d||qn(!1);const h=Number(d);return qn(!isNaN(h)),new rd(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new yi(n,o,s,a);return l.headers=i,l.errorHandler=Co(e),l}const Hw=256*1024;function CM(t,e,n,r,i,s,o,a){const l=new rd(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw jL();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let f="";c===0?f="finalize":u===c?f="upload, finalize":f="upload";const m={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},y=r.slice(d,h);if(y===null)throw YI();function w(E,x){const S=Xv(E,["active","final"]),P=l.current+c,I=r.size();let k;return S==="final"?k=Qv(e,s)(E,x):k=null,new rd(P,I,S==="final",k)}const g="POST",v=e.maxUploadRetryTime,_=new yi(n,g,w,v);return _.headers=m,_.body=y.uploadData(),_.progressCallback=a||null,_.errorHandler=Co(t),_}const Ft={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sp(t){switch(t){case"running":case"pausing":case"canceling":return Ft.RUNNING;case"paused":return Ft.PAUSED;case"success":return Ft.SUCCESS;case"canceled":return Ft.CANCELED;case"error":return Ft.ERROR;default:return Ft.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n,r){if(GL(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class RM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Yo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class DM extends RM{initXhr(){this.xhr_.responseType="text"}}function Lr(){return new DM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=ib(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(xe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(ZI(i.status,[]))if(s)i=KI();else{this.sleepTime=Math.max(this.sleepTime*2,AL),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(xe.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=bM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Lr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=PM(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Lr,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Hw*this._chunkMultiplier,n=new rd(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=CM(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Lr,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Hw*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=wM(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Lr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=IM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Lr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=QI(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=sp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new AM(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(sp(this._state)){case Ft.SUCCESS:Ts(this._resolve.bind(null,this.snapshot))();break;case Ft.CANCELED:case Ft.ERROR:const n=this._reject;Ts(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(sp(this._state)){case Ft.RUNNING:case Ft.PAUSED:e.next&&Ts(e.next.bind(e,this.snapshot))();break;case Ft.SUCCESS:e.complete&&Ts(e.complete.bind(e))();break;case Ft.CANCELED:case Ft.ERROR:e.error&&Ts(e.error.bind(e,this._error))();break;default:e.error&&Ts(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n){this._service=e,n instanceof kt?this._location=n:this._location=kt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new rs(e,n)}get root(){const e=new kt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rb(this._location.path)}get storage(){return this._service}get parent(){const e=uM(this._location.path);if(e===null)return null;const n=new kt(this._location.bucket,e);return new rs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw UL(e)}}function NM(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new kM(t,new Or(e),n)}function OM(t){const e={prefixes:[],items:[]};return lb(t,e).then(()=>e)}async function lb(t,e,n){const i=await LM(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await lb(t,e,i.nextPageToken)}function LM(t,e){e!=null&&typeof e.maxResults=="number"&&qm("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=EM(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Lr)}function MM(t){t._throwIfRoot("getDownloadURL");const e=TM(t.storage,t._location,ib());return t.storage.makeRequestWithTokens(e,Lr).then(n=>{if(n===null)throw FL();return n})}function VM(t){t._throwIfRoot("deleteObject");const e=xM(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Lr)}function jM(t,e){const n=cM(t._location.path,e),r=new kt(t._location.bucket,n);return new rs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t){return/^[A-Za-z]+:\/\//.test(t)}function BM(t,e){return new rs(t,e)}function ub(t,e){if(t instanceof Jv){const n=t;if(n._bucket==null)throw VL();const r=new rs(n,n._bucket);return e!=null?ub(r,e):r}else return e!==void 0?jM(t,e):t}function UM(t,e){if(e&&FM(e)){if(t instanceof Jv)return BM(t,e);throw Gm("To use ref(service, url), the first argument must be a Storage instance.")}else return ub(t,e)}function Gw(t,e){const n=e==null?void 0:e[qI];return n==null?null:kt.makeFromBucketSpec(n,t)}function $M(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:FI(i,t.app.options.projectId))}class Jv{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=GI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=PL,this._maxUploadRetryTime=CL,this._requests=new Set,i!=null?this._bucket=kt.makeFromBucketSpec(i,this._host):this._bucket=Gw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=kt.makeFromBucketSpec(this._url,e):this._bucket=Gw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new $L(XI());{const o=ZL(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const qw="@firebase/storage",Kw="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="storage";function zM(t,e,n){return t=Ve(t),NM(t,e,n)}function WM(t){return t=Ve(t),OM(t)}function HM(t){return t=Ve(t),MM(t)}function Qw(t){return t=Ve(t),VM(t)}function Vu(t,e){return t=Ve(t),UM(t,e)}function GM(t=Hv(),e){t=Ve(t);const r=rh(t,cb).getImmediate({identifier:e}),i=MI("storage");return i&&qM(r,...i),r}function qM(t,e,n,r={}){$M(t,e,n,r)}function KM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Jv(n,r,i,e,ds)}function QM(){ns(new ai(cb,KM,"PUBLIC").setMultipleInstances(!0)),Gn(qw,Kw,""),Gn(qw,Kw,"esm2017")}QM();var YM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j,Zv=Zv||{},Y=YM||self;function sh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Fl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function XM(t){return Object.prototype.hasOwnProperty.call(t,op)&&t[op]||(t[op]=++JM)}var op="closure_uid_"+(1e9*Math.random()>>>0),JM=0;function ZM(t,e,n){return t.call.apply(t.bind,arguments)}function eV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function St(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?St=ZM:St=eV,St.apply(null,arguments)}function ju(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function rt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function _i(){this.s=this.s,this.o=this.o}var tV=0;_i.prototype.s=!1;_i.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),tV!=0)&&XM(this)};_i.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const db=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ey(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Yw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(sh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function It(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var nV=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Y.addEventListener("test",n,e),Y.removeEventListener("test",n,e)}catch{}return t}();function rl(t){return/^[\s\xa0]*$/.test(t)}function oh(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function Bn(t){return oh().indexOf(t)!=-1}function ty(t){return ty[" "](t),t}ty[" "]=function(){};function rV(t,e){var n=QV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var iV=Bn("Opera"),co=Bn("Trident")||Bn("MSIE"),hb=Bn("Edge"),Km=hb||co,fb=Bn("Gecko")&&!(oh().toLowerCase().indexOf("webkit")!=-1&&!Bn("Edge"))&&!(Bn("Trident")||Bn("MSIE"))&&!Bn("Edge"),sV=oh().toLowerCase().indexOf("webkit")!=-1&&!Bn("Edge");function pb(){var t=Y.document;return t?t.documentMode:void 0}var Qm;e:{var ap="",lp=function(){var t=oh();if(fb)return/rv:([^\);]+)(\)|;)/.exec(t);if(hb)return/Edge\/([\d\.]+)/.exec(t);if(co)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(sV)return/WebKit\/(\S+)/.exec(t);if(iV)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(lp&&(ap=lp?lp[1]:""),co){var up=pb();if(up!=null&&up>parseFloat(ap)){Qm=String(up);break e}}Qm=ap}var Ym;if(Y.document&&co){var Xw=pb();Ym=Xw||parseInt(Qm,10)||void 0}else Ym=void 0;var oV=Ym;function il(t,e){if(It.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(fb){e:{try{ty(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:aV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&il.$.h.call(this)}}rt(il,It);var aV={2:"touch",3:"pen",4:"mouse"};il.prototype.h=function(){il.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Bl="closure_listenable_"+(1e6*Math.random()|0),lV=0;function uV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++lV,this.fa=this.ia=!1}function ah(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ny(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function cV(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function mb(t){const e={};for(const n in t)e[n]=t[n];return e}const Jw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gb(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Jw.length;s++)n=Jw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function lh(t){this.src=t,this.g={},this.h=0}lh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Jm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new uV(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Xm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=db(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ah(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Jm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var ry="closure_lm_"+(1e6*Math.random()|0),cp={};function vb(t,e,n,r,i){if(r&&r.once)return _b(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)vb(t,e[s],n,r,i);return null}return n=oy(n),t&&t[Bl]?t.O(e,n,Fl(r)?!!r.capture:!!r,i):yb(t,e,n,!1,r,i)}function yb(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Fl(i)?!!i.capture:!!i,a=sy(t);if(a||(t[ry]=a=new lh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=dV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nV||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Eb(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function dV(){function t(n){return e.call(t.src,t.listener,n)}const e=hV;return t}function _b(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_b(t,e[s],n,r,i);return null}return n=oy(n),t&&t[Bl]?t.P(e,n,Fl(r)?!!r.capture:!!r,i):yb(t,e,n,!0,r,i)}function wb(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)wb(t,e[s],n,r,i);else r=Fl(r)?!!r.capture:!!r,n=oy(n),t&&t[Bl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Jm(s,n,r,i),-1<n&&(ah(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=sy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Jm(e,n,r,i)),(n=-1<t?e[t]:null)&&iy(n))}function iy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Bl])Xm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Eb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=sy(e))?(Xm(n,t),n.h==0&&(n.src=null,e[ry]=null)):ah(t)}}}function Eb(t){return t in cp?cp[t]:cp[t]="on"+t}function hV(t,e){if(t.fa)t=!0;else{e=new il(e,this);var n=t.listener,r=t.la||t.src;t.ia&&iy(t),t=n.call(r,e)}return t}function sy(t){return t=t[ry],t instanceof lh?t:null}var dp="__closure_events_fn_"+(1e9*Math.random()>>>0);function oy(t){return typeof t=="function"?t:(t[dp]||(t[dp]=function(e){return t.handleEvent(e)}),t[dp])}function tt(){_i.call(this),this.i=new lh(this),this.S=this,this.J=null}rt(tt,_i);tt.prototype[Bl]=!0;tt.prototype.removeEventListener=function(t,e,n,r){wb(this,t,e,n,r)};function ft(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new It(e,t);else if(e instanceof It)e.target=e.target||t;else{var i=e;e=new It(r,t),gb(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Fu(o,r,!0,e)&&i}if(o=e.g=t,i=Fu(o,r,!0,e)&&i,i=Fu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Fu(o,r,!1,e)&&i}tt.prototype.N=function(){if(tt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ah(n[r]);delete t.g[e],t.h--}}this.J=null};tt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};tt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Fu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Xm(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var ay=Y.JSON.stringify;class fV{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function pV(){var t=ly;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class mV{constructor(){this.h=this.g=null}add(e,n){const r=Tb.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Tb=new fV(()=>new gV,t=>t.reset());class gV{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function vV(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function yV(t){Y.setTimeout(()=>{throw t},0)}let sl,ol=!1,ly=new mV,xb=()=>{const t=Y.Promise.resolve(void 0);sl=()=>{t.then(_V)}};var _V=()=>{for(var t;t=pV();){try{t.h.call(t.g)}catch(n){yV(n)}var e=Tb;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ol=!1};function uh(t,e){tt.call(this),this.h=t||1,this.g=e||Y,this.j=St(this.qb,this),this.l=Date.now()}rt(uh,tt);j=uh.prototype;j.ga=!1;j.T=null;j.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ft(this,"tick"),this.ga&&(uy(this),this.start()))}};j.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function uy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}j.N=function(){uh.$.N.call(this),uy(this),delete this.g};function cy(t,e,n){if(typeof t=="function")n&&(t=St(t,n));else if(t&&typeof t.handleEvent=="function")t=St(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function Sb(t){t.g=cy(()=>{t.g=null,t.i&&(t.i=!1,Sb(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class wV extends _i{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Sb(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function al(t){_i.call(this),this.h=t,this.g={}}rt(al,_i);var Zw=[];function Ib(t,e,n,r){Array.isArray(n)||(n&&(Zw[0]=n.toString()),n=Zw);for(var i=0;i<n.length;i++){var s=vb(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function bb(t){ny(t.g,function(e,n){this.g.hasOwnProperty(n)&&iy(e)},t),t.g={}}al.prototype.N=function(){al.$.N.call(this),bb(this)};al.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ch(){this.g=!0}ch.prototype.Ea=function(){this.g=!1};function EV(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function TV(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Us(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+SV(t,n)+(r?" "+r:"")})}function xV(t,e){t.info(function(){return"TIMEOUT: "+e})}ch.prototype.info=function(){};function SV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return ay(n)}catch{return e}}var fs={},eE=null;function dh(){return eE=eE||new tt}fs.Ta="serverreachability";function Pb(t){It.call(this,fs.Ta,t)}rt(Pb,It);function ll(t){const e=dh();ft(e,new Pb(e))}fs.STAT_EVENT="statevent";function Cb(t,e){It.call(this,fs.STAT_EVENT,t),this.stat=e}rt(Cb,It);function Nt(t){const e=dh();ft(e,new Cb(e,t))}fs.Ua="timingevent";function Ab(t,e){It.call(this,fs.Ua,t),this.size=e}rt(Ab,It);function Ul(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}var hh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Rb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function dy(){}dy.prototype.h=null;function tE(t){return t.h||(t.h=t.i())}function Db(){}var $l={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hy(){It.call(this,"d")}rt(hy,It);function fy(){It.call(this,"c")}rt(fy,It);var Zm;function fh(){}rt(fh,dy);fh.prototype.g=function(){return new XMLHttpRequest};fh.prototype.i=function(){return{}};Zm=new fh;function zl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new al(this),this.P=IV,t=Km?125:void 0,this.V=new uh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new kb}function kb(){this.i=null,this.g="",this.h=!1}var IV=45e3,Nb={},eg={};j=zl.prototype;j.setTimeout=function(t){this.P=t};function tg(t,e,n){t.L=1,t.A=mh(Tr(e)),t.u=n,t.S=!0,Ob(t,null)}function Ob(t,e){t.G=Date.now(),Wl(t),t.B=Tr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),$b(n.i,"t",r),t.o=0,n=t.l.J,t.h=new kb,t.g=uP(t.l,n?e:null,!t.u),0<t.O&&(t.M=new wV(St(t.Pa,t,t.g),t.O)),Ib(t.U,t.g,"readystatechange",t.nb),e=t.I?mb(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ll(),EV(t.j,t.v,t.B,t.m,t.W,t.u)}j.nb=function(t){t=t.target;const e=this.M;e&&$n(t)==3?e.l():this.Pa(t)};j.Pa=function(t){try{if(t==this.g)e:{const c=$n(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Km||this.g&&(this.h.h||this.g.ja()||sE(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?ll(3):ll(2)),ph(this);var n=this.g.da();this.ca=n;t:if(Lb(this)){var r=sE(this.g);t="";var i=r.length,s=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vi(this),ba(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,TV(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rl(a)){var u=a;break t}}u=null}if(n=u)Us(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ng(this,n);else{this.i=!1,this.s=3,Nt(12),Vi(this),ba(this);break e}}this.S?(Mb(this,c,o),Km&&this.i&&c==3&&(Ib(this.U,this.V,"tick",this.mb),this.V.start())):(Us(this.j,this.m,o,null),ng(this,o)),c==4&&Vi(this),this.i&&!this.J&&(c==4?sP(this.l,this):(this.i=!1,Wl(this)))}else GV(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Vi(this),ba(this)}}}catch{}finally{}};function Lb(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Mb(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=bV(t,n),i==eg){e==4&&(t.s=4,Nt(14),r=!1),Us(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Nb){t.s=4,Nt(15),Us(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Us(t.j,t.m,i,null),ng(t,i);Lb(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Nt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),_y(e),e.M=!0,Nt(11))):(Us(t.j,t.m,n,"[Invalid Chunked Response]"),Vi(t),ba(t))}j.mb=function(){if(this.g){var t=$n(this.g),e=this.g.ja();this.o<e.length&&(ph(this),Mb(this,t,e),this.i&&t!=4&&Wl(this))}};function bV(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?eg:(n=Number(e.substring(n,r)),isNaN(n)?Nb:(r+=1,r+n>e.length?eg:(e=e.slice(r,r+n),t.o=r+n,e)))}j.cancel=function(){this.J=!0,Vi(this)};function Wl(t){t.Y=Date.now()+t.P,Vb(t,t.P)}function Vb(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ul(St(t.lb,t),e)}function ph(t){t.C&&(Y.clearTimeout(t.C),t.C=null)}j.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(xV(this.j,this.B),this.L!=2&&(ll(),Nt(17)),Vi(this),this.s=2,ba(this)):Vb(this,this.Y-t)};function ba(t){t.l.H==0||t.J||sP(t.l,t)}function Vi(t){ph(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,uy(t.V),bb(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ng(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||rg(n.i,t))){if(!t.K&&rg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)od(n),_h(n);else break e;yy(n),Nt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ul(St(n.ib,n),6e3));if(1>=Hb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ji(n,11)}else if((t.K||n.g==t)&&od(n),!rl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(py(s,s.h),s.h=null))}if(r.F){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Ee(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=lP(r,r.J?r.pa:null,r.Y),o.K){Gb(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(ph(a),Wl(a)),r.g=o}else rP(r);0<n.j.length&&wh(n)}else u[0]!="stop"&&u[0]!="close"||ji(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ji(n,7):vy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ll(4)}catch{}}function PV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(sh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function CV(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(sh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function jb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(sh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=CV(t),r=PV(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Fb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Gi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Gi){this.h=t.h,id(this,t.j),this.s=t.s,this.g=t.g,sd(this,t.m),this.l=t.l;var e=t.i,n=new ul;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),nE(this,n),this.o=t.o}else t&&(e=String(t).match(Fb))?(this.h=!1,id(this,e[1]||"",!0),this.s=ca(e[2]||""),this.g=ca(e[3]||"",!0),sd(this,e[4]),this.l=ca(e[5]||"",!0),nE(this,e[6]||"",!0),this.o=ca(e[7]||"")):(this.h=!1,this.i=new ul(null,this.h))}Gi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(da(e,rE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(da(e,rE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(da(n,n.charAt(0)=="/"?kV:DV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",da(n,OV)),t.join("")};function Tr(t){return new Gi(t)}function id(t,e,n){t.j=n?ca(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function nE(t,e,n){e instanceof ul?(t.i=e,LV(t.i,t.h)):(n||(e=da(e,NV)),t.i=new ul(e,t.h))}function Ee(t,e,n){t.i.set(e,n)}function mh(t){return Ee(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ca(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function da(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,RV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function RV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var rE=/[#\/\?@]/g,DV=/[#\?:]/g,kV=/[#\?]/g,NV=/[#\?@]/g,OV=/#/g;function ul(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wi(t){t.g||(t.g=new Map,t.h=0,t.i&&AV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}j=ul.prototype;j.add=function(t,e){wi(this),this.i=null,t=Ao(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Bb(t,e){wi(t),e=Ao(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ub(t,e){return wi(t),e=Ao(t,e),t.g.has(e)}j.forEach=function(t,e){wi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};j.ta=function(){wi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};j.Z=function(t){wi(this);let e=[];if(typeof t=="string")Ub(this,t)&&(e=e.concat(this.g.get(Ao(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};j.set=function(t,e){return wi(this),this.i=null,t=Ao(this,t),Ub(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};j.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function $b(t,e,n){Bb(t,e),0<n.length&&(t.i=null,t.g.set(Ao(t,e),ey(n)),t.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ao(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function LV(t,e){e&&!t.j&&(wi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Bb(this,r),$b(this,i,n))},t)),t.j=e}var MV=class{constructor(t,e){this.g=t,this.map=e}};function zb(t){this.l=t||VV,Y.PerformanceNavigationTiming?(t=Y.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var VV=10;function Wb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Hb(t){return t.h?1:t.g?t.g.size:0}function rg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function py(t,e){t.g?t.g.add(e):t.h=e}function Gb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}zb.prototype.cancel=function(){if(this.i=qb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function qb(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ey(t.i)}var jV=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function FV(){this.g=new jV}function BV(t,e,n){const r=n||"";try{jb(t,function(i,s){let o=i;Fl(i)&&(o=ay(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function UV(t,e){const n=new ch;if(Y.Image){const r=new Image;r.onload=ju(Bu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ju(Bu,n,r,"TestLoadImage: error",!1,e),r.onabort=ju(Bu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ju(Bu,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Bu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function gh(t){this.l=t.ec||null,this.j=t.ob||!1}rt(gh,dy);gh.prototype.g=function(){return new vh(this.l,this.j)};gh.prototype.i=function(t){return function(){return t}}({});function vh(t,e){tt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=my,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rt(vh,tt);var my=0;j=vh.prototype;j.open=function(t,e){if(this.readyState!=my)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cl(this)};j.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hl(this)),this.readyState=my};j.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cl(this)),this.g&&(this.readyState=3,cl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Kb(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Kb(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}j.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Hl(this):cl(this),this.readyState==3&&Kb(this)}};j.Za=function(t){this.g&&(this.response=this.responseText=t,Hl(this))};j.Ya=function(t){this.g&&(this.response=t,Hl(this))};j.ka=function(){this.g&&Hl(this)};function Hl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cl(t)}j.setRequestHeader=function(t,e){this.v.append(t,e)};j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function cl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(vh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var $V=Y.JSON.parse;function Oe(t){tt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Qb,this.L=this.M=!1}rt(Oe,tt);var Qb="",zV=/^https?$/i,WV=["POST","PUT"];j=Oe.prototype;j.Oa=function(t){this.M=t};j.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zm.g(),this.C=this.u?tE(this.u):tE(Zm),this.g.onreadystatechange=St(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){iE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Y.FormData&&t instanceof Y.FormData,!(0<=db(WV,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Jb(this),0<this.B&&((this.L=HV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=St(this.ua,this)):this.A=cy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){iE(this,s)}};function HV(t){return co&&typeof t.timeout=="number"&&t.ontimeout!==void 0}j.ua=function(){typeof Zv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ft(this,"timeout"),this.abort(8))};function iE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Yb(t),yh(t)}function Yb(t){t.F||(t.F=!0,ft(t,"complete"),ft(t,"error"))}j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ft(this,"complete"),ft(this,"abort"),yh(this))};j.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yh(this,!0)),Oe.$.N.call(this)};j.La=function(){this.s||(this.G||this.v||this.l?Xb(this):this.kb())};j.kb=function(){Xb(this)};function Xb(t){if(t.h&&typeof Zv<"u"&&(!t.C[1]||$n(t)!=4||t.da()!=2)){if(t.v&&$n(t)==4)cy(t.La,0,t);else if(ft(t,"readystatechange"),$n(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(Fb)[1]||null;!i&&Y.self&&Y.self.location&&(i=Y.self.location.protocol.slice(0,-1)),r=!zV.test(i?i.toLowerCase():"")}n=r}if(n)ft(t,"complete"),ft(t,"success");else{t.m=6;try{var s=2<$n(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Yb(t)}}finally{yh(t)}}}}function yh(t,e){if(t.g){Jb(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ft(t,"ready");try{n.onreadystatechange=r}catch{}}}function Jb(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}j.isActive=function(){return!!this.g};function $n(t){return t.g?t.g.readyState:0}j.da=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}};j.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),$V(e)}};function sE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Qb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function GV(t){const e={};t=(t.g&&2<=$n(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(rl(t[r]))continue;var n=vV(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}cV(e,function(r){return r.join(", ")})}j.Ia=function(){return this.m};j.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Zb(t){let e="";return ny(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function gy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Zb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ee(t,e,n))}function Xo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eP(t){this.Ga=0,this.j=[],this.l=new ch,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xo("baseRetryDelayMs",5e3,t),this.hb=Xo("retryDelaySeedMs",1e4,t),this.eb=Xo("forwardChannelMaxRetries",2,t),this.xa=Xo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new zb(t&&t.concurrentRequestLimit),this.Ja=new FV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}j=eP.prototype;j.ra=8;j.H=1;function vy(t){if(tP(t),t.H==3){var e=t.W++,n=Tr(t.I);if(Ee(n,"SID",t.K),Ee(n,"RID",e),Ee(n,"TYPE","terminate"),Gl(t,n),e=new zl(t,t.l,e),e.L=2,e.A=mh(Tr(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Y.Image&&(new Image().src=e.A,n=!0),n||(e.g=uP(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Wl(e)}aP(t)}function _h(t){t.g&&(_y(t),t.g.cancel(),t.g=null)}function tP(t){_h(t),t.u&&(Y.clearTimeout(t.u),t.u=null),od(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Y.clearTimeout(t.m),t.m=null)}function wh(t){if(!Wb(t.i)&&!t.m){t.m=!0;var e=t.Na;sl||xb(),ol||(sl(),ol=!0),ly.add(e,t),t.C=0}}function qV(t,e){return Hb(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ul(St(t.Na,t,e),oP(t,t.C)),t.C++,!0)}j.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new zl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=mb(s),gb(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=nP(this,i,e),n=Tr(this.I),Ee(n,"RID",t),Ee(n,"CVER",22),this.F&&Ee(n,"X-HTTP-Session-Id",this.F),Gl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Zb(s)))+"&"+e:this.o&&gy(n,this.o,s)),py(this.i,i),this.bb&&Ee(n,"TYPE","init"),this.P?(Ee(n,"$req",e),Ee(n,"SID","null"),i.aa=!0,tg(i,n,null)):tg(i,n,e),this.H=2}}else this.H==3&&(t?oE(this,t):this.j.length==0||Wb(this.i)||oE(this))};function oE(t,e){var n;e?n=e.m:n=t.W++;const r=Tr(t.I);Ee(r,"SID",t.K),Ee(r,"RID",n),Ee(r,"AID",t.V),Gl(t,r),t.o&&t.s&&gy(r,t.o,t.s),n=new zl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=nP(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),py(t.i,n),tg(n,r,e)}function Gl(t,e){t.na&&ny(t.na,function(n,r){Ee(e,r,n)}),t.h&&jb({},function(n,r){Ee(e,r,n)})}function nP(t,e,n){n=Math.min(t.j.length,n);var r=t.h?St(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{BV(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function rP(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;sl||xb(),ol||(sl(),ol=!0),ly.add(e,t),t.A=0}}function yy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ul(St(t.Ma,t),oP(t,t.A)),t.A++,!0)}j.Ma=function(){if(this.u=null,iP(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ul(St(this.jb,this),t)}};j.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nt(10),_h(this),iP(this))};function _y(t){t.B!=null&&(Y.clearTimeout(t.B),t.B=null)}function iP(t){t.g=new zl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Tr(t.wa);Ee(e,"RID","rpc"),Ee(e,"SID",t.K),Ee(e,"AID",t.V),Ee(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ee(e,"TO",t.qa),Ee(e,"TYPE","xmlhttp"),Gl(t,e),t.o&&t.s&&gy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=mh(Tr(e)),n.u=null,n.S=!0,Ob(n,t)}j.ib=function(){this.v!=null&&(this.v=null,_h(this),yy(this),Nt(19))};function od(t){t.v!=null&&(Y.clearTimeout(t.v),t.v=null)}function sP(t,e){var n=null;if(t.g==e){od(t),_y(t),t.g=null;var r=2}else if(rg(t.i,e))n=e.F,Gb(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=dh(),ft(r,new Ab(r,n)),wh(t)}else rP(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&qV(t,e)||r==2&&yy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ji(t,5);break;case 4:ji(t,10);break;case 3:ji(t,6);break;default:ji(t,2)}}}function oP(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ji(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=St(t.pb,t);n||(n=new Gi("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||id(n,"https"),mh(n)),UV(n.toString(),r)}else Nt(2);t.H=0,t.h&&t.h.za(e),aP(t),tP(t)}j.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Nt(2)):(this.l.info("Failed to ping google.com"),Nt(1))};function aP(t){if(t.H=0,t.ma=[],t.h){const e=qb(t.i);(e.length!=0||t.j.length!=0)&&(Yw(t.ma,e),Yw(t.ma,t.j),t.i.i.length=0,ey(t.j),t.j.length=0),t.h.ya()}}function lP(t,e,n){var r=n instanceof Gi?Tr(n):new Gi(n);if(r.g!="")e&&(r.g=e+"."+r.g),sd(r,r.m);else{var i=Y.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Gi(null);r&&id(s,r),e&&(s.g=e),i&&sd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ee(r,n,e),Ee(r,"VER",t.ra),Gl(t,r),r}function uP(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Oe(new gh({ob:n})):new Oe(t.va),e.Oa(t.J),e}j.isActive=function(){return!!this.h&&this.h.isActive(this)};function cP(){}j=cP.prototype;j.Ba=function(){};j.Aa=function(){};j.za=function(){};j.ya=function(){};j.isActive=function(){return!0};j.Va=function(){};function ad(){if(co&&!(10<=Number(oV)))throw Error("Environmental error: no available transport.")}ad.prototype.g=function(t,e){return new rn(t,e)};function rn(t,e){tt.call(this),this.g=new eP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!rl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ro(this)}rt(rn,tt);rn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Nt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=lP(t,null,t.Y),wh(t)};rn.prototype.close=function(){vy(this.g)};rn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ay(t),t=n);e.j.push(new MV(e.fb++,t)),e.H==3&&wh(e)};rn.prototype.N=function(){this.g.h=null,delete this.j,vy(this.g),delete this.g,rn.$.N.call(this)};function dP(t){hy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}rt(dP,hy);function hP(){fy.call(this),this.status=1}rt(hP,fy);function Ro(t){this.g=t}rt(Ro,cP);Ro.prototype.Ba=function(){ft(this.g,"a")};Ro.prototype.Aa=function(t){ft(this.g,new dP(t))};Ro.prototype.za=function(t){ft(this.g,new hP)};Ro.prototype.ya=function(){ft(this.g,"b")};function KV(){this.blockSize=-1}function kn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}rt(kn,KV);kn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function hp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}kn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)hp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){hp(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){hp(this,r),i=0;break}}this.h=i,this.i+=e};kn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function fe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var QV={};function wy(t){return-128<=t&&128>t?rV(t,function(e){return new fe([e|0],0>e?-1:0)}):new fe([t|0],0>t?-1:0)}function zn(t){if(isNaN(t)||!isFinite(t))return Js;if(0>t)return ut(zn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ig;return new fe(e,0)}function fP(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ut(fP(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zn(Math.pow(e,8)),r=Js,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=zn(Math.pow(e,s)),r=r.R(s).add(zn(o))):(r=r.R(n),r=r.add(zn(o)))}return r}var ig=4294967296,Js=wy(0),sg=wy(1),aE=wy(16777216);j=fe.prototype;j.ea=function(){if(pn(this))return-ut(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ig+r)*e,e*=ig}return t};j.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(cr(this))return"0";if(pn(this))return"-"+ut(this).toString(t);for(var e=zn(Math.pow(t,6)),n=this,r="";;){var i=ud(n,e).g;n=ld(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,cr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};j.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function cr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function pn(t){return t.h==-1}j.X=function(t){return t=ld(this,t),pn(t)?-1:cr(t)?0:1};function ut(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new fe(n,~t.h).add(sg)}j.abs=function(){return pn(this)?ut(this):this};j.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new fe(n,n[n.length-1]&-2147483648?-1:0)};function ld(t,e){return t.add(ut(e))}j.R=function(t){if(cr(this)||cr(t))return Js;if(pn(this))return pn(t)?ut(this).R(ut(t)):ut(ut(this).R(t));if(pn(t))return ut(this.R(ut(t)));if(0>this.X(aE)&&0>t.X(aE))return zn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Uu(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Uu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Uu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Uu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new fe(n,0)};function Uu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Jo(t,e){this.g=t,this.h=e}function ud(t,e){if(cr(e))throw Error("division by zero");if(cr(t))return new Jo(Js,Js);if(pn(t))return e=ud(ut(t),e),new Jo(ut(e.g),ut(e.h));if(pn(e))return e=ud(t,ut(e)),new Jo(ut(e.g),e.h);if(30<t.g.length){if(pn(t)||pn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=sg,r=e;0>=r.X(t);)n=lE(n),r=lE(r);var i=xs(n,1),s=xs(r,1);for(r=xs(r,2),n=xs(n,2);!cr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=xs(r,1),n=xs(n,1)}return e=ld(t,i.R(e)),new Jo(i,e)}for(i=Js;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=zn(n),o=s.R(e);pn(o)||0<o.X(t);)n-=r,s=zn(n),o=s.R(e);cr(s)&&(s=sg),i=i.add(s),t=ld(t,o)}return new Jo(i,t)}j.gb=function(t){return ud(this,t).h};j.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new fe(n,this.h&t.h)};j.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new fe(n,this.h|t.h)};j.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new fe(n,this.h^t.h)};function lE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new fe(n,t.h)}function xs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new fe(i,t.h)}ad.prototype.createWebChannel=ad.prototype.g;rn.prototype.send=rn.prototype.u;rn.prototype.open=rn.prototype.m;rn.prototype.close=rn.prototype.close;hh.NO_ERROR=0;hh.TIMEOUT=8;hh.HTTP_ERROR=6;Rb.COMPLETE="complete";Db.EventType=$l;$l.OPEN="a";$l.CLOSE="b";$l.ERROR="c";$l.MESSAGE="d";tt.prototype.listen=tt.prototype.O;Oe.prototype.listenOnce=Oe.prototype.P;Oe.prototype.getLastError=Oe.prototype.Sa;Oe.prototype.getLastErrorCode=Oe.prototype.Ia;Oe.prototype.getStatus=Oe.prototype.da;Oe.prototype.getResponseJson=Oe.prototype.Wa;Oe.prototype.getResponseText=Oe.prototype.ja;Oe.prototype.send=Oe.prototype.ha;Oe.prototype.setWithCredentials=Oe.prototype.Oa;kn.prototype.digest=kn.prototype.l;kn.prototype.reset=kn.prototype.reset;kn.prototype.update=kn.prototype.j;fe.prototype.add=fe.prototype.add;fe.prototype.multiply=fe.prototype.R;fe.prototype.modulo=fe.prototype.gb;fe.prototype.compare=fe.prototype.X;fe.prototype.toNumber=fe.prototype.ea;fe.prototype.toString=fe.prototype.toString;fe.prototype.getBits=fe.prototype.D;fe.fromNumber=zn;fe.fromString=fP;var YV=function(){return new ad},XV=function(){return dh()},fp=hh,JV=Rb,ZV=fs,uE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$u=Db,ej=Oe,tj=kn,Zs=fe;const cE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new zv("@firebase/firestore");function Zo(){return is.logLevel}function V(t,...e){if(is.logLevel<=ie.DEBUG){const n=e.map(Ey);is.debug(`Firestore (${Do}): ${t}`,...n)}}function er(t,...e){if(is.logLevel<=ie.ERROR){const n=e.map(Ey);is.error(`Firestore (${Do}): ${t}`,...n)}}function ho(t,...e){if(is.logLevel<=ie.WARN){const n=e.map(Ey);is.warn(`Firestore (${Do}): ${t}`,...n)}}function Ey(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: `+t;throw er(e),new Error(e)}function ye(t,e){t||Q()}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class rj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ij{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new pP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new wt(e)}}class sj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.R=n.token,new aj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=uj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function fo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ge(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.timestamp=e}static fromTimestamp(e){return new X(e)}static min(){return new X(new Ge(0,0))}static max(){return new X(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return dl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ie extends dl{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const cj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends dl{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return cj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H(Ie.fromString(e))}static fromName(e){return new H(Ie.fromString(e).popFirst(5))}static empty(){return new H(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new Ie(e.slice()))}}function dj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new li(i,H.empty(),e)}function hj(t){return new li(t.readTime,t.key,-1)}class li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new li(X.min(),H.empty(),-1)}static max(){return new li(X.max(),H.empty(),-1)}}function fj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==pj)throw t;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,r)=>{n(e)})}static reject(e){return new C((n,r)=>{r(e)})}static waitFor(e){return new C((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=C.resolve(!1);for(const r of e)n=n.next(i=>i?C.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new C((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new C((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Kn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Pa(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=xy(r.target.error);this.V.reject(new Pa(e,i))}}static open(e,n,r,i){try{return new Ty(n,e.transaction(i,r))}catch(s){throw new Pa(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(V("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new vj(n)}}class Fi{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Fi.S(Ue())===12.2&&er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return V("SimpleDb","Removing database:",e),Ni(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!BI())return!1;if(Fi.C())return!0;const e=Ue(),n=Fi.S(e),r=0<n&&n<10,i=Fi.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(V("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Pa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new $(A.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new $(A.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Pa(e,o))},i.onupgradeneeded=s=>{V("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{V("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Ty.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),C.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(V("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class gj{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ni(this.k.delete())}}class Pa extends ${constructor(e,n){super(A.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Kl(t){return t.name==="IndexedDbTransactionError"}class vj{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(V("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(V("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ni(r)}add(e){return V("SimpleDb","ADD",this.store.name,e,e),Ni(this.store.add(e))}get(e){return Ni(this.store.get(e)).next(n=>(n===void 0&&(n=null),V("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return V("SimpleDb","DELETE",this.store.name,e),Ni(this.store.delete(e))}count(){return V("SimpleDb","COUNT",this.store.name),Ni(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new C((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new C((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){V("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new C((r,i)=>{n.onerror=s=>{const o=xy(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new C((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new gj(a),u=n(a.primaryKey,a.value,l);if(u instanceof C){const c=u.catch(d=>(l.done(),C.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>C.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ni(t){return new C((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=xy(r.target.error);n(i)}})}let dE=!1;function xy(t){const e=Fi.S(Ue());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new $("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dE||(dE=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Sy._e=-1;function Eh(t){return t==null}function cd(t){return t===0&&1/t==-1/0}function yj(t){return typeof t=="number"&&Number.isInteger(t)&&!cd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||lt.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lt.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??lt.RED,this.left=i??lt.EMPTY,this.right=s??lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new lt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}lt.EMPTY=null,lt.RED=!0,lt.BLACK=!1;lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fE(this.data.getIterator())}getIteratorFrom(e){return new fE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class fE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new pt(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new vP("Invalid base64 string: "+s):s}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const _j=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(t){if(ye(!!t),typeof t=="string"){let e=0;const n=_j.exec(t);if(ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ss(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function by(t){const e=t.mapValue.fields.__previous_value__;return Iy(e)?by(e):e}function hl(t){const e=ui(t.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class fl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iy(t)?4:Ej(t)?9007199254740991:10:Q()}function tr(t,e){if(t===e)return!0;const n=os(t);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hl(t).isEqual(hl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ui(i.timestampValue),a=ui(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ss(i.bytesValue).isEqual(ss(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Fe(i.geoPointValue.latitude)===Fe(s.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Fe(i.integerValue)===Fe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Fe(i.doubleValue),a=Fe(s.doubleValue);return o===a?cd(o)===cd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return fo(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(hE(o)!==hE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!tr(o[l],a[l])))return!1;return!0}(t,e);default:return Q()}}function pl(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function po(t,e){if(t===e)return 0;const n=os(t),r=os(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Fe(s.integerValue||s.doubleValue),l=Fe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return pE(t.timestampValue,e.timestampValue);case 4:return pE(hl(t),hl(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ss(s),l=ss(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=de(a[u],l[u]);if(c!==0)return c}return de(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=de(Fe(s.latitude),Fe(o.latitude));return a!==0?a:de(Fe(s.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=po(a[u],l[u]);if(c)return c}return de(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Wu.mapValue&&o===Wu.mapValue)return 0;if(s===Wu.mapValue)return 1;if(o===Wu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=de(l[d],c[d]);if(h!==0)return h;const f=po(a[l[d]],u[c[d]]);if(f!==0)return f}return de(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Q()}}function pE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=ui(t),r=ui(e),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function mo(t){return og(t)}function og(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ui(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ss(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=og(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${og(n.fields[o])}`;return i+"}"}(t.mapValue):Q()}function ag(t){return!!t&&"integerValue"in t}function Py(t){return!!t&&"arrayValue"in t}function mE(t){return!!t&&"nullValue"in t}function gE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gc(t){return!!t&&"mapValue"in t}function Ca(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ps(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ca(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ca(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ej(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ca(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ca(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ps(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $t(Ca(this.value))}}function yP(t){const e=[];return ps(t.fields,(n,r)=>{const i=new ct([n]);if(gc(r)){const s=yP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Tt(e,0,X.min(),X.min(),X.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new Tt(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new Tt(e,2,n,X.min(),X.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,X.min(),X.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.position=e,this.inclusive=n}}function vE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=po(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function yE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Tj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{}class We extends _P{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Sj(e,n,r):n==="array-contains"?new Pj(e,r):n==="in"?new Cj(e,r):n==="not-in"?new Aj(e,r):n==="array-contains-any"?new Rj(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ij(e,r):new bj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(po(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends _P{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new nr(e,n)}matches(e){return wP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function wP(t){return t.op==="and"}function EP(t){return xj(t)&&wP(t)}function xj(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function lg(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+mo(t.value);if(EP(t))return t.filters.map(e=>lg(e)).join(",");{const e=t.filters.map(n=>lg(n)).join(",");return`${t.op}(${e})`}}function TP(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&tr(r.value,i.value)}(t,e):t instanceof nr?function(r,i){return i instanceof nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&TP(o,i.filters[a]),!0):!1}(t,e):void Q()}function xP(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(xP).join(" ,")+"}"}(t):"Filter"}class Sj extends We{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ij extends We{constructor(e,n){super(e,"in",n),this.keys=SP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bj extends We{constructor(e,n){super(e,"not-in",n),this.keys=SP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function SP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class Pj extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Py(n)&&pl(n.arrayValue,this.value)}}class Cj extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pl(this.value.arrayValue,n)}}class Aj extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pl(this.value.arrayValue,n)}}class Rj extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Py(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function _E(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Dj(t,e,n,r,i,s,o)}function Cy(t){const e=J(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Eh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mo(r)).join(",")),e.ce=n}return e.ce}function Ay(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Tj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yE(t.startAt,e.startAt)&&yE(t.endAt,e.endAt)}function ug(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function kj(t,e,n,r,i,s,o,a){return new Th(t,e,n,r,i,s,o,a)}function Ry(t){return new Th(t)}function wE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Nj(t){return t.collectionGroup!==null}function Aa(t){const e=J(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pt(ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new hd(s,r))}),n.has(ct.keyField().canonicalString())||e.le.push(new hd(ct.keyField(),r))}return e.le}function Qn(t){const e=J(t);return e.he||(e.he=Oj(e,Aa(t))),e.he}function Oj(t,e){if(t.limitType==="F")return _E(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new hd(i.field,s)});const n=t.endAt?new dd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dd(t.startAt.position,t.startAt.inclusive):null;return _E(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cg(t,e,n){return new Th(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xh(t,e){return Ay(Qn(t),Qn(e))&&t.limitType===e.limitType}function IP(t){return`${Cy(Qn(t))}|lt:${t.limitType}`}function bs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xP(i)).join(", ")}]`),Eh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>mo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>mo(i)).join(",")),`Target(${r})`}(Qn(t))}; limitType=${t.limitType})`}function Sh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Aa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=vE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Aa(r),i)||r.endAt&&!function(o,a,l){const u=vE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Aa(r),i))}(t,e)}function Lj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bP(t){return(e,n)=>{let r=!1;for(const i of Aa(t)){const s=Mj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Mj(t,e,n){const r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?po(l,u):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=new De(H.comparator);function xr(){return Vj}const PP=new De(H.comparator);function ha(...t){let e=PP;for(const n of t)e=e.insert(n.key,n);return e}function CP(t){let e=PP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bi(){return Ra()}function AP(){return Ra()}function Ra(){return new ko(t=>t.toString(),(t,e)=>t.isEqual(e))}const jj=new De(H.comparator),Fj=new pt(H.comparator);function ne(...t){let e=Fj;for(const n of t)e=e.add(n);return e}const Bj=new pt(de);function Uj(){return Bj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(e)?"-0":e}}function DP(t){return{integerValue:""+t}}function $j(t,e){return yj(e)?DP(e):RP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function zj(t,e,n){return t instanceof fd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Iy(s)&&(s=by(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ml?NP(t,e):t instanceof gl?OP(t,e):function(i,s){const o=kP(i,s),a=EE(o)+EE(i.Ie);return ag(o)&&ag(i.Ie)?DP(a):RP(i.serializer,a)}(t,e)}function Wj(t,e,n){return t instanceof ml?NP(t,e):t instanceof gl?OP(t,e):n}function kP(t,e){return t instanceof pd?function(r){return ag(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class fd extends Ih{}class ml extends Ih{constructor(e){super(),this.elements=e}}function NP(t,e){const n=LP(e);for(const r of t.elements)n.some(i=>tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class gl extends Ih{constructor(e){super(),this.elements=e}}function OP(t,e){let n=LP(e);for(const r of t.elements)n=n.filter(i=>!tr(i,r));return{arrayValue:{values:n}}}class pd extends Ih{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function EE(t){return Fe(t.integerValue||t.doubleValue)}function LP(t){return Py(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Hj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ml&&i instanceof ml||r instanceof gl&&i instanceof gl?fo(r.elements,i.elements,tr):r instanceof pd&&i instanceof pd?tr(r.Ie,i.Ie):r instanceof fd&&i instanceof fd}(t.transform,e.transform)}class Gj{constructor(e,n){this.version=e,this.transformResults=n}}class yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bh{}function MP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dy(t.key,yn.none()):new Ql(t.key,t.data,yn.none());{const n=t.data,r=$t.empty();let i=new pt(ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ei(t.key,r,new Xt(i.toArray()),yn.none())}}function qj(t,e,n){t instanceof Ql?function(i,s,o){const a=i.value.clone(),l=xE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ei?function(i,s,o){if(!vc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=xE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(VP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Da(t,e,n,r){return t instanceof Ql?function(s,o,a,l){if(!vc(s.precondition,o))return a;const u=s.value.clone(),c=SE(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ei?function(s,o,a,l){if(!vc(s.precondition,o))return a;const u=SE(s.fieldTransforms,l,o),c=o.data;return c.setAll(VP(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return vc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Kj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=kP(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function TE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fo(r,i,(s,o)=>Hj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ql extends bh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ei extends bh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xE(t,e,n){const r=new Map;ye(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Wj(o,a,n[i]))}return r}function SE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,zj(s,o,e))}return r}class Dy extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qj extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&qj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Da(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Da(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=MP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(n,r)=>TE(n,r))&&fo(this.baseMutations,e.baseMutations,(n,r)=>TE(n,r))}}class ky{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length);let i=function(){return jj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ky(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,se;function Zj(t){switch(t){default:return Q();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function jP(t){if(t===void 0)return er("GRPC error has no .code"),A.UNKNOWN;switch(t){case je.OK:return A.OK;case je.CANCELLED:return A.CANCELLED;case je.UNKNOWN:return A.UNKNOWN;case je.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case je.INTERNAL:return A.INTERNAL;case je.UNAVAILABLE:return A.UNAVAILABLE;case je.UNAUTHENTICATED:return A.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case je.NOT_FOUND:return A.NOT_FOUND;case je.ALREADY_EXISTS:return A.ALREADY_EXISTS;case je.PERMISSION_DENIED:return A.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case je.ABORTED:return A.ABORTED;case je.OUT_OF_RANGE:return A.OUT_OF_RANGE;case je.UNIMPLEMENTED:return A.UNIMPLEMENTED;case je.DATA_LOSS:return A.DATA_LOSS;default:return Q()}}(se=je||(je={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=new Zs([4294967295,4294967295],0);function IE(t){const e=eF().encode(t),n=new tj;return n.update(e),new Uint8Array(n.digest())}function bE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zs([n,r],0),new Zs([i,s],0)]}class Ny{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fa(`Invalid padding: ${n}`);if(r<0)throw new fa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fa(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Zs.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Zs.fromNumber(r)));return i.compare(tF)===1&&(i=new Zs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=IE(e),[r,i]=bE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ny(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=IE(e),[r,i]=bE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ph(X.min(),i,new De(de),xr(),ne())}}class Yl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yl(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class FP{constructor(e,n){this.targetId=e,this.fe=n}}class BP{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PE{constructor(){this.ge=0,this.pe=AE(),this.ye=Ct.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ne(),n=ne(),r=ne();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new Yl(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=AE()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ye(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class nF{constructor(e){this.Le=e,this.ke=new Map,this.qe=xr(),this.Qe=CE(),this.Ke=new De(de)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(ug(s))if(r===0){const o=new H(s.path);this.We(n,o,Tt.newNoDocument(o,X.min()))}else ye(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ss(r).toUint8Array()}catch(l){if(l instanceof vP)return ho("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ny(o,i,s)}catch(l){return ho(l instanceof fa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&ug(a.target)){const l=new H(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Tt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ne();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Ph(e,n,this.Ke,this.qe,r);return this.qe=xr(),this.Qe=CE(),this.Ke=new De(de),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new PE,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new pt(de),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new PE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function CE(){return new De(H.comparator)}function AE(){return new De(H.comparator)}const rF={asc:"ASCENDING",desc:"DESCENDING"},iF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sF={and:"AND",or:"OR"};class oF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dg(t,e){return t.useProto3Json||Eh(e)?e:{value:e}}function md(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aF(t,e){return md(t,e.toTimestamp())}function Yn(t){return ye(!!t),X.fromTimestamp(function(n){const r=ui(n);return new Ge(r.seconds,r.nanos)}(t))}function Oy(t,e){return hg(t,e).canonicalString()}function hg(t,e){const n=function(i){return new Ie(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $P(t){const e=Ie.fromString(t);return ye(qP(e)),e}function fg(t,e){return Oy(t.databaseId,e.path)}function pp(t,e){const n=$P(e);if(n.get(1)!==t.databaseId.projectId)throw new $(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(WP(n))}function zP(t,e){return Oy(t.databaseId,e)}function lF(t){const e=$P(t);return e.length===4?Ie.emptyPath():WP(e)}function pg(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WP(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function RE(t,e,n){return{name:fg(t,e),fields:n.value.mapValue.fields}}function uF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ye(c===void 0||typeof c=="string"),Ct.fromBase64String(c||"")):(ye(c===void 0||c instanceof Uint8Array),Ct.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?A.UNKNOWN:jP(u.code);return new $(c,u.message||"")}(o);n=new BP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pp(t,r.document.name),s=Yn(r.document.updateTime),o=r.document.createTime?Yn(r.document.createTime):X.min(),a=new $t({mapValue:{fields:r.document.fields}}),l=Tt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new yc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pp(t,r.document),s=r.readTime?Yn(r.readTime):X.min(),o=Tt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new yc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pp(t,r.document),s=r.removedTargetIds||[];n=new yc([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Jj(i,s),a=r.targetId;n=new FP(a,o)}}return n}function cF(t,e){let n;if(e instanceof Ql)n={update:RE(t,e.key,e.value)};else if(e instanceof Dy)n={delete:fg(t,e.key)};else if(e instanceof Ei)n={update:RE(t,e.key,e.data),updateMask:_F(e.fieldMask)};else{if(!(e instanceof Qj))return Q();n={verify:fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof fd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ml)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pd)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:aF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(t,e.precondition)),n}function dF(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Yn(i.updateTime):Yn(s);return o.isEqual(X.min())&&(o=Yn(s)),new Gj(o,i.transformResults||[])}(n,e))):[]}function hF(t,e){return{documents:[zP(t,e.path)]}}function fF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zP(t,i);const s=function(u){if(u.length!==0)return GP(nr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Ps(h.field),direction:gF(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=dg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function pF(t){let e=lF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ye(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=HP(d);return h instanceof nr&&EP(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new hd(Cs(m.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Eh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new dd(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new dd(f,h)}(n.endAt)),kj(e,i,o,s,a,"F",l,u)}function mF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cs(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cs(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Cs(n.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Cs(n.unaryFilter.field);return We.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return We.create(Cs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(r=>HP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function gF(t){return rF[t]}function vF(t){return iF[t]}function yF(t){return sF[t]}function Ps(t){return{fieldPath:t.canonicalString()}}function Cs(t){return ct.fromServerFormat(t.fieldPath)}function GP(t){return t instanceof We?function(n){if(n.op==="=="){if(gE(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NAN"}};if(mE(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gE(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NAN"}};if(mE(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(n.field),op:vF(n.op),value:n.value}}}(t):t instanceof nr?function(n){const r=n.getFilters().map(i=>GP(i));return r.length===1?r[0]:{compositeFilter:{op:yF(n.op),filters:r}}}(t):Q()}function _F(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r,i,s=X.min(),o=X.min(),a=Ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.ct=e}}function EF(t){const e=pF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this._n=new xF}addToCollectionParentIndex(e,n){return this._n.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return C.resolve()}deleteFieldIndex(e,n){return C.resolve()}deleteAllFieldIndexes(e){return C.resolve()}createTargetIndexes(e,n){return C.resolve()}getDocumentsMatchingTarget(e,n){return C.resolve(null)}getIndexType(e,n){return C.resolve(0)}getFieldIndexes(e,n){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,n){return C.resolve(li.min())}getMinOffsetFromCollectionGroup(e,n){return C.resolve(li.min())}updateCollectionGroup(e,n,r){return C.resolve()}updateIndexEntries(e,n){return C.resolve()}}class xF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(Ie.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new go(0)}static Bn(){return new go(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.changes=new ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?C.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Da(r.mutation,i,Xt.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=Bi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ha();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xr();const o=Ra(),a=function(){return Ra()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ei)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Da(c.mutation,u,c.mutation.getFieldMask(),Ge.now())):o.set(u.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new IF(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ra();let i=new De((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Xt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ne()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=AP();c.forEach(h=>{if(!s.has(h)){const f=MP(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return C.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Nj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):C.resolve(Bi());let a=-1,l=s;return o.next(u=>C.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?C.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ne())).next(c=>({batchId:a,changes:CP(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=ha();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ha();return this.indexManager.getCollectionParents(e,s).next(a=>C.forEach(a,l=>{const u=function(d,h){return new Th(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Tt.newInvalidDocument(c)))});let a=ha();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Da(c.mutation,u,Xt.empty(),Ge.now()),Sh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return C.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yn(i.createTime)}}(n)),C.resolve()}getNamedQuery(e,n){return C.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:EF(i.bundledQuery),readTime:Yn(i.readTime)}}(n)),C.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.overlays=new De(H.comparator),this.hr=new Map}getOverlay(e,n){return C.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bi();return C.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),C.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),C.resolve()}getOverlaysForCollection(e,n,r){const i=Bi(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return C.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new De((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Bi(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Bi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return C.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Xj(n,r));let s=this.hr.get(n);s===void 0&&(s=ne(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.Pr=new pt(Xe.Ir),this.Tr=new pt(Xe.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Xe(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Xe(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new H(new Ie([])),r=new Xe(n,e),i=new Xe(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new H(new Ie([])),r=new Xe(n,e),i=new Xe(n,e+1);let s=ne();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Xe(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xe{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return H.comparator(e.key,n.key)||de(e.pr,n.pr)}static Er(e,n){return de(e.pr,n.pr)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new pt(Xe.Ir)}checkEmpty(e){return C.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Yj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Xe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,n){return C.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xe(n,0),i=new Xe(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(de);return n.forEach(i=>{const s=new Xe(i,0),o=new Xe(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),C.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new Xe(new H(s),0);let a=new pt(de);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),C.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return C.forEach(n.mutations,i=>{const s=new Xe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Xe(n,0),i=this.wr.firstAfterOrEqual(r);return C.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,C.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.vr=e,this.docs=function(){return new De(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return C.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=xr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tt.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xr();const o=n.path,a=new H(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||fj(hj(c),r)<=0||(i.has(c.key)||Sh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q()}Fr(e,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new DF(this)}getSize(e){return C.resolve(this.size)}}class DF extends SF{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),C.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.persistence=e,this.Mr=new ko(n=>Cy(n),Ay),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ly,this.targetCount=0,this.Br=go.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),C.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new go(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.qn(n),C.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return C.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),C.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),C.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return C.resolve(r)}containsKey(e,n){return C.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Sy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new kF(this),this.indexManager=new TF,this.remoteDocumentCache=function(i){return new RF(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new wF(n),this.$r=new PF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new AF(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);const i=new OF(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return C.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class OF extends mj{constructor(e){super(),this.currentSequenceNumber=e}}class My{constructor(e){this.persistence=e,this.zr=new Ly,this.jr=null}static Hr(e){return new My(e)}get Jr(){if(this.jr)return this.jr;throw Q()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),C.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),C.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Jr,r=>{const i=H.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,X.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return C.or([()=>C.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Vy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return d2()?8:Fi.v(Ue())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new LF;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Zo()<=ie.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",bs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),C.resolve()):(Zo()<=ie.DEBUG&&V("QueryEngine","Query:",bs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Zo()<=ie.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",bs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):C.resolve())}ji(e,n){if(wE(n))return C.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=cg(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,cg(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return wE(n)||i.isEqual(X.min())?C.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?C.resolve(null):(Zo()<=ie.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bs(n)),this.es(e,o,n,dj(i,-1)).next(a=>a))})}Zi(e,n){let r=new pt(bP(e));return n.forEach((i,s)=>{Sh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Zo()<=ie.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",bs(n)),this.zi.getDocumentsMatchingQuery(e,n,li.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new De(de),this.rs=new ko(s=>Cy(s),Ay),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bF(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function jF(t,e,n,r){return new VF(t,e,n,r)}async function KP(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ne();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function FF(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=C.resolve();return h.forEach(m=>{f=f.next(()=>c.getEntry(l,m)).next(y=>{const w=u.docVersions.get(m);ye(w!==null),y.version.compareTo(w)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function QP(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function BF(t,e){const n=J(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Ct.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(y,w,g){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,f,c)&&a.push(n.Qr.updateTargetData(s,f))});let l=xr(),u=ne();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(UF(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(X.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function UF(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(X.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function $F(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zF(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ur(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function mg(t,e,n){const r=J(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Kl(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function DE(t,e,n){const r=J(t);let i=X.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=J(l),h=d.rs.get(c);return h!==void 0?C.resolve(d.ns.get(h)):d.Qr.getTargetData(u,c)}(r,o,Qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:X.min(),n?s:ne())).next(a=>(WF(r,Lj(e),a),{documents:a,hs:s})))}function WF(t,e,n){let r=t.ss.get(e)||X.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class kE{constructor(){this.activeTargetIds=Uj()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HF{constructor(){this.no=new kE,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new kE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function mp(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt="WebChannelConnection";class QF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=mp(),l=this.bo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(V("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ho("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=qF[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=mp();return new Promise((o,a)=>{const l=new ej;l.setWithCredentials(!0),l.listenOnce(JV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case fp.NO_ERROR:const c=l.getResponseJson();V(yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case fp.TIMEOUT:V(yt,`RPC '${e}' ${s} timed out`),a(new $(A.DEADLINE_EXCEEDED,"Request time out"));break;case fp.HTTP_ERROR:const d=l.getStatus();if(V(yt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const m=function(w){const g=w.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(g)>=0?g:A.UNKNOWN}(f.status);a(new $(m,f.message))}else a(new $(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $(A.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{V(yt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);V(yt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=mp(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=YV(),a=XV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");V(yt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const m=new KF({lo:w=>{f?V(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(V(yt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),V(yt,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},ho:()=>d.close()}),y=(w,g,v)=>{w.listen(g,_=>{try{v(_)}catch(E){setTimeout(()=>{throw E},0)}})};return y(d,$u.EventType.OPEN,()=>{f||V(yt,`RPC '${e}' stream ${i} transport opened.`)}),y(d,$u.EventType.CLOSE,()=>{f||(f=!0,V(yt,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),y(d,$u.EventType.ERROR,w=>{f||(f=!0,ho(yt,`RPC '${e}' stream ${i} transport errored:`,w),m.Vo(new $(A.UNAVAILABLE,"The operation could not be completed")))}),y(d,$u.EventType.MESSAGE,w=>{var g;if(!f){const v=w.data[0];ye(!!v);const _=v,E=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(E){V(yt,`RPC '${e}' stream ${i} received error:`,E);const x=E.status;let S=function(k){const N=je[k];if(N!==void 0)return jP(N)}(x),P=E.message;S===void 0&&(S=A.INTERNAL,P="Unknown error status: "+x+" with message "+E.message),f=!0,m.Vo(new $(S,P)),d.close()}else V(yt,`RPC '${e}' stream ${i} received:`,v),m.mo(v)}}),y(a,ZV.STAT_EVENT,w=>{w.stat===uE.PROXY?V(yt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===uE.NOPROXY&&V(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}function gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){return new oF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new YP(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new $(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YF extends XP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=uF(this.serializer,e),r=function(s){if(!("targetChange"in s))return X.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?Yn(o.readTime):X.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=pg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ug(l)?{documents:hF(s,l)}:{query:fF(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=UP(s,o.resumeToken);const u=dg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(X.min())>0){a.readTime=md(s,o.snapshotVersion.toTimestamp());const u=dg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=mF(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=pg(this.serializer),n.removeTarget=e,this.t_(n)}}class XF extends XP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=dF(e.writeResults,e.commitTime),r=Yn(e.commitTime);return this.listener.T_(r,n)}return ye(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=pg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cF(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new $(A.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,hg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(A.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,hg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(A.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class ZF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(er(n),this.g_=!1):V("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{ms(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=J(l);u.v_.add(4),await Xl(u),u.x_.set("Unknown"),u.v_.delete(4),await Ah(u)}(this))})}),this.x_=new ZF(r,i)}}async function Ah(t){if(ms(t))for(const e of t.F_)await e(!0)}async function Xl(t){for(const e of t.F_)await e(!1)}function JP(t,e){const n=J(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),By(n)?Fy(n):No(n).Jo()&&jy(n,e))}function ZP(t,e){const n=J(t),r=No(n);n.C_.delete(e),r.Jo()&&eC(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ms(n)&&n.x_.set("Unknown"))}function jy(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(t).c_(e)}function eC(t,e){t.O_.Oe(e),No(t).l_(e)}function Fy(t){t.O_=new nF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),No(t).start(),t.x_.p_()}function By(t){return ms(t)&&!No(t).Ho()&&t.C_.size>0}function ms(t){return J(t).v_.size===0}function tC(t){t.O_=void 0}async function t4(t){t.C_.forEach((e,n)=>{jy(t,e)})}async function n4(t,e){tC(t),By(t)?(t.x_.S_(e),Fy(t)):t.x_.set("Unknown")}async function r4(t,e,n){if(t.x_.set("Online"),e instanceof BP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gd(t,r)}else if(e instanceof yc?t.O_.$e(e):e instanceof FP?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(X.min()))try{const r=await QP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(Ct.EMPTY_BYTE_STRING,c.snapshotVersion)),eC(s,l);const d=new Ur(c.target,l,u,c.sequenceNumber);jy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){V("RemoteStore","Failed to raise snapshot:",r),await gd(t,r)}}async function gd(t,e,n){if(!Kl(e))throw e;t.v_.add(1),await Xl(t),t.x_.set("Offline"),n||(n=()=>QP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Ah(t)})}function nC(t,e){return e().catch(n=>gd(t,n,e))}async function Rh(t){const e=J(t),n=ci(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;i4(e);)try{const i=await $F(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,s4(e,i)}catch(i){await gd(e,i)}rC(e)&&iC(e)}function i4(t){return ms(t)&&t.D_.length<10}function s4(t,e){t.D_.push(e);const n=ci(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function rC(t){return ms(t)&&!ci(t).Ho()&&t.D_.length>0}function iC(t){ci(t).start()}async function o4(t){ci(t).d_()}async function a4(t){const e=ci(t);for(const n of t.D_)e.I_(n.mutations)}async function l4(t,e,n){const r=t.D_.shift(),i=ky.from(r,e,n);await nC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Rh(t)}async function u4(t,e){e&&ci(t).P_&&await async function(r,i){if(function(o){return Zj(o)&&o!==A.ABORTED}(i.code)){const s=r.D_.shift();ci(r).Zo(),await nC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Rh(r)}}(t,e),rC(t)&&iC(t)}async function OE(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const r=ms(n);n.v_.add(3),await Xl(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Ah(n)}async function c4(t,e){const n=J(t);e?(n.v_.delete(2),await Ah(n)):e||(n.v_.add(2),await Xl(n),n.x_.set("Unknown"))}function No(t){return t.N_||(t.N_=function(n,r,i){const s=J(n);return s.R_(),new YF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:t4.bind(null,t),To:n4.bind(null,t),u_:r4.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),By(t)?Fy(t):t.x_.set("Unknown")):(await t.N_.stop(),tC(t))})),t.N_}function ci(t){return t.B_||(t.B_=function(n,r,i){const s=J(n);return s.R_(),new XF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:o4.bind(null,t),To:u4.bind(null,t),E_:a4.bind(null,t),T_:l4.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Rh(t)):(await t.B_.stop(),t.D_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Uy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $y(t,e){if(er("AsyncQueue",`${e}: ${t}`),Kl(t))return new $(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=ha(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new eo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.L_=new De(H.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Q():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new vo(e,n,eo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.q_=void 0,this.Q_=[]}}class h4{constructor(){this.queries=new ko(e=>IP(e),xh),this.onlineState="Unknown",this.K_=new Set}}async function sC(t,e){const n=J(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new d4),i)try{s.q_=await n.onListen(r)}catch(o){const a=$y(o,`Initialization of query '${bs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&zy(n)}async function oC(t,e){const n=J(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function f4(t,e){const n=J(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&zy(n)}function p4(t,e,n){const r=J(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function zy(t){t.K_.forEach(e=>{e.next()})}class aC{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.key=e}}class uC{constructor(e){this.key=e}}class m4{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ne(),this.mutatedKeys=ne(),this.ua=bP(e),this.ca=new eo(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new LE,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Sh(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;h&&f?h.data.isEqual(f.data)?m!==y&&(r.track({type:3,doc:f}),w=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),w=!0,(l&&this.ua(f,l)>0||u&&this.ua(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),w=!0):h&&!f&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(f?(o=o.add(f),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((c,d)=>function(f,m){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return y(f)-y(m)}(c.type,d.type)||this.ua(c.doc,d.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,o.length!==0||u?{snapshot:new vo(this.query,e.ca,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new LE,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ne(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new uC(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new lC(r))}),n}Ra(e){this.oa=e.hs,this.aa=ne();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return vo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class g4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class v4{constructor(e){this.key=e,this.ma=!1}}class y4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new ko(a=>IP(a),xh),this.pa=new Map,this.ya=new Set,this.wa=new De(H.comparator),this.Sa=new Map,this.ba=new Ly,this.Da={},this.Ca=new Map,this.va=go.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function _4(t,e){const n=A4(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await zF(n.localStore,Qn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await w4(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&JP(n.remoteStore,o)}return i}async function w4(t,e,n,r,i){t.Ma=(d,h,f)=>async function(y,w,g,v){let _=w.view.ha(g);_.Xi&&(_=await DE(y.localStore,w.query,!1).then(({documents:P})=>w.view.ha(P,_)));const E=v&&v.targetChanges.get(w.targetId),x=v&&v.targetMismatches.get(w.targetId)!=null,S=w.view.applyChanges(_,y.isPrimaryClient,E,x);return VE(y,w.targetId,S.da),S.snapshot}(t,d,h,f);const s=await DE(t.localStore,e,!0),o=new m4(e,s.hs),a=o.ha(s.documents),l=Yl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);VE(t,n,u.da);const c=new g4(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function E4(t,e){const n=J(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!xh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await mg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ZP(n.remoteStore,r.targetId),gg(n,r.targetId)}).catch(ql)):(gg(n,r.targetId),await mg(n.localStore,r.targetId,!0))}async function T4(t,e,n){const r=R4(t);try{const i=await function(o,a){const l=J(o),u=Ge.now(),c=a.reduce((f,m)=>f.add(m.key),ne());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=xr(),y=ne();return l.os.getEntries(f,c).next(w=>{m=w,m.forEach((g,v)=>{v.isValidDocument()||(y=y.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(w=>{d=w;const g=[];for(const v of a){const _=Kj(v,d.get(v.key).overlayedDocument);_!=null&&g.push(new Ei(v.key,_,yP(_.value.mapValue),yn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,g,a)}).next(w=>{h=w;const g=w.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(f,w.batchId,g)})}).then(()=>({batchId:h.batchId,changes:CP(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new De(de)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await Jl(r,i.changes),await Rh(r.remoteStore)}catch(i){const s=$y(i,"Failed to persist write");n.reject(s)}}async function cC(t,e){const n=J(t);try{const r=await BF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ye(o.ma):i.removedDocuments.size>0&&(ye(o.ma),o.ma=!1))}),await Jl(n,r,e)}catch(r){await ql(r)}}function ME(t,e,n){const r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=J(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Q_)h.U_(a)&&(u=!0)}),u&&zy(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function x4(t,e,n){const r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new De(H.comparator);o=o.insert(s,Tt.newNoDocument(s,X.min()));const a=ne().add(s),l=new Ph(X.min(),new Map,new De(de),o,a);await cC(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),Wy(r)}else await mg(r.localStore,e,!1).then(()=>gg(r,e,n)).catch(ql)}async function S4(t,e){const n=J(t),r=e.batch.batchId;try{const i=await FF(n.localStore,e);hC(n,r,null),dC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jl(n,i)}catch(i){await ql(i)}}async function I4(t,e,n){const r=J(t);try{const i=await function(o,a){const l=J(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ye(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);hC(r,e,n),dC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jl(r,i)}catch(i){await ql(i)}}function dC(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function hC(t,e,n){const r=J(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function gg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||fC(t,r)})}function fC(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(ZP(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Wy(t))}function VE(t,e,n){for(const r of n)r instanceof lC?(t.ba.addReference(r.key,e),b4(t,r)):r instanceof uC?(V("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||fC(t,r.key)):Q()}function b4(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(V("SyncEngine","New document in limbo: "+n),t.ya.add(r),Wy(t))}function Wy(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new H(Ie.fromString(e)),r=t.va.next();t.Sa.set(r,new v4(n)),t.wa=t.wa.insert(n,r),JP(t.remoteStore,new Ur(Qn(Ry(n.path)),r,"TargetPurposeLimboResolution",Sy._e))}}async function Jl(t,e,n){const r=J(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Vy.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,u){const c=J(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>C.forEach(u,h=>C.forEach(h.qi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>C.forEach(h.Qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Kl(d))throw d;V("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ns.get(h),m=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(m);c.ns=c.ns.insert(h,y)}}}(r.localStore,s))}async function P4(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());const r=await KP(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new $(A.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jl(n,r.us)}}function C4(t,e){const n=J(t),r=n.Sa.get(e);if(r&&r.ma)return ne().add(r.key);{let i=ne();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function A4(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x4.bind(null,e),e.fa.u_=f4.bind(null,e.eventManager),e.fa.xa=p4.bind(null,e.eventManager),e}function R4(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I4.bind(null,e),e}class jE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return jF(this.persistence,new MF,e.initialUser,this.serializer)}createPersistence(e){return new NF(My.Hr,this.serializer)}createSharedClientState(e){return new HF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class D4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ME(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=P4.bind(null,this.syncEngine),await c4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new h4}()}createDatastore(e){const n=Ch(e.databaseInfo.databaseId),r=function(s){return new QF(s)}(e.databaseInfo);return function(s,o,a,l){return new JF(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new e4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ME(this.syncEngine,n,0),function(){return NE.D()?new NE:new GF}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new y4(i,s,o,a,l,u);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=J(r);V("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Xl(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=mP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{V("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$y(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vp(t,e){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await O4(t);V("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>OE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>OE(e.remoteStore,i)),t._onlineComponents=e}function N4(t){return t.name==="FirebaseError"?t.code===A.FAILED_PRECONDITION||t.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function O4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{await vp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!N4(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await vp(t,new jE)}}else V("FirestoreClient","Using default OfflineComponentProvider"),await vp(t,new jE);return t._offlineComponents}async function mC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),await FE(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),await FE(t,new D4))),t._onlineComponents}function L4(t){return mC(t).then(e=>e.syncEngine)}async function gC(t){const e=await mC(t),n=e.eventManager;return n.onListen=_4.bind(null,e.syncEngine),n.onUnlisten=E4.bind(null,e.syncEngine),n}function M4(t,e,n={}){const r=new Kn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new pC({next:h=>{o.enqueueAndForget(()=>oC(s,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new $(A.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new $(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new aC(Ry(a.path),c,{includeMetadataChanges:!0,Z_:!0});return sC(s,d)}(await gC(t),t.asyncQueue,e,n,r)),r.promise}function V4(t,e,n={}){const r=new Kn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new pC({next:h=>{o.enqueueAndForget(()=>oC(s,d)),h.fromCache&&l.source==="server"?u.reject(new $(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new aC(a,c,{includeMetadataChanges:!0,Z_:!0});return sC(s,d)}(await gC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e,n){if(!n)throw new $(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function j4(t,e,n,r){if(e===!0&&r===!0)throw new $(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UE(t){if(!H.isDocumentKey(t))throw new $(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $E(t){if(H.isDocumentKey(t))throw new $(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hy(t);throw new $(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nj;switch(r.type){case"firstParty":return new oj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=BE.get(n);r&&(V("ComponentProvider","Removing Datastore"),BE.delete(n),r.terminate())}(this),Promise.resolve()}}function F4(t,e,n,r={}){var i;const s=(t=Nn(t,Dh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=wt.MOCK_USER;else{a=FI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new $(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new wt(u)}t._authCredentials=new rj(new pP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kh(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}}class Zr extends kh{constructor(e,n,r){super(e,n,Ry(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new H(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function Bt(t,e,...n){if(t=Ve(t),yC("collection","path",e),t instanceof Dh){const r=Ie.fromString(e,...n);return $E(r),new Zr(t,null,r)}{if(!(t instanceof qt||t instanceof Zr))throw new $(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return $E(r),new Zr(t.firestore,null,r)}}function Mn(t,e,...n){if(t=Ve(t),arguments.length===1&&(e=mP.newId()),yC("doc","path",e),t instanceof Dh){const r=Ie.fromString(e,...n);return UE(r),new qt(t,null,new H(r))}{if(!(t instanceof qt||t instanceof Zr))throw new $(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return UE(r),new qt(t.firestore,t instanceof Zr?t.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new YP(this,"async_queue_retry"),this._u=()=>{const n=gp();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=gp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Kn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Kl(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=Uy.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&Q()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class gs extends Dh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new B4}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||_C(this),this._firestoreClient.terminate()}}function U4(t,e){const n=typeof t=="object"?t:Hv(),r=typeof t=="string"?t:e||"(default)",i=rh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=MI("firestore");s&&F4(i,...s)}return i}function Gy(t){return t._firestoreClient||_C(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _C(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new wj(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,vC(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new k4(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(Ct.fromBase64String(e))}catch(n){throw new $(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yo(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=/^__.*__$/;class z4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ql(e,this.data,n,this.fieldTransforms)}}class wC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ei(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function EC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class Qy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Qy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return vd(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(EC(this.du)&&$4.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class W4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ch(e)}Su(e,n,r,i=!1){return new Qy({du:e,methodName:n,wu:r,path:ct.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yy(t){const e=t._freezeSettings(),n=Ch(t._databaseId);return new W4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TC(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);Xy("Data must be an object, but it was:",o,r);const a=xC(r,o);let l,u;if(s.merge)l=new Xt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=vg(e,d,n);if(!o.contains(h))throw new $(A.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);IC(c,h)||c.push(h)}l=new Xt(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new z4(new $t(a),l,u)}class Oh extends qy{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}function H4(t,e,n,r){const i=t.Su(1,e,n);Xy("Data must be an object, but it was:",i,r);const s=[],o=$t.empty();ps(r,(l,u)=>{const c=Jy(e,l,n);u=Ve(u);const d=i.fu(c);if(u instanceof Oh)s.push(c);else{const h=Lh(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Xt(s);return new wC(o,a,i.fieldTransforms)}function G4(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[vg(e,r,n)],l=[i];if(s.length%2!=0)throw new $(A.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(vg(e,s[h])),l.push(s[h+1]);const u=[],c=$t.empty();for(let h=a.length-1;h>=0;--h)if(!IC(u,a[h])){const f=a[h];let m=l[h];m=Ve(m);const y=o.fu(f);if(m instanceof Oh)u.push(f);else{const w=Lh(m,y);w!=null&&(u.push(f),c.set(f,w))}}const d=new Xt(u);return new wC(c,d,o.fieldTransforms)}function Lh(t,e){if(SC(t=Ve(t)))return Xy("Unsupported field value:",e,t),xC(t,e);if(t instanceof qy)return function(r,i){if(!EC(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Lh(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $j(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ge.fromDate(r);return{timestampValue:md(i.serializer,s)}}if(r instanceof Ge){const s=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:md(i.serializer,s)}}if(r instanceof Ky)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yo)return{bytesValue:UP(i.serializer,r._byteString)};if(r instanceof qt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Oy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Hy(r)}`)}(t,e)}function xC(t,e){const n={};return gP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(t,(r,i)=>{const s=Lh(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function SC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof Ky||t instanceof yo||t instanceof qt||t instanceof qy)}function Xy(t,e,n){if(!SC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Hy(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function vg(t,e,n){if((e=Ve(e))instanceof Nh)return e._internalPath;if(typeof e=="string")return Jy(t,e);throw vd("Field path arguments must be of type string or ",t,!1,void 0,n)}const q4=new RegExp("[~\\*/\\[\\]]");function Jy(t,e,n){if(e.search(q4)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nh(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $(A.INVALID_ARGUMENT,a+t+l)}function IC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(PC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K4 extends bC{data(){return super.data()}}function PC(t,e){return typeof e=="string"?Jy(t,e):e instanceof Nh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y4{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ps(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ky(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=by(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){const n=ui(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ie.fromString(e);ye(qP(r));const i=new fl(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||er(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AC extends bC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(PC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _c extends AC{data(e={}){return super.data(e)}}class X4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _c(this._firestore,this._userDataWriter,r.key,r,new pa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new _c(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new _c(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:J4(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function J4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){t=Nn(t,qt);const e=Nn(t.firestore,gs);return M4(Gy(e),t._key).then(n=>eB(e,t,n))}class RC extends Y4{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function jn(t){t=Nn(t,kh);const e=Nn(t.firestore,gs),n=Gy(e),r=new RC(e);return Q4(t._query),V4(n,t._query).then(i=>new X4(e,r,t,i))}function Ss(t,e,n){t=Nn(t,qt);const r=Nn(t.firestore,gs),i=CC(t.converter,e,n);return Vh(r,[TC(Yy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,yn.none())])}function WE(t,e,n,...r){t=Nn(t,qt);const i=Nn(t.firestore,gs),s=Yy(i);let o;return o=typeof(e=Ve(e))=="string"||e instanceof Nh?G4(s,"updateDoc",t._key,e,n,r):H4(s,"updateDoc",t._key,e),Vh(i,[o.toMutation(t._key,yn.exists(!0))])}function Z4(t){return Vh(Nn(t.firestore,gs),[new Dy(t._key,yn.none())])}function Mh(t,e){const n=Nn(t.firestore,gs),r=Mn(t),i=CC(t.converter,e);return Vh(n,[TC(Yy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,yn.exists(!1))]).then(()=>r)}function Vh(t,e){return function(r,i){const s=new Kn;return r.asyncQueue.enqueueAndForget(async()=>T4(await L4(r),i,s)),s.promise}(Gy(t),e)}function eB(t,e,n){const r=n.docs.get(e._key),i=new RC(t);return new AC(t,i,e._key,r,new pa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Do=i})(ds),ns(new ai("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new gs(new ij(r.getProvider("auth-internal")),new lj(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Gn(cE,"4.4.2",e),Gn(cE,"4.4.2","esm2017")})();function Zy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function DC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tB=DC,kC=new Vl("auth","Firebase",DC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new zv("@firebase/auth");function nB(t,...e){yd.logLevel<=ie.WARN&&yd.warn(`Auth (${ds}): ${t}`,...e)}function wc(t,...e){yd.logLevel<=ie.ERROR&&yd.error(`Auth (${ds}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw e0(t,...e)}function Xn(t,...e){return e0(t,...e)}function NC(t,e,n){const r=Object.assign(Object.assign({},tB()),{[e]:n});return new Vl("auth","Firebase",r).create(e,{appName:t.name})}function rB(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tn(t,"argument-error"),NC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function e0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kC.create(t,...e)}function K(t,e,...n){if(!t)throw e0(e,...n)}function dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wc(e),new Error(e)}function Sr(t,e){t||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iB(){return HE()==="http:"||HE()==="https:"}function HE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iB()||l2()||"connection"in navigator)?navigator.onLine:!0}function oB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=o2()||u2()}get(){return sB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t,e){Sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=new Zl(3e4,6e4);function vs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ti(t,e,n,r,i={}){return LC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=jl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),OC.fetch()(MC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function LC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},aB),e);try{const i=new cB(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw qu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw qu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw qu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw qu(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw NC(t,c,u);Tn(t,c)}}catch(i){if(i instanceof ir)throw i;Tn(t,"network-request-failed",{message:String(i)})}}async function jh(t,e,n,r,i={}){const s=await Ti(t,e,n,r,i);return"mfaPendingCredential"in s&&Tn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function MC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?t0(t.config,i):`${t.config.apiScheme}://${i}`}function uB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xn(this.auth,"network-request-failed")),lB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xn(t,e,r);return i.customData._tokenResponse=n,i}function GE(t){return t!==void 0&&t.enterprise!==void 0}class dB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function hB(t,e){return Ti(t,"GET","/v2/recaptchaConfig",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fB(t,e){return Ti(t,"POST","/v1/accounts:delete",e)}async function pB(t,e){return Ti(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mB(t,e=!1){const n=Ve(t),r=await n.getIdToken(e),i=n0(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ka(yp(i.auth_time)),issuedAtTime:ka(yp(i.iat)),expirationTime:ka(yp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function yp(t){return Number(t)*1e3}function n0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const i=OI(n);return i?JSON.parse(i):(wc("Failed to decode base64 JWT payload"),null)}catch(i){return wc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gB(t){const e=n0(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ir&&vB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ka(this.lastLoginAt),this.creationTime=ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vl(t,pB(n,{idToken:r}));K(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?EB(s.providerUserInfo):[],a=wB(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new VC(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function _B(t){const e=Ve(t);await _d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EB(t){return t.map(e=>{var{providerId:n}=e,r=Zy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TB(t,e){const n=await LC(t,{},async()=>{const r=jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=MC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",OC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xB(t,e){return Ti(t,"POST","/v2/accounts:revokeToken",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gB(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return K(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await TB(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new yl;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(K(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Zy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new VC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await vl(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mB(this,e)}reload(){return _B(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _d(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await vl(this,fB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:E,isAnonymous:x,providerData:S,stsTokenManager:P}=n;K(_&&P,e,"internal-error");const I=yl.fromJSON(this.name,P);K(typeof _=="string",e,"internal-error"),Pr(d,e.name),Pr(h,e.name),K(typeof E=="boolean",e,"internal-error"),K(typeof x=="boolean",e,"internal-error"),Pr(f,e.name),Pr(m,e.name),Pr(y,e.name),Pr(w,e.name),Pr(g,e.name),Pr(v,e.name);const k=new qi({uid:_,auth:e,email:h,emailVerified:E,displayName:d,isAnonymous:x,photoURL:m,phoneNumber:f,tenantId:y,stsTokenManager:I,createdAt:g,lastLoginAt:v});return S&&Array.isArray(S)&&(k.providerData=S.map(N=>Object.assign({},N))),w&&(k._redirectEventId=w),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new yl;i.updateFromServerResponse(n);const s=new qi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _d(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;function hr(t){Sr(t instanceof Function,"Expected a class definition");let e=qE.get(t);return e?(Sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jC.type="NONE";const KE=jC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t,e,n){return`firebase:${t}:${e}:${n}`}class to{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ec(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ec("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new to(hr(KE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||hr(KE);const o=Ec(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=qi._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new to(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new to(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zC(e))return"Blackberry";if(WC(e))return"Webos";if(r0(e))return"Safari";if((e.includes("chrome/")||BC(e))&&!e.includes("edge/"))return"Chrome";if($C(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FC(t=Ue()){return/firefox\//i.test(t)}function r0(t=Ue()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BC(t=Ue()){return/crios\//i.test(t)}function UC(t=Ue()){return/iemobile/i.test(t)}function $C(t=Ue()){return/android/i.test(t)}function zC(t=Ue()){return/blackberry/i.test(t)}function WC(t=Ue()){return/webos/i.test(t)}function Fh(t=Ue()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SB(t=Ue()){var e;return Fh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IB(){return c2()&&document.documentMode===10}function HC(t=Ue()){return Fh(t)||$C(t)||WC(t)||zC(t)||/windows phone/i.test(t)||UC(t)}function bB(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e=[]){let n;switch(t){case"Browser":n=QE(Ue());break;case"Worker":n=`${QE(Ue())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ds}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CB(t,e={}){return Ti(t,"GET","/v2/passwordPolicy",vs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=6;class RB{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:AB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YE(this),this.idTokenSubscription=new YE(this),this.beforeStateQueue=new PB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await to.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _d(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ve(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CB(this),n=new RB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hr(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&nB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ys(t){return Ve(t)}class YE{constructor(e){this.auth=e,this.observer=null,this.addObserver=v2(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kB(t){Bh=t}function qC(t){return Bh.loadJS(t)}function NB(){return Bh.recaptchaEnterpriseScript}function OB(){return Bh.gapiScript}function LB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const MB="recaptcha-enterprise",VB="NO_RECAPTCHA";class jB{constructor(e){this.type=MB,this.auth=ys(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{hB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new dB(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;GE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(VB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&GE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=NB();l.length!==0&&(l+=a),qC(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function XE(t,e,n,r=!1){const i=new jB(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function JE(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await XE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await XE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t,e){const n=rh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(td(s,e??{}))return i;Tn(i,"already-initialized")}return n.initialize({options:e})}function BB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UB(t,e,n){const r=ys(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=KC(e),{host:o,port:a}=$B(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||zB()}function KC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $B(t){const e=KC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ZE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ZE(o)}}}function ZE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function WB(t,e){return Ti(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HB(t,e){return jh(t,"POST","/v1/accounts:signInWithPassword",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GB(t,e){return jh(t,"POST","/v1/accounts:signInWithEmailLink",vs(t,e))}async function qB(t,e){return jh(t,"POST","/v1/accounts:signInWithEmailLink",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends i0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new _l(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _l(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return JE(e,n,"signInWithPassword",HB);case"emailLink":return GB(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return JE(e,r,"signUpPassword",WB);case"emailLink":return qB(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(t,e){return jh(t,"POST","/v1/accounts:signInWithIdp",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB="http://localhost";class as extends i0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new as(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Zy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new as(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return no(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,no(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,no(e,n)}buildRequest(){const e={requestUri:KB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YB(t){const e=la(ua(t)).link,n=e?la(ua(e)).deep_link_id:null,r=la(ua(t)).deep_link_id;return(r?la(ua(r)).link:null)||r||n||e||t}class s0{constructor(e){var n,r,i,s,o,a;const l=la(ua(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=QB((i=l.mode)!==null&&i!==void 0?i:null);K(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=YB(e);try{return new s0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(e,n){return _l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=s0.parseLink(n);return K(r,"argument-error"),_l._fromEmailAndCode(e,r.code,r.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends o0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends eu{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return as._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ar.credential(n,r)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends eu{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends eu{constructor(){super("twitter.com")}static credential(e,n){return as._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await qi._fromIdTokenResponse(e,r,i),o=e1(r);return new _o({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=e1(r);return new _o({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function e1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends ir{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wd(e,n,r,i)}}function QC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wd._fromErrorAndOperation(t,s,e,r):s})}async function XB(t,e,n=!1){const r=await vl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JB(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await vl(t,QC(r,i,e,t),n);K(s.idToken,r,"internal-error");const o=n0(s.idToken);K(o,r,"internal-error");const{sub:a}=o;return K(t.uid===a,r,"user-mismatch"),_o._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Tn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(t,e,n=!1){const r="signIn",i=await QC(t,r,e),s=await _o._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function ZB(t,e){return YC(ys(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(t){const e=ys(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function tU(t,e,n){return ZB(Ve(t),Oo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eU(t),r})}function nU(t,e,n,r){return Ve(t).onIdTokenChanged(e,n,r)}function rU(t,e,n){return Ve(t).beforeAuthStateChanged(e,n)}const Ed="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ed,"1"),this.storage.removeItem(Ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(){const t=Ue();return r0(t)||Fh(t)}const sU=1e3,oU=10;class JC extends XC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=iU()&&bB(),this.fallbackToPolling=HC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);IB()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,oU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JC.type="LOCAL";const aU=JC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC extends XC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZC.type="SESSION";const eA=ZC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Uh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await lU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=a0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return window}function cU(t){Jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}async function dU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fU(){return tA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firebaseLocalStorageDb",pU=1,Td="firebaseLocalStorage",rA="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $h(t,e){return t.transaction([Td],e?"readwrite":"readonly").objectStore(Td)}function mU(){const t=indexedDB.deleteDatabase(nA);return new tu(t).toPromise()}function _g(){const t=indexedDB.open(nA,pU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Td,{keyPath:rA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Td)?e(r):(r.close(),await mU(),e(await _g()))})})}async function t1(t,e,n){const r=$h(t,!0).put({[rA]:e,value:n});return new tu(r).toPromise()}async function gU(t,e){const n=$h(t,!1).get(e),r=await new tu(n).toPromise();return r===void 0?null:r.value}function n1(t,e){const n=$h(t,!0).delete(e);return new tu(n).toPromise()}const vU=800,yU=3;class iA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _g(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(fU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dU(),!this.activeServiceWorker)return;this.sender=new uU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _g();return await t1(e,Ed,"1"),await n1(e,Ed),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>t1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>n1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=$h(i,!1).getAll();return new tu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iA.type="LOCAL";const _U=iA;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t,e){return e?hr(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0 extends i0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,n){return no(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wU(t){return YC(t.auth,new l0(t),t.bypassAuthState)}function EU(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),JB(n,new l0(t),t.bypassAuthState)}async function TU(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),XB(n,new l0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wU;case"linkViaPopup":case"linkViaRedirect":return TU;case"reauthViaPopup":case"reauthViaRedirect":return EU;default:Tn(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=new Zl(2e3,1e4);async function aA(t,e,n){const r=ys(t);rB(t,e,o0);const i=sA(r,n);return new Ui(r,"signInViaPopup",e,i).executeNotNull()}class Ui extends oA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ui.currentPopupAction&&Ui.currentPopupAction.cancel(),Ui.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=a0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ui.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xU.get())};e()}}Ui.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU="pendingRedirect",Tc=new Map;class IU extends oA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tc.get(this.auth._key());if(!e){try{const r=await bU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tc.set(this.auth._key(),e)}return this.bypassAuthState||Tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bU(t,e){const n=AU(e),r=CU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function PU(t,e){Tc.set(t._key(),e)}function CU(t){return hr(t._redirectPersistence)}function AU(t){return Ec(SU,t.config.apiKey,t.name)}async function RU(t,e,n=!1){const r=ys(t),i=sA(r,e),o=await new IU(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=10*60*1e3;class kU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DU&&this.cachedEventUids.clear(),this.cachedEventUids.has(r1(e))}saveEventToCache(e){this.cachedEventUids.add(r1(e)),this.lastProcessedEventTime=Date.now()}}function r1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OU(t,e={}){return Ti(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MU=/^https?/;async function VU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OU(t);for(const n of e)try{if(jU(n))return}catch{}Tn(t,"unauthorized-domain")}function jU(t){const e=yg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!MU.test(n))return!1;if(LU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=new Zl(3e4,6e4);function i1(){const t=Jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BU(t){return new Promise((e,n)=>{var r,i,s;function o(){i1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i1(),n(Xn(t,"network-request-failed"))},timeout:FU.get()})}if(!((i=(r=Jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Jn().gapi)===null||s===void 0)&&s.load)o();else{const a=LB("iframefcb");return Jn()[a]=()=>{gapi.load?o():n(Xn(t,"network-request-failed"))},qC(`${OB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xc=null,e})}let xc=null;function UU(t){return xc=xc||BU(t),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=new Zl(5e3,15e3),zU="__/auth/iframe",WU="emulator/auth/iframe",HU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qU(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?t0(e,WU):`https://${t.config.authDomain}/${zU}`,r={apiKey:e.apiKey,appName:t.name,v:ds},i=GU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${jl(r).slice(1)}`}async function KU(t){const e=await UU(t),n=Jn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:qU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Xn(t,"network-request-failed"),a=Jn().setTimeout(()=>{s(o)},$U.get());function l(){Jn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YU=500,XU=600,JU="_blank",ZU="http://localhost";class s1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e3(t,e,n,r=YU,i=XU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},QU),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ue().toLowerCase();n&&(a=BC(u)?JU:n),FC(u)&&(e=e||ZU,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(SB(u)&&a!=="_self")return t3(e||"",a),new s1(null);const d=window.open(e||"",a,c);K(d,t,"popup-blocked");try{d.focus()}catch{}return new s1(d)}function t3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="__/auth/handler",r3="emulator/auth/handler",i3=encodeURIComponent("fac");async function o1(t,e,n,r,i,s){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ds,eventId:i};if(e instanceof o0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",g2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof eu){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${i3}=${encodeURIComponent(l)}`:"";return`${s3(t)}?${jl(a).slice(1)}${u}`}function s3({config:t}){return t.emulator?t0(t,r3):`https://${t.authDomain}/${n3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="webStorageSupport";class o3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eA,this._completeRedirectFn=RU,this._overrideRedirectResult=PU}async _openPopup(e,n,r,i){var s;Sr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await o1(e,n,r,yg(),i);return e3(e,o,a0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await o1(e,n,r,yg(),i);return cU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Sr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await KU(e),r=new kU(e);return n.register("authEvent",i=>(K(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_p,{type:_p},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[_p];o!==void 0&&n(!!o),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HC()||r0()||Fh()}}const a3=o3;var a1="@firebase/auth",l1="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c3(t){ns(new ai("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GC(t)},u=new DB(r,i,s,l);return BB(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ns(new ai("auth-internal",e=>{const n=ys(e.getProvider("auth").getImmediate());return(r=>new l3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(a1,l1,u3(t)),Gn(a1,l1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=5*60,h3=jI("authIdTokenMaxAge")||d3;let u1=null;const f3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>h3)return;const i=n==null?void 0:n.token;u1!==i&&(u1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function p3(t=Hv()){const e=rh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FB(t,{popupRedirectResolver:a3,persistence:[_U,aU,eA]}),r=jI("authTokenSyncURL");if(r){const s=f3(r);rU(n,s,()=>s(n.currentUser)),nU(n,o=>s(o))}const i=LI("auth");return i&&UB(n,`http://${i}`),n}function m3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",m3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c3("Browser");const g3={apiKey:"AIzaSyCt7V3W9gKJWN_zBX80Pl54zt8QI7FX5DM",authDomain:"shop-tohlechces.firebaseapp.com",databaseURL:"https://shop-tohlechces-default-rtdb.europe-west1.firebasedatabase.app",projectId:"shop-tohlechces",storageBucket:"shop-tohlechces.appspot.com",messagingSenderId:"37475032521",appId:"1:37475032521:web:d3f3a314f8d0716bd31c18",measurementId:"G-6ZTHR91WD8"},u0=zI(g3),be=U4(u0),Ku=GM(u0),wg=p3(u0),uA=new ar;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}var $r;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($r||($r={}));const c1="popstate";function v3(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Eg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:cA(i)}return _3(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function c0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y3(){return Math.random().toString(36).substr(2,8)}function d1(t,e){return{usr:t.state,key:t.key,idx:e}}function Eg(t,e,n,r){return n===void 0&&(n=null),wl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Lo(e):e,{state:n,key:e&&e.key||r||y3()})}function cA(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=$r.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(wl({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=$r.Pop;let w=c(),g=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:g})}function h(w,g){a=$r.Push;let v=Eg(y.location,w,g);n&&n(v,w),u=c()+1;let _=d1(v,u),E=y.createHref(v);try{o.pushState(_,"",E)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(E)}s&&l&&l({action:a,location:y.location,delta:1})}function f(w,g){a=$r.Replace;let v=Eg(y.location,w,g);n&&n(v,w),u=c();let _=d1(v,u),E=y.createHref(v);o.replaceState(_,"",E),s&&l&&l({action:a,location:y.location,delta:0})}function m(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof w=="string"?w:cA(w);return qe(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(c1,d),l=w,()=>{i.removeEventListener(c1,d),l=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let g=m(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:f,go(w){return o.go(w)}};return y}var h1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(h1||(h1={}));function w3(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Lo(e):e,i=fA(r.pathname||"/",n);if(i==null)return null;let s=dA(t);E3(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=R3(s[a],N3(i));return o}function dA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(qe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ki([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(qe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),dA(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:C3(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of hA(s.path))i(s,o,l)}),e}function hA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=hA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function E3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:A3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const T3=/^:[\w-]+$/,x3=3,S3=2,I3=1,b3=10,P3=-2,f1=t=>t==="*";function C3(t,e){let n=t.split("/"),r=n.length;return n.some(f1)&&(r+=P3),e&&(r+=S3),n.filter(i=>!f1(i)).reduce((i,s)=>i+(T3.test(s)?x3:s===""?I3:b3),r)}function A3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function R3(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=D3({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Ki([i,c.pathname]),pathnameBase:B3(Ki([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Ki([i,c.pathnameBase]))}return s}function D3(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=k3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return f&&!m?u[h]=void 0:u[h]=O3(m||"",h),u},{}),pathname:s,pathnameBase:o,pattern:t}}function k3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),c0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function N3(t){try{return decodeURI(t)}catch(e){return c0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function O3(t,e){try{return decodeURIComponent(t)}catch(n){return c0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function fA(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function L3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Lo(t):t;return{pathname:n?n.startsWith("/")?n:M3(n,e):e,search:U3(r),hash:$3(i)}}function M3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function V3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function j3(t,e){let n=V3(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function F3(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Lo(t):(i=wl({},t),qe(!i.pathname||!i.pathname.includes("?"),wp("?","pathname","search",i)),qe(!i.pathname||!i.pathname.includes("#"),wp("#","pathname","hash",i)),qe(!i.search||!i.search.includes("#"),wp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=L3(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ki=t=>t.join("/").replace(/\/\/+/g,"/"),B3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function z3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pA=["post","put","patch","delete"];new Set(pA);const W3=["get",...pA];new Set(W3);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function El(){return El=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},El.apply(this,arguments)}const d0=T.createContext(null),H3=T.createContext(null),zh=T.createContext(null),Wh=T.createContext(null),Mo=T.createContext({outlet:null,matches:[],isDataRoute:!1}),mA=T.createContext(null);function Hh(){return T.useContext(Wh)!=null}function h0(){return Hh()||qe(!1),T.useContext(Wh).location}function gA(t){T.useContext(zh).static||T.useLayoutEffect(t)}function vA(){let{isDataRoute:t}=T.useContext(Mo);return t?i$():G3()}function G3(){Hh()||qe(!1);let t=T.useContext(d0),{basename:e,future:n,navigator:r}=T.useContext(zh),{matches:i}=T.useContext(Mo),{pathname:s}=h0(),o=JSON.stringify(j3(i,n.v7_relativeSplatPath)),a=T.useRef(!1);return gA(()=>{a.current=!0}),T.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=F3(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ki([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function q3(t,e){return K3(t,e)}function K3(t,e,n,r){Hh()||qe(!1);let{navigator:i}=T.useContext(zh),{matches:s}=T.useContext(Mo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=h0(),c;if(e){var d;let w=typeof e=="string"?Lo(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||qe(!1),c=w}else c=u;let h=c.pathname||"/",f=l==="/"?h:h.slice(l.length)||"/",m=w3(t,{pathname:f}),y=Z3(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Ki([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Ki([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&y?T.createElement(Wh.Provider,{value:{location:El({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:$r.Pop}},y):y}function Q3(){let t=r$(),e=z3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const Y3=T.createElement(Q3,null);class X3 extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Mo.Provider,{value:this.props.routeContext},T.createElement(mA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J3(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(d0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Mo.Provider,{value:e},r)}function Z3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||qe(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,m=!1,y=null,w=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||Y3,l&&(u<0&&h===0?(s$("route-fallback",!1),m=!0,w=null):u===h&&(m=!0,w=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,h+1)),v=()=>{let _;return f?_=y:m?_=w:d.route.Component?_=T.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=c,T.createElement(J3,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?T.createElement(X3,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var yA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yA||{}),xd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xd||{});function e$(t){let e=T.useContext(d0);return e||qe(!1),e}function t$(t){let e=T.useContext(H3);return e||qe(!1),e}function n$(t){let e=T.useContext(Mo);return e||qe(!1),e}function _A(t){let e=n$(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function r$(){var t;let e=T.useContext(mA),n=t$(xd.UseRouteError),r=_A(xd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function i$(){let{router:t}=e$(yA.UseNavigateStable),e=_A(xd.UseNavigateStable),n=T.useRef(!1);return gA(()=>{n.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,El({fromRouteId:e},s)))},[t,e])}const p1={};function s$(t,e,n){!e&&!p1[t]&&(p1[t]=!0)}function Vt(t){qe(!1)}function o$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=$r.Pop,navigator:s,static:o=!1,future:a}=t;Hh()&&qe(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:s,static:o,future:El({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Lo(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:m="default"}=r,y=T.useMemo(()=>{let w=fA(c,l);return w==null?null:{location:{pathname:w,search:d,hash:h,state:f,key:m},navigationType:i}},[l,c,d,h,f,m,i]);return y==null?null:T.createElement(zh.Provider,{value:u},T.createElement(Wh.Provider,{children:n,value:y}))}function a$(t){let{children:e,location:n}=t;return q3(Tg(e),n)}new Promise(()=>{});function Tg(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Tg(r.props.children,s));return}r.type!==Vt&&qe(!1),!r.props.index||!r.props.children||qe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Tg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const l$="6";try{window.__reactRouterVersion=l$}catch{}const u$="startTransition",m1=bk[u$];function c$(t){let{basename:e,children:n,future:r,window:i}=t,s=T.useRef();s.current==null&&(s.current=v3({window:i,v5Compat:!0}));let o=s.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=T.useCallback(d=>{u&&m1?m1(()=>l(d)):l(d)},[l,u]);return T.useLayoutEffect(()=>o.listen(c),[o,c]),T.createElement(o$,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var g1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(g1||(g1={}));var v1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(v1||(v1={}));const wA=T.createContext(),d$=({children:t})=>{let e={id:0,name:"",price:0,images:[{url:"",id:0}],description:"testingXYZ"};const[n,r]=T.useState([e]),[i,s]=T.useState({editor:!1,nickname:"Honza",newspaper:!1,email:"email",uid:"x",cart:[],inPayment:[]}),o=T.useRef(""),a=T.useRef(),l=T.useRef(localStorage.getItem("uid")),u=T.useRef(),c=vA();T.useEffect(()=>{d(),m()},[]);const d=async()=>{(await jn(Bt(be,"users"))).forEach(U=>{U.data().uid===l.current&&f(U.data(),U._key.path.segments[6])})};function h(M,U,b){return new Promise(async(L,O)=>{M===void 0&&L(),await x();const z=Vu(Ku,U!==void 0?U+"/"+b:(u.current[0]!==void 0?u.current[0]:n[0].description==="testingXYZ"?0:n.length)+"/0"),ee=zM(z,M);let Qe="";ee.on("state_changed",_e=>{Qe="Upload "+_e.bytesTransferred/_e.totalBytes*100+"% done"},_e=>{Qe="Error: "+_e.message,O(Qe)},()=>{HM(ee.snapshot.ref).then(_e=>{let Ye=_e;Qe="Added",L({downloadURL:Ye,uploadText:Qe})}).catch(_e=>{O(_e)})})})}function f(M,U){o.current=U,s(b=>({...b,...M})),M.editor&&y("editorLogin",new Date().toString())}const m=async()=>{let U=(await jn(Bt(be,"catalog"))).docs.map(b=>b.data());U.length!==0?r(U):r([e])},y=async(M,U)=>{const b=Mn(be,"users",o.current);await WE(b,{[M]:U})},w=async({name:M,price:U,images:b,description:L})=>{await x();const O={id:n[0].description!=="testingXYZ"?u.current.length===0?n.length:u.current[0]:0,name:M,price:U,images:b,description:L};await Mh(Bt(be,"catalog"),O),m()};async function g(M,U){let b=[];await _(M),(await jn(Bt(be,"catalog"))).forEach($e=>{$e.data().id===M&&(b=$e.data())});let O=[],z=[],ee=[];for(let $e=0;$e<b.images.length;$e++)O.push($e);let Qe=await jn(Bt(be,"catalog")),_e=[];Qe.forEach($e=>{$e.data().id===M&&(_e=$e.data().images)}),_e.length>0&&_e.forEach($e=>{z.push($e.id)}),O.map($e=>{z.includes($e)||ee.push($e)});let Ye=ee[0]!==void 0?ee[0]:b.images.length,xn=(await h(U,M,Ye)).downloadURL;b.images.push({url:xn,id:Ye}),await Ss(Mn(be,"catalog",a.current),b),m()}async function v(M,U){let b=[];await _(M),(await jn(Bt(be,"catalog"))).forEach(z=>{z.data().id===M&&(b=z.data())}),b.images=b.images.filter(z=>z.id!==U?z:null),await Ss(Mn(be,"catalog",a.current),b);const O=await S(M);await Promise.all(O.map(z=>{Number(z.split("/")[1])===U&&Qw(Vu(Ku,z))})),m()}async function _(M){(await jn(Bt(be,"catalog"))).forEach(b=>{if(b.data().id===M){a.current=b._key.path.segments[6];return}})}async function E(M,U){await _(M),await Ss(Mn(be,"catalog",a.current),U),m()}async function x(){let M=[],U=[],b=[];for(let O=0;O<n.length;O++)M.push(O);(await jn(Bt(be,"catalog"))).forEach(O=>{U.push(O.data().id)}),M.map(O=>{U.includes(O)||b.push(O)}),u.current=b}async function S(M){const U=Vu(Ku,M+"/"),b=[];return await WM(U).then(L=>{L.items.forEach(O=>{b.push(O._location.path_)})}).catch(L=>{}),b}async function P(M){await _(M),await Z4(Mn(be,"catalog",a.current));const U=await S(M);await Promise.all(U.map(b=>{Qw(Vu(Ku,b))})),m()}const I=(M,U)=>{s(b=>({...b,[M]:U})),y(M,U)};async function k(M,U){if(o.current===""){console.log("You have to sing up");return}const b=Mn(be,"users",o.current);let L=(await Gu(b)).data().cart,O=!0;L=L.map(z=>z.id===M?(O=!1,{...z,quantity:z.quantity+U}):z),O&&L.push({id:M,quantity:U}),L=L.filter(z=>z.quantity!==0),await WE(b,{cart:L}),d(),m()}function N(M,U){let b=JSON.parse(localStorage.getItem("cart")),L=[];if(b){let O=!0;L=b.map(z=>(z.id===M&&(z.quantity=z.quantity+U,O=!1),z)),O&&(L=[...L,{id:M,quantity:U}])}else L=[{id:M,quantity:U}];L.length&&(L=L.filter(O=>O.quantity!==0)),localStorage.setItem("cart",JSON.stringify(L))}function F(){m()}async function Z(M){await I("inPayment",M),c("/payment-delivery")}async function oe(M){if(await d(),await m(),o.current===""){console.log("You have to sing up");return}M&&I("cart",[]);const U=Mn(be,"users",o.current);let b=(await Gu(U)).data();await Ss(U,{...b,orders:[...b.orders||[],b.openOrder],openOrder:""});const L=Mn(be,"orders",b.openOrder);let O=(await Gu(L)).data();await Ss(L,{...O,state:M?"success":"canceled"}),d(),m()}async function ae(M){if(o.current===""){console.log("You have to sing up");return}const U=Mn(be,"users",o.current),b=(await Gu(U)).data();b.openOrder!==""&&b.openOrder!==void 0&&await oe(!1),await Ss(U,{...b,openOrder:M}),d(),m()}const ce={catalog:n,addToCatalog:w,updateCatalog:E,deleteFromCatalog:P,uploadImage:h,addImageToCatalog:g,deleteImageFromCatalog:v,profile:i,updateProfile:I,addToCart:k,addToLocalCart:N,refreshCatalog:F,addToPayment:Z,addOrderToProfile:oe,setOpenOrder:ae};return p.jsx(wA.Provider,{value:ce,children:t})},Ke=()=>T.useContext(wA);function h$(){const{profile:t,catalog:e,updateProfile:n}=Ke(),{editor:r,nickname:i,uid:s,cart:o}=t,[a,l]=T.useState(0),u=localStorage.getItem("uid")!=="x"&&localStorage.getItem("uid")!==""&&localStorage.getItem("uid")!==null;return T.useEffect(()=>{function c(){let d=0;if(u)o.length>0&&(d=o.reduce((h,f)=>h+f.quantity,0));else{let h=JSON.parse(localStorage.getItem("cart"));h!==null&&(d=h.reduce((f,m)=>f+m.quantity,0))}return d}l(c())},[e,u]),p.jsxs("div",{className:"flex justify-between bg-gray-100 shadow-md",children:[p.jsx("div",{className:"ml-5 flex w-[350px] items-center",children:p.jsx("a",{href:"/",children:p.jsx("img",{className:"h-20",src:"logo2.png",alt:"Logo"})})}),p.jsxs("div",{className:`flex h-20 w-[600px] justify-center\r
        rounded-b-xl bg-gray-200 font-bold text-white `,children:[p.jsx(Qu,{icon:p.jsx(WO,{size:"30"}),href:"/",text:"Úvod"}),p.jsx(Qu,{icon:p.jsx(HO,{size:"30"}),href:"/products",text:"Brýle"}),p.jsx(Qu,{icon:p.jsx(GO,{size:"30"}),href:"/about-us",text:"O nás"}),p.jsx(Qu,{icon:p.jsx(QO,{size:"30"}),href:"/contact",text:"Kontakt",width:"long"})]}),p.jsxs("div",{className:"mr-5 flex w-[350px] items-center justify-end",children:[r&&p.jsxs("div",{className:"flex",children:[p.jsx("button",{className:"my-2 mr-4 rounded-lg border border-red-600 px-4  font-semibold text-red-600",onClick:()=>n("editor",!1),children:"Disable"}),p.jsx("button",{className:"my-2 mr-4 rounded-lg bg-black px-4  font-semibold text-white",onClick:()=>window.location.href="dev",children:"Dev"}),p.jsx("p",{className:"mr-5 flex flex-col font-bold",children:"Editor Mode"})]}),p.jsxs("a",{className:"group relative mr-5 flex flex-col items-center ",href:"/cart",children:[p.jsx(qO,{className:"z scale-75 duration-150 group-hover:translate-y-2 group-hover:scale-100",size:"40"}),p.jsx("div",{className:"absolute left-7 top-0 flex items-center justify-center duration-150 group-hover:translate-x-[-16px] group-hover:translate-y-[7px]",children:p.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-lg bg-red-600",children:p.jsx("p",{className:"w-8 text-center text-xs font-bold text-white",children:a})})}),p.jsx("p",{className:"text-center font-bold duration-150 group-hover:translate-y-4 group-hover:text-transparent",children:"košík"})]}),p.jsxs("a",{className:"group flex w-16 flex-col items-center",href:"/account",children:[p.jsx(XO,{className:"scale-75 duration-150 group-hover:translate-y-2 group-hover:scale-100",size:"40"}),p.jsx("p",{className:"text-center font-bold duration-150 group-hover:translate-y-4 group-hover:text-transparent",children:s==="x"?"účet":i})]})]})]})}const Qu=({icon:t,href:e,text:n="Produkty",width:r="short"})=>{function i(){const s=window.location.pathname;let o;switch(t.type.name){case"FaHome":o="/";break;case"IoIosGlasses":o="/products";break;case"IoPeopleSharp":o="/about-us";break;case"MdContactMail":o="/contact";break;default:o="different";break}return s===o?{color:"rgb(70,156,248)"}:{}}return p.jsx("div",{className:"flex w-[140px] items-center justify-center ",children:p.jsxs("a",{className:"group relative flex flex-col items-center justify-center",href:e,children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("p",{className:"mr-2 whitespace-nowrap text-xl text-black duration-300 group-hover:text-brand-blue",style:i(),children:n}),p.jsx("div",{className:"text-black",children:t})]}),p.jsx("div",{className:"absolute left-auto top-[34px] h-[3px] w-[0px] rounded-full bg-transparent group-hover:w-[90px] group-hover:bg-white group-hover:duration-300 group-active:bg-blue-300"})]})})};function y1(t){return p.jsxs("div",{className:"relative m-2 mt-6 flex w-[1000px] flex-col items-center justify-center rounded-3xl bg-gray-100 p-6 shadow-md",children:[p.jsx("img",{className:"mt-4 w-[600px] rounded-xl",src:t.image}),p.jsx("div",{className:"absolute left-12 top-3 flex items-center rounded-xl border-2 border-gray-100 bg-white px-4 py-5 ",children:p.jsx("p",{className:"headline ",children:t.headline})}),p.jsx("a",{href:"/products#free-time",className:" mx-16 mt-6 flex items-center",children:p.jsx("button",{className:"button__submit align-center button__big absolute  bottom-6  right-28 items-center text-center text-sm",children:"Prozkoumat"})})]})}const f0=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Gh=T.createContext({}),p0=T.createContext(null),m0=typeof document<"u",EA=m0?T.useLayoutEffect:T.useEffect,TA=T.createContext({strict:!1}),g0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),f$="framerAppearId",xA="data-"+g0(f$),p$={skipAnimations:!1,useManualTiming:!1};class _1{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function m$(t){let e=new _1,n=new _1,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const d=c&&i,h=d?e:n;return u&&o.add(l),h.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const c=e.order[u];o.has(c)&&(a.schedule(c),t()),c(l)}i=!1,s&&(s=!1,a.process(l))}};return a}const Yu=["read","resolveKeyframes","update","preRender","render","postRender"],g$=40;function SA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Yu.reduce((d,h)=>(d[h]=m$(()=>n=!0),d),{}),o=d=>{s[d].process(i)},a=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,g$),1),i.timestamp=d,i.isProcessing=!0,Yu.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Yu.reduce((d,h)=>{const f=s[h];return d[h]=(m,y=!1,w=!1)=>(n||l(),f.schedule(m,y,w)),d},{}),cancel:d=>Yu.forEach(h=>s[h].cancel(d)),state:i,steps:s}}const{schedule:v0,cancel:Hq}=SA(queueMicrotask,!1);function v$(t,e,n,r){const{visualElement:i}=T.useContext(Gh),s=T.useContext(TA),o=T.useContext(p0),a=T.useContext(f0).reducedMotion,l=T.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;T.useInsertionEffect(()=>{u&&u.update(n,o)});const c=T.useRef(!!(n[xA]&&!window.HandoffComplete));return EA(()=>{u&&(v0.postRender(u.render),c.current&&u.animationState&&u.animationState.animateChanges())}),T.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function $s(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function y$(t,e,n){return T.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):$s(n)&&(n.current=r))},[e])}function Tl(t){return typeof t=="string"||Array.isArray(t)}function qh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const y0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_0=["initial",...y0];function Kh(t){return qh(t.animate)||_0.some(e=>Tl(t[e]))}function IA(t){return!!(Kh(t)||t.variants)}function _$(t,e){if(Kh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Tl(n)?n:void 0,animate:Tl(r)?r:void 0}}return t.inherit!==!1?e:{}}function w$(t){const{initial:e,animate:n}=_$(t,T.useContext(Gh));return T.useMemo(()=>({initial:e,animate:n}),[w1(e),w1(n)])}function w1(t){return Array.isArray(t)?t.join(" "):t}const E1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xl={};for(const t in E1)xl[t]={isEnabled:e=>E1[t].some(n=>!!e[n])};function E$(t){for(const e in t)xl[e]={...xl[e],...t[e]}}const bA=T.createContext({}),PA=T.createContext({}),T$=Symbol.for("motionComponentSymbol");function x$({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&E$(t);function s(a,l){let u;const c={...T.useContext(f0),...a,layoutId:S$(a)},{isStatic:d}=c,h=w$(a),f=r(a,d);if(!d&&m0){h.visualElement=v$(i,f,c,e);const m=T.useContext(PA),y=T.useContext(TA).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,y,t,m))}return p.jsxs(Gh.Provider,{value:h,children:[u&&h.visualElement?p.jsx(u,{visualElement:h.visualElement,...c}):null,n(i,a,y$(f,h.visualElement,l),f,d,h.visualElement)]})}const o=T.forwardRef(s);return o[T$]=i,o}function S$({layoutId:t}){const e=T.useContext(bA).id;return e&&t!==void 0?e+"-"+t:t}function I$(t){function e(r,i={}){return x$(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const b$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function w0(t){return typeof t!="string"||t.includes("-")?!1:!!(b$.indexOf(t)>-1||/[A-Z]/u.test(t))}const Sd={};function P$(t){Object.assign(Sd,t)}const nu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_s=new Set(nu);function CA(t,{layout:e,layoutId:n}){return _s.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sd[t]||t==="opacity")}const xt=t=>!!(t&&t.getVelocity),C$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},A$=nu.length;function R$(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<A$;o++){const a=nu[o];if(t[a]!==void 0){const l=C$[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const AA=t=>e=>typeof e=="string"&&e.startsWith(t),RA=AA("--"),D$=AA("var(--"),E0=t=>D$(t)?k$.test(t.split("/*")[0].trim()):!1,k$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,N$=(t,e)=>e&&typeof t=="number"?e.transform(t):t,di=(t,e,n)=>n>e?e:n<t?t:n,Vo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Na={...Vo,transform:t=>di(0,1,t)},Xu={...Vo,default:1},Oa=t=>Math.round(t*1e5)/1e5,T0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,O$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,L$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function ru(t){return typeof t=="string"}const iu=t=>({test:e=>ru(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Cr=iu("deg"),Zn=iu("%"),q=iu("px"),M$=iu("vh"),V$=iu("vw"),T1={...Zn,parse:t=>Zn.parse(t)/100,transform:t=>Zn.transform(t*100)},x1={...Vo,transform:Math.round},DA={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,radius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,size:q,top:q,right:q,bottom:q,left:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,rotate:Cr,rotateX:Cr,rotateY:Cr,rotateZ:Cr,scale:Xu,scaleX:Xu,scaleY:Xu,scaleZ:Xu,skew:Cr,skewX:Cr,skewY:Cr,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:Na,originX:T1,originY:T1,originZ:q,zIndex:x1,backgroundPositionX:q,backgroundPositionY:q,fillOpacity:Na,strokeOpacity:Na,numOctaves:x1};function x0(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const d in e){const h=e[d];if(RA(d)){s[d]=h;continue}const f=DA[d],m=N$(h,f);if(_s.has(d)){if(l=!0,o[d]=m,!c)continue;h!==(f.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=m):i[d]=m}if(e.transform||(l||r?i.transform=R$(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;i.transformOrigin=`${d} ${h} ${f}`}}const S0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kA(t,e,n){for(const r in e)!xt(e[r])&&!CA(r,n)&&(t[r]=e[r])}function j$({transformTemplate:t},e,n){return T.useMemo(()=>{const r=S0();return x0(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function F$(t,e,n){const r=t.style||{},i={};return kA(i,r,t),Object.assign(i,j$(t,e,n)),i}function B$(t,e,n){const r={},i=F$(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const U$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Id(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||U$.has(t)}let NA=t=>!Id(t);function $$(t){t&&(NA=e=>e.startsWith("on")?!Id(e):t(e))}try{$$(require("@emotion/is-prop-valid").default)}catch{}function z$(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(NA(i)||n===!0&&Id(i)||!e&&!Id(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function S1(t,e,n){return typeof t=="string"?t:q.transform(e+n*t)}function W$(t,e,n){const r=S1(e,t.x,t.width),i=S1(n,t.y,t.height);return`${r} ${i}`}const H$={offset:"stroke-dashoffset",array:"stroke-dasharray"},G$={offset:"strokeDashoffset",array:"strokeDasharray"};function q$(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?H$:G$;t[s.offset]=q.transform(-r);const o=q.transform(e),a=q.transform(n);t[s.array]=`${o} ${a}`}function I0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d,h){if(x0(t,u,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:y}=t;f.transform&&(y&&(m.transform=f.transform),delete f.transform),y&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=W$(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&q$(f,o,a,l,!1)}const OA=()=>({...S0(),attrs:{}}),b0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function K$(t,e,n,r){const i=T.useMemo(()=>{const s=OA();return I0(s,e,{enableHardwareAcceleration:!1},b0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};kA(s,t.style,t),i.style={...s,...i.style}}return i}function Q$(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(w0(n)?K$:B$)(r,s,o,n),u=z$(r,typeof n=="string",t),c=n!==T.Fragment?{...u,...l,ref:i}:{},{children:d}=r,h=T.useMemo(()=>xt(d)?d.get():d,[d]);return T.createElement(n,{...c,children:h})}}function LA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const MA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VA(t,e,n,r){LA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(MA.has(i)?i:g0(i),e.attrs[i])}function P0(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(xt(i[o])||e.style&&xt(e.style[o])||CA(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function jA(t,e,n){const r=P0(t,e,n);for(const i in t)if(xt(t[i])||xt(e[i])){const s=nu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function I1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function C0(t,e,n,r){if(typeof e=="function"){const[i,s]=I1(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=I1(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function A0(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const xg=t=>Array.isArray(t),Y$=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),X$=t=>xg(t)?t[t.length-1]||0:t;function Sc(t){const e=xt(t)?t.get():t;return Y$(e)?e.toValue():e}function J$({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:Z$(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const FA=t=>(e,n)=>{const r=T.useContext(Gh),i=T.useContext(p0),s=()=>J$(t,e,r,i);return n?s():A0(s)};function Z$(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Sc(s[h]);let{initial:o,animate:a}=t;const l=Kh(t),u=IA(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;return d&&typeof d!="boolean"&&!qh(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const m=C0(t,f);if(!m)return;const{transitionEnd:y,transition:w,...g}=m;for(const v in g){let _=g[v];if(Array.isArray(_)){const E=c?_.length-1:0;_=_[E]}_!==null&&(i[v]=_)}for(const v in y)i[v]=y[v]}),i}const bt=t=>t,{schedule:me,cancel:hi,state:at,steps:Ep}=SA(typeof requestAnimationFrame<"u"?requestAnimationFrame:bt,!0),e6={useVisualState:FA({scrapeMotionValuesFromProps:jA,createRenderState:OA,onMount:(t,e,{renderState:n,latestValues:r})=>{me.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),me.render(()=>{I0(n,r,{enableHardwareAcceleration:!1},b0(e.tagName),t.transformTemplate),VA(e,n)})}})},t6={useVisualState:FA({scrapeMotionValuesFromProps:P0,createRenderState:S0})};function n6(t,{forwardMotionProps:e=!1},n,r){return{...w0(t)?e6:t6,preloadedFeatures:n,useRender:Q$(e),createVisualElement:r,Component:t}}function fr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const BA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Qh(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const r6=t=>e=>BA(e)&&t(e,Qh(e));function mr(t,e,n,r){return fr(t,e,r6(n),r)}const i6=(t,e)=>n=>e(t(n)),gr=(...t)=>t.reduce(i6);function UA(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const b1=UA("dragHorizontal"),P1=UA("dragVertical");function $A(t){let e=!1;if(t==="y")e=P1();else if(t==="x")e=b1();else{const n=b1(),r=P1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function zA(){const t=$A(!0);return t?(t(),!1):!0}class xi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function C1(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||zA())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&me.postRender(()=>l(s,o))};return mr(t.current,n,i,{passive:!t.getProps()[r]})}class s6 extends xi{mount(){this.unmount=gr(C1(this.node,!0),C1(this.node,!1))}unmount(){}}class o6 extends xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gr(fr(this.node.current,"focus",()=>this.onFocus()),fr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const WA=(t,e)=>e?t===e?!0:WA(t,e.parentElement):!1;function Tp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Qh(n))}class a6 extends xi{constructor(){super(...arguments),this.removeStartListeners=bt,this.removeEndListeners=bt,this.removeAccessibleListeners=bt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=mr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:d}=this.node.getProps(),h=!d&&!WA(this.node.current,a.target)?c:u;h&&me.update(()=>h(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=mr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=gr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Tp("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&me.postRender(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=fr(this.node.current,"keyup",o),Tp("down",(a,l)=>{this.startPress(a,l)})},n=fr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Tp("cancel",(s,o)=>this.cancelPress(s,o))},i=fr(this.node.current,"blur",r);this.removeAccessibleListeners=gr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&me.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!zA()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&me.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=mr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=fr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=gr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Sg=new WeakMap,xp=new WeakMap,l6=t=>{const e=Sg.get(t.target);e&&e(t)},u6=t=>{t.forEach(l6)};function c6({root:t,...e}){const n=t||document;xp.has(n)||xp.set(n,{});const r=xp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(u6,{root:t,...e})),r[i]}function d6(t,e,n){const r=c6(e);return Sg.set(t,n),r.observe(t),()=>{Sg.delete(t),r.unobserve(t)}}const h6={some:0,all:1};class f6 extends xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:h6[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return d6(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(p6(e,n))&&this.startObserver()}unmount(){}}function p6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const m6={inView:{Feature:f6},tap:{Feature:a6},focus:{Feature:o6},hover:{Feature:s6}};function HA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Yh(t,e,n){const r=t.getProps();return C0(r,e,n!==void 0?n:r.custom,t)}const ei=t=>t*1e3,vr=t=>t/1e3,g6={type:"spring",stiffness:500,damping:25,restSpeed:10},v6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),y6={type:"keyframes",duration:.8},_6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},w6=(t,{keyframes:e})=>e.length>2?y6:_s.has(t)?t.startsWith("scale")?v6(e[1]):g6:_6;function E6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function R0(t,e){return t[e]||t.default||t}const T6=t=>t!==null;function Xh(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(T6),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}let Ic;function x6(){Ic=void 0}const ti={now:()=>(Ic===void 0&&ti.set(at.isProcessing||p$.useManualTiming?at.timestamp:performance.now()),Ic),set:t=>{Ic=t,queueMicrotask(x6)}},GA=t=>/^0[^.\s]+$/u.test(t);function S6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||GA(t):!0}let D0=bt;const qA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),I6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function b6(t){const e=I6.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function KA(t,e,n=1){const[r,i]=b6(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return qA(o)?parseFloat(o):o}return E0(i)?KA(i,e,n+1):i}const P6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),A1=t=>t===Vo||t===q,R1=(t,e)=>parseFloat(t.split(", ")[e]),D1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return R1(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?R1(s[1],t):0}},C6=new Set(["x","y","z"]),A6=nu.filter(t=>!C6.has(t));function R6(t){const e=[];return A6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const wo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:D1(4,13),y:D1(5,14)};wo.translateX=wo.x;wo.translateY=wo.y;const QA=t=>e=>e.test(t),D6={test:t=>t==="auto",parse:t=>t},YA=[Vo,q,Zn,Cr,V$,M$,D6],k1=t=>YA.find(QA(t)),Qi=new Set;let Ig=!1,bg=!1;function XA(){if(bg){const t=Array.from(Qi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=R6(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}bg=!1,Ig=!1,Qi.forEach(t=>t.complete()),Qi.clear()}function JA(){Qi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(bg=!0)})}function k6(){JA(),XA()}class k0{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Qi.add(this),Ig||(Ig=!0,me.read(JA),me.resolveKeyframes(XA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Qi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Qi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const N0=(t,e)=>n=>!!(ru(n)&&L$.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),ZA=(t,e,n)=>r=>{if(!ru(r))return r;const[i,s,o,a]=r.match(T0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},N6=t=>di(0,255,t),Sp={...Vo,transform:t=>Math.round(N6(t))},$i={test:N0("rgb","red"),parse:ZA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Sp.transform(t)+", "+Sp.transform(e)+", "+Sp.transform(n)+", "+Oa(Na.transform(r))+")"};function O6(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Pg={test:N0("#"),parse:O6,transform:$i.transform},zs={test:N0("hsl","hue"),parse:ZA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zn.transform(Oa(e))+", "+Zn.transform(Oa(n))+", "+Oa(Na.transform(r))+")"},_t={test:t=>$i.test(t)||Pg.test(t)||zs.test(t),parse:t=>$i.test(t)?$i.parse(t):zs.test(t)?zs.parse(t):Pg.parse(t),transform:t=>ru(t)?t:t.hasOwnProperty("red")?$i.transform(t):zs.transform(t)};function L6(t){var e,n;return isNaN(t)&&ru(t)&&(((e=t.match(T0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(O$))===null||n===void 0?void 0:n.length)||0)>0}const eR="number",tR="color",M6="var",V6="var(",N1="${}",j6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(j6,l=>(_t.test(l)?(r.color.push(s),i.push(tR),n.push(_t.parse(l))):l.startsWith(V6)?(r.var.push(s),i.push(M6),n.push(l)):(r.number.push(s),i.push(eR),n.push(parseFloat(l))),++s,N1)).split(N1);return{values:n,split:a,indexes:r,types:i}}function nR(t){return Sl(t).values}function rR(t){const{split:e,types:n}=Sl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===eR?s+=Oa(i[o]):a===tR?s+=_t.transform(i[o]):s+=i[o]}return s}}const F6=t=>typeof t=="number"?0:t;function B6(t){const e=nR(t);return rR(t)(e.map(F6))}const fi={test:L6,parse:nR,createTransformer:rR,getAnimatableNone:B6},U6=new Set(["brightness","contrast","saturate","opacity"]);function $6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(T0)||[];if(!r)return t;const i=n.replace(r,"");let s=U6.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const z6=/\b([a-z-]*)\(.*?\)/gu,Cg={...fi,getAnimatableNone:t=>{const e=t.match(z6);return e?e.map($6).join(" "):t}},W6={...DA,color:_t,backgroundColor:_t,outlineColor:_t,fill:_t,stroke:_t,borderColor:_t,borderTopColor:_t,borderRightColor:_t,borderBottomColor:_t,borderLeftColor:_t,filter:Cg,WebkitFilter:Cg},O0=t=>W6[t];function iR(t,e){let n=O0(t);return n!==Cg&&(n=fi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const H6=new Set(["auto","none","0"]);function G6(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!H6.has(s)&&Sl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=iR(n,i)}class sR extends k0{constructor(e,n,r,i){super(e,n,r,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){const u=e[l];if(typeof u=="string"&&E0(u)){const c=KA(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!P6.has(r)||e.length!==2)return;const[i,s]=e,o=k1(i),a=k1(s);if(o!==a)if(A1(o)&&A1(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)S6(e[i])&&r.push(i);r.length&&G6(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=wo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function q6(t){let e;return()=>(e===void 0&&(e=t()),e)}const O1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fi.test(t)||t==="0")&&!t.startsWith("url("));function K6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Q6(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=O1(i,e),a=O1(s,e);return!o||!a?!1:K6(t)||n==="spring"&&r}class oR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&k6(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!Q6(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Xh(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function aR(t,e){return e?t*(1e3/e):0}const Y6=5;function lR(t,e,n){const r=Math.max(e-Y6,0);return aR(n-t(r),e-r)}const Ip=.001,X6=.01,J6=10,Z6=.05,e5=1;function t5({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=di(Z6,e5,o),t=di(X6,J6,vr(t)),o<1?(i=u=>{const c=u*o,d=c*t,h=c-n,f=Ag(u,o),m=Math.exp(-d);return Ip-h/f*m},s=u=>{const d=u*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-d),y=Ag(Math.pow(u,2),o);return(-i(u)+Ip>0?-1:1)*((h-f)*m)/y}):(i=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-Ip+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=r5(i,s,a);if(t=ei(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const n5=12;function r5(t,e,n){let r=n;for(let i=1;i<n5;i++)r=r-t(r)/e(r);return r}function Ag(t,e){return t*Math.sqrt(1-e*e)}const i5=["duration","bounce"],s5=["stiffness","damping","mass"];function L1(t,e){return e.some(n=>t[n]!==void 0)}function o5(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!L1(t,s5)&&L1(t,i5)){const n=t5(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function uR({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:h}=o5({...r,velocity:-vr(r.velocity||0)}),f=d||0,m=l/(2*Math.sqrt(a*u)),y=s-i,w=vr(Math.sqrt(a/u)),g=Math.abs(y)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let v;if(m<1){const _=Ag(w,m);v=E=>{const x=Math.exp(-m*w*E);return s-x*((f+m*w*y)/_*Math.sin(_*E)+y*Math.cos(_*E))}}else if(m===1)v=_=>s-Math.exp(-w*_)*(y+(f+w*y)*_);else{const _=w*Math.sqrt(m*m-1);v=E=>{const x=Math.exp(-m*w*E),S=Math.min(_*E,300);return s-x*((f+m*w*y)*Math.sinh(S)+_*y*Math.cosh(S))/_}}return{calculatedDuration:h&&c||null,next:_=>{const E=v(_);if(h)o.done=_>=c;else{let x=f;_!==0&&(m<1?x=lR(v,_,E):x=0);const S=Math.abs(x)<=n,P=Math.abs(s-E)<=e;o.done=S&&P}return o.value=o.done?s:E,o}}}function M1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],h={done:!1,value:d},f=I=>a!==void 0&&I<a||l!==void 0&&I>l,m=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let y=n*e;const w=d+y,g=o===void 0?w:o(w);g!==w&&(y=g-d);const v=I=>-y*Math.exp(-I/r),_=I=>g+v(I),E=I=>{const k=v(I),N=_(I);h.done=Math.abs(k)<=u,h.value=h.done?g:N};let x,S;const P=I=>{f(h.value)&&(x=I,S=uR({keyframes:[h.value,m(h.value)],velocity:lR(_,I,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return P(0),{calculatedDuration:null,next:I=>{let k=!1;return!S&&x===void 0&&(k=!0,E(I),P(I)),x!==void 0&&I>=x?S.next(I-x):(!k&&E(I),h)}}}const cR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,a5=1e-7,l5=12;function u5(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=cR(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>a5&&++a<l5);return o}function su(t,e,n,r){if(t===e&&n===r)return bt;const i=s=>u5(s,0,1,t,n);return s=>s===0||s===1?s:cR(i(s),e,r)}const c5=su(.42,0,1,1),d5=su(0,0,.58,1),dR=su(.42,0,.58,1),h5=t=>Array.isArray(t)&&typeof t[0]!="number",hR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fR=t=>e=>1-t(1-e),L0=t=>1-Math.sin(Math.acos(t)),pR=fR(L0),f5=hR(L0),mR=su(.33,1.53,.69,.99),M0=fR(mR),p5=hR(M0),m5=t=>(t*=2)<1?.5*M0(t):.5*(2-Math.pow(2,-10*(t-1))),g5={linear:bt,easeIn:c5,easeInOut:dR,easeOut:d5,circIn:L0,circInOut:f5,circOut:pR,backIn:M0,backInOut:p5,backOut:mR,anticipate:m5},V1=t=>{if(Array.isArray(t)){D0(t.length===4);const[e,n,r,i]=t;return su(e,n,r,i)}else if(typeof t=="string")return g5[t];return t},Il=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ce=(t,e,n)=>t+(e-t)*n;function bp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function v5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=bp(l,a,t+1/3),s=bp(l,a,t),o=bp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Pp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},y5=[Pg,$i,zs],_5=t=>y5.find(e=>e.test(t));function j1(t){const e=_5(t);let n=e.parse(t);return e===zs&&(n=v5(n)),n}const F1=(t,e)=>{const n=j1(t),r=j1(e),i={...n};return s=>(i.red=Pp(n.red,r.red,s),i.green=Pp(n.green,r.green,s),i.blue=Pp(n.blue,r.blue,s),i.alpha=Ce(n.alpha,r.alpha,s),$i.transform(i))},Rg=new Set(["none","hidden"]);function w5(t,e){return Rg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Dg(t,e){return n=>n>0?e:t}function E5(t,e){return n=>Ce(t,e,n)}function V0(t){return typeof t=="number"?E5:typeof t=="string"?E0(t)?Dg:_t.test(t)?F1:S5:Array.isArray(t)?gR:typeof t=="object"?_t.test(t)?F1:T5:Dg}function gR(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>V0(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function T5(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=V0(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function x5(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const S5=(t,e)=>{const n=fi.createTransformer(e),r=Sl(t),i=Sl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Rg.has(t)&&!i.values.length||Rg.has(e)&&!r.values.length?w5(t,e):gr(gR(x5(r,i),i.values),n):Dg(t,e)};function vR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ce(t,e,n):V0(t)(t,e)}function I5(t,e,n){const r=[],i=n||vR,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||bt:e;a=gr(l,a)}r.push(a)}return r}function b5(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(D0(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=I5(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const d=Il(t[c],t[c+1],u);return o[c](d)};return n?u=>l(di(t[0],t[s-1],u)):l}function P5(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Il(0,e,r);t.push(Ce(n,1,i))}}function C5(t){const e=[0];return P5(e,t.length-1),e}function A5(t,e){return t.map(n=>n*e)}function R5(t,e){return t.map(()=>e||dR).splice(0,t.length-1)}function bd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=h5(r)?r.map(V1):V1(r),s={done:!1,value:e[0]},o=A5(n&&n.length===e.length?n:C5(e),t),a=b5(o,e,{ease:Array.isArray(i)?i:R5(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const B1=2e4;function D5(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<B1;)e+=n,r=t.next(e);return e>=B1?1/0:e}const k5=t=>{const e=({timestamp:n})=>t(n);return{start:()=>me.update(e,!0),stop:()=>hi(e),now:()=>at.isProcessing?at.timestamp:ti.now()}},N5={decay:M1,inertia:M1,tween:bd,keyframes:bd,spring:uR},O5=t=>t/100;class j0 extends oR{constructor({KeyframeResolver:e=k0,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:i,keyframes:s}=this.options,o=(a,l)=>this.onKeyframesResolved(a,l);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(s,o,r,i):this.resolver=new e(s,o,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=N5[n]||bd;let l,u;a!==bd&&typeof e[0]!="number"&&(l=gr(O5,vR(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=D5(c));const{calculatedDuration:d}=c,h=d+i,f=h*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:f,repeatType:m,repeatDelay:y,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let _=this.currentTime,E=s;if(f){const I=Math.min(this.currentTime,c)/d;let k=Math.floor(I),N=I%1;!N&&I>=1&&(N=1),N===1&&k--,k=Math.min(k,f+1),!!(k%2)&&(m==="reverse"?(N=1-N,y&&(N-=y/d)):m==="mirror"&&(E=o)),_=di(0,1,N)*d}const x=v?{done:!1,value:l[0]}:E.next(_);a&&(x.value=a(x.value));let{done:S}=x;!v&&u!==null&&(S=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return P&&i!==void 0&&(x.value=Xh(l,this.options,i)),w&&w(x.value),P&&this.finish(),x}get duration(){const{resolved:e}=this;return e?vr(e.calculatedDuration):0}get time(){return vr(this.currentTime)}set time(e){e=ei(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=vr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=k5,onPlay:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const yR=t=>Array.isArray(t)&&typeof t[0]=="number";function _R(t){return!!(!t||typeof t=="string"&&t in F0||yR(t)||Array.isArray(t)&&t.every(_R))}const ma=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,F0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ma([0,.65,.55,1]),circOut:ma([.55,0,1,.45]),backIn:ma([.31,.01,.66,-.59]),backOut:ma([.33,1.53,.69,.99])};function L5(t){return wR(t)||F0.easeOut}function wR(t){if(t)return yR(t)?ma(t):Array.isArray(t)?t.map(L5):F0[t]}function M5(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=wR(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const V5=q6(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),j5=new Set(["opacity","clipPath","filter","transform"]),Pd=10,F5=2e4;function B5(t){return t.type==="spring"||t.name==="backgroundColor"||!_R(t.ease)}function U5(t,e){const n=new j0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<F5;)r=n.sample(s),i.push(r.value),s+=Pd;return{times:void 0,keyframes:i,duration:s-Pd,ease:"linear"}}class U1 extends oR{constructor(e){super(e);const{name:n,motionValue:r,keyframes:i}=this.options;this.resolver=new sR(i,(s,o)=>this.onKeyframesResolved(s,o),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(B5(this.options)){const{onComplete:d,onUpdate:h,motionValue:f,...m}=this.options,y=U5(e,m);e=y.keyframes,e.length===1&&(e[1]=e[0]),i=y.duration,s=y.times,o=y.ease,a="keyframes"}const c=M5(l.owner.current,u,e,{...this.options,duration:i,times:s,ease:o});return c.startTime=ti.now(),this.pendingTimeline?(c.timeline=this.pendingTimeline,this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:d}=this.options;l.set(Xh(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return vr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return vr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ei(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return bt;const{animation:r}=n;r.timeline=e,r.onfinish=null}return bt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:u,onComplete:c,...d}=this.options,h=new j0({...d,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),f=ei(this.time);l.setWithVelocity(h.sample(f-Pd).value,h.sample(f).value,Pd)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return V5()&&r&&j5.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const B0=(t,e,n,r={},i,s)=>o=>{const a=R0(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ei(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};E6(a)||(c={...c,...w6(t,c)}),c.duration&&(c.duration=ei(c.duration)),c.repeatDelay&&(c.repeatDelay=ei(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const h=Xh(c.keyframes,a);if(h!==void 0){me.update(()=>{c.onUpdate(h),c.onComplete()});return}}return!s&&U1.supports(c)?new U1(c):new j0(c)};function Cd(t){return!!(xt(t)&&t.add)}function U0(t,e){t.indexOf(e)===-1&&t.push(e)}function $0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class z0{constructor(){this.subscriptions=[]}add(e){return U0(this.subscriptions,e),()=>$0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $1=30,$5=t=>!isNaN(parseFloat(t));class z5{constructor(e,n={}){this.version="11.2.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=ti.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ti.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new z0);const r=this.events[e].add(n);return e==="change"?()=>{r(),me.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ti.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$1);return aR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Eo(t,e){return new z5(t,e)}function W5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Eo(n))}function W0(t,e){const n=Yh(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=X$(s[o]);W5(t,o,a)}}function H5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ER(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;const u=t.getValue("willChange");r&&(o=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),m=l[h];if(m===void 0||d&&H5(d,h))continue;const y={delay:n,elapsed:0,...R0(o||{},h)};let w=!1;if(window.HandoffAppearAnimations){const _=t.getProps()[xA];if(_){const E=window.HandoffAppearAnimations(_,h,f,me);E!==null&&(y.elapsed=E,w=!0)}}f.start(B0(h,f,m,t.shouldReduceMotion&&_s.has(h)?{type:!1}:y,t,w));const g=f.animation;g&&(Cd(u)&&(u.add(h),g.then(()=>u.remove(h))),c.push(g))}return a&&Promise.all(c).then(()=>{me.update(()=>{a&&W0(t,a)})}),c}function kg(t,e,n={}){var r;const i=Yh(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(ER(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=s;return G5(t,e,c+u,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function G5(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(q5).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(kg(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function q5(t,e){return t.sortNodePosition(e)}function TR(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>kg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=kg(t,e,n);else{const i=typeof e=="function"?Yh(t,e,n.custom):e;r=Promise.all(ER(t,i,n))}return r.then(()=>{me.postRender(()=>{t.notify("AnimationComplete",e)})})}const K5=[...y0].reverse(),Q5=y0.length;function Y5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>TR(t,n,r)))}function X5(t){let e=Y5(t);const n=Z5();let r=!0;const i=l=>(u,c)=>{var d;const h=Yh(t,c,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:f,transitionEnd:m,...y}=h;u={...u,...y,...m}}return u};function s(l){e=l(t)}function o(l){const u=t.getProps(),c=t.getVariantContext(!0)||{},d=[],h=new Set;let f={},m=1/0;for(let w=0;w<Q5;w++){const g=K5[w],v=n[g],_=u[g]!==void 0?u[g]:c[g],E=Tl(_),x=g===l?v.isActive:null;x===!1&&(m=w);let S=_===c[g]&&_!==u[g]&&E;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...f},!v.isActive&&x===null||!_&&!v.prevProp||qh(_)||typeof _=="boolean")continue;let I=J5(v.prevProp,_)||g===l&&v.isActive&&!S&&E||w>m&&E,k=!1;const N=Array.isArray(_)?_:[_];let F=N.reduce(i(g),{});x===!1&&(F={});const{prevResolvedValues:Z={}}=v,oe={...Z,...F},ae=ce=>{I=!0,h.has(ce)&&(k=!0,h.delete(ce)),v.needsAnimating[ce]=!0;const M=t.getValue(ce);M&&(M.liveStyle=!1)};for(const ce in oe){const M=F[ce],U=Z[ce];if(f.hasOwnProperty(ce))continue;let b=!1;xg(M)&&xg(U)?b=!HA(M,U):b=M!==U,b?M!=null?ae(ce):h.add(ce):M!==void 0&&h.has(ce)?ae(ce):v.protectedKeys[ce]=!0}v.prevProp=_,v.prevResolvedValues=F,v.isActive&&(f={...f,...F}),r&&t.blockInitialAnimation&&(I=!1),I&&(!S||k)&&d.push(...N.map(ce=>({animation:ce,options:{type:g}})))}if(h.size){const w={};h.forEach(g=>{const v=t.getBaseTarget(g),_=t.getValue(g);_&&(_.liveStyle=!0),w[g]=v??null}),d.push({animation:w})}let y=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(d):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(h=>{var f;return(f=h.animationState)===null||f===void 0?void 0:f.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function J5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!HA(e,t):!1}function Ii(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Z5(){return{animate:Ii(!0),whileInView:Ii(),whileHover:Ii(),whileTap:Ii(),whileDrag:Ii(),whileFocus:Ii(),exit:Ii()}}class e9 extends xi{constructor(e){super(e),e.animationState||(e.animationState=X5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),qh(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let t9=0;class n9 extends xi{constructor(){super(...arguments),this.id=t9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const r9={animation:{Feature:e9},exit:{Feature:n9}},z1=(t,e)=>Math.abs(t-e);function i9(t,e){const n=z1(t.x,e.x),r=z1(t.y,e.y);return Math.sqrt(n**2+r**2)}class xR{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Ap(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=i9(d.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:m}=d,{timestamp:y}=at;this.history.push({...m,timestamp:y});const{onStart:w,onMove:g}=this.handlers;h||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Cp(h,this.transformPagePoint),me.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:f,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ap(d.type==="pointercancel"?this.lastMoveEventInfo:Cp(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,w),m&&m(d,w)},!BA(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Qh(e),a=Cp(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=at;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,Ap(a,this.history)),this.removeListeners=gr(mr(this.contextWindow,"pointermove",this.handlePointerMove),mr(this.contextWindow,"pointerup",this.handlePointerUp),mr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hi(this.updatePoint)}}function Cp(t,e){return e?{point:e(t.point)}:t}function W1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ap({point:t},e){return{point:t,delta:W1(t,SR(e)),offset:W1(t,s9(e)),velocity:o9(e,.1)}}function s9(t){return t[0]}function SR(t){return t[t.length-1]}function o9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=SR(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ei(e)));)n--;if(!r)return{x:0,y:0};const s=vr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function sn(t){return t.max-t.min}function Ng(t,e=0,n=.01){return Math.abs(t-e)<=n}function H1(t,e,n,r=.5){t.origin=r,t.originPoint=Ce(e.min,e.max,t.origin),t.scale=sn(n)/sn(e),(Ng(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ce(n.min,n.max,t.origin)-t.originPoint,(Ng(t.translate)||isNaN(t.translate))&&(t.translate=0)}function La(t,e,n,r){H1(t.x,e.x,n.x,r?r.originX:void 0),H1(t.y,e.y,n.y,r?r.originY:void 0)}function G1(t,e,n){t.min=n.min+e.min,t.max=t.min+sn(e)}function a9(t,e,n){G1(t.x,e.x,n.x),G1(t.y,e.y,n.y)}function q1(t,e,n){t.min=e.min-n.min,t.max=t.min+sn(e)}function Ma(t,e,n){q1(t.x,e.x,n.x),q1(t.y,e.y,n.y)}function l9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ce(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ce(n,t,r.max):Math.min(t,n)),t}function K1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function u9(t,{top:e,left:n,bottom:r,right:i}){return{x:K1(t.x,n,i),y:K1(t.y,e,r)}}function Q1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function c9(t,e){return{x:Q1(t.x,e.x),y:Q1(t.y,e.y)}}function d9(t,e){let n=.5;const r=sn(t),i=sn(e);return i>r?n=Il(e.min,e.max-r,t.min):r>i&&(n=Il(t.min,t.max-i,e.min)),di(0,1,n)}function h9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Og=.35;function f9(t=Og){return t===!1?t=0:t===!0&&(t=Og),{x:Y1(t,"left","right"),y:Y1(t,"top","bottom")}}function Y1(t,e,n){return{min:X1(t,e),max:X1(t,n)}}function X1(t,e){return typeof t=="number"?t:t[e]||0}const J1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ws=()=>({x:J1(),y:J1()}),Z1=()=>({min:0,max:0}),Le=()=>({x:Z1(),y:Z1()});function dn(t){return[t("x"),t("y")]}function IR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function p9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function m9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Rp(t){return t===void 0||t===1}function Lg({scale:t,scaleX:e,scaleY:n}){return!Rp(t)||!Rp(e)||!Rp(n)}function Ri(t){return Lg(t)||bR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bR(t){return eT(t.x)||eT(t.y)}function eT(t){return t&&t!=="0%"}function Ad(t,e,n){const r=t-n,i=e*r;return n+i}function tT(t,e,n,r,i){return i!==void 0&&(t=Ad(t,i,r)),Ad(t,n,r)+e}function Mg(t,e=0,n=1,r,i){t.min=tT(t.min,e,n,r,i),t.max=tT(t.max,e,n,r,i)}function PR(t,{x:e,y:n}){Mg(t.x,e.translate,e.scale,e.originPoint),Mg(t.y,n.translate,n.scale,n.originPoint)}function g9(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Hs(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,PR(t,o)),r&&Ri(s.latestValues)&&Hs(t,s.latestValues))}e.x=nT(e.x),e.y=nT(e.y)}function nT(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Dr(t,e){t.min=t.min+e,t.max=t.max+e}function rT(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Ce(t.min,t.max,s);Mg(t,e[n],e[r],o,e.scale)}const v9=["x","scaleX","originX"],y9=["y","scaleY","originY"];function Hs(t,e){rT(t.x,e,v9),rT(t.y,e,y9)}function CR(t,e){return IR(m9(t.getBoundingClientRect(),e))}function _9(t,e,n){const r=CR(t,n),{scroll:i}=e;return i&&(Dr(r.x,i.offset.x),Dr(r.y,i.offset.y)),r}const AR=({current:t})=>t?t.ownerDocument.defaultView:null,w9=new WeakMap;class E9{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Qh(c,"page").point)},s=(c,d)=>{const{drag:h,dragPropagation:f,onDragStart:m}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$A(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dn(w=>{let g=this.getAxisMotionValue(w).get()||0;if(Zn.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const _=v.layout.layoutBox[w];_&&(g=sn(_)*(parseFloat(g)/100))}}this.originPoint[w]=g}),m&&me.postRender(()=>m(c,d));const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:m,onDrag:y}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:w}=d;if(f&&this.currentDirection===null){this.currentDirection=T9(w),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),y&&y(c,d)},a=(c,d)=>this.stop(c,d),l=()=>dn(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new xR(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:AR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&me.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ju(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=l9(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&$s(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=u9(i.layoutBox,n):this.constraints=!1,this.elastic=f9(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&dn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=h9(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$s(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=_9(r,i.root,this.visualElement.getTransformPagePoint());let o=c9(i.layout.layoutBox,s);if(n){const a=n(p9(o));this.hasMutatedConstraints=!!a,a&&(o=IR(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=dn(c=>{if(!Ju(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,m={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(B0(e,r,0,n,this.visualElement))}stopAnimation(){dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){dn(n=>{const{drag:r}=this.getProps();if(!Ju(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ce(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$s(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};dn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=d9({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),dn(o=>{if(!Ju(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ce(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;w9.set(this.visualElement,this);const e=this.visualElement.current,n=mr(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();$s(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=fr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(dn(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Og,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ju(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function T9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class x9 extends xi{constructor(e){super(e),this.removeGroupControls=bt,this.removeListeners=bt,this.controls=new E9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bt}unmount(){this.removeGroupControls(),this.removeListeners()}}const iT=t=>(e,n)=>{t&&me.postRender(()=>t(e,n))};class S9 extends xi{constructor(){super(...arguments),this.removePointerDownListener=bt}onPointerDown(e){this.session=new xR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:iT(e),onStart:iT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&me.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=mr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function I9(){const t=T.useContext(p0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=T.useId();return T.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const bc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ea={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(q.test(t))t=parseFloat(t);else return t;const n=sT(t,e.target.x),r=sT(t,e.target.y);return`${n}% ${r}%`}},b9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=fi.parse(t);if(i.length>5)return r;const s=fi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Ce(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class P9 extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;P$(C9),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),bc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||me.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),v0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function RR(t){const[e,n]=I9(),r=T.useContext(bA);return p.jsx(P9,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(PA),isPresent:e,safeToRemove:n})}const C9={borderRadius:{...ea,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ea,borderTopRightRadius:ea,borderBottomLeftRadius:ea,borderBottomRightRadius:ea,boxShadow:b9},DR=["TopLeft","TopRight","BottomLeft","BottomRight"],A9=DR.length,oT=t=>typeof t=="string"?parseFloat(t):t,aT=t=>typeof t=="number"||q.test(t);function R9(t,e,n,r,i,s){i?(t.opacity=Ce(0,n.opacity!==void 0?n.opacity:1,D9(r)),t.opacityExit=Ce(e.opacity!==void 0?e.opacity:1,0,k9(r))):s&&(t.opacity=Ce(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<A9;o++){const a=`border${DR[o]}Radius`;let l=lT(e,a),u=lT(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||aT(l)===aT(u)?(t[a]=Math.max(Ce(oT(l),oT(u),r),0),(Zn.test(u)||Zn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ce(e.rotate||0,n.rotate||0,r))}function lT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const D9=kR(0,.5,pR),k9=kR(.5,.95,bt);function kR(t,e,n){return r=>r<t?0:r>e?1:n(Il(t,e,r))}function uT(t,e){t.min=e.min,t.max=e.max}function un(t,e){uT(t.x,e.x),uT(t.y,e.y)}function cT(t,e,n,r,i){return t-=e,t=Ad(t,1/n,r),i!==void 0&&(t=Ad(t,1/i,r)),t}function N9(t,e=0,n=1,r=.5,i,s=t,o=t){if(Zn.test(e)&&(e=parseFloat(e),e=Ce(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ce(s.min,s.max,r);t===s&&(a-=e),t.min=cT(t.min,e,n,a,i),t.max=cT(t.max,e,n,a,i)}function dT(t,e,[n,r,i],s,o){N9(t,e[n],e[r],e[i],e.scale,s,o)}const O9=["x","scaleX","originX"],L9=["y","scaleY","originY"];function hT(t,e,n,r){dT(t.x,e,O9,n?n.x:void 0,r?r.x:void 0),dT(t.y,e,L9,n?n.y:void 0,r?r.y:void 0)}function fT(t){return t.translate===0&&t.scale===1}function NR(t){return fT(t.x)&&fT(t.y)}function M9(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function OR(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function pT(t){return sn(t.x)/sn(t.y)}class V9{constructor(){this.members=[]}add(e){U0(this.members,e),e.scheduleRender()}remove(e){if($0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mT(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:h,skewX:f,skewY:m}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),f&&(r+=`skewX(${f}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const j9=(t,e)=>t.depth-e.depth;class F9{constructor(){this.children=[],this.isDirty=!1}add(e){U0(this.children,e),this.isDirty=!0}remove(e){$0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(j9),this.isDirty=!1,this.children.forEach(e)}}function B9(t,e){const n=ti.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(hi(r),t(s-e))};return me.read(r,!0),()=>hi(r)}function U9(t){window.MotionDebug&&window.MotionDebug.record(t)}function $9(t){return t instanceof SVGElement&&t.tagName!=="svg"}function z9(t,e,n){const r=xt(t)?t:Eo(t);return r.start(B0("",r,e,n)),r.animation}const Dp=["","X","Y","Z"],W9={visibility:"hidden"},gT=1e3;let H9=0;const Di={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function kp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function LR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=H9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Di.totalNodes=Di.resolvedTargetDeltas=Di.recalculatedProjection=0,this.nodes.forEach(K9),this.nodes.forEach(Z9),this.nodes.forEach(ez),this.nodes.forEach(Q9),U9(Di)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new F9)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new z0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$9(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=B9(h,250),bc.hasAnimatedSinceResize&&(bc.hasAnimatedSinceResize=!1,this.nodes.forEach(yT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||sz,{onLayoutAnimationStart:w,onLayoutAnimationComplete:g}=c.getProps(),v=!this.targetLayout||!OR(this.targetLayout,m)||f,_=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const E={...R0(y,"layout"),onPlay:w,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else h||yT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,hi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vT);return}this.isUpdating||this.nodes.forEach(X9),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(J9),this.nodes.forEach(G9),this.nodes.forEach(q9),this.clearAllSnapshots();const a=ti.now();at.delta=di(0,1e3/60,a-at.timestamp),at.timestamp=a,at.isProcessing=!0,Ep.update.process(at),Ep.preRender.process(at),Ep.render.process(at),at.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,v0.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Y9),this.sharedNodes.forEach(nz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!NR(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Ri(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),oz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Le();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Dr(a.x,l.offset.x),Dr(a.y,l.offset.y)),a}removeElementScroll(o){const a=Le();un(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){un(a,o);const{scroll:h}=this.root;h&&(Dr(a.x,-h.offset.x),Dr(a.y,-h.offset.y))}Dr(a.x,c.offset.x),Dr(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=Le();un(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Hs(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ri(c.latestValues)&&Hs(l,c.latestValues)}return Ri(this.latestValues)&&Hs(l,this.latestValues),l}removeTransform(o){const a=Le();un(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ri(u.latestValues))continue;Lg(u.latestValues)&&u.updateSnapshot();const c=Le(),d=u.measurePageBox();un(c,d),hT(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ri(this.latestValues)&&hT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==at.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=at.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),Ma(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):un(this.target,this.layout.layoutBox),PR(this.target,this.targetDelta)):un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),Ma(this.relativeTargetOrigin,this.target,f.target),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Di.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Lg(this.parent.latestValues)||bR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===at.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;un(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;g9(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Le());const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=Ws(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ws(),this.projectionDeltaWithTransform=Ws());const y=this.projectionTransform;La(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=mT(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Di.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Ws();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Le(),f=l?l.source:void 0,m=this.layout?this.layout.source:void 0,y=f!==m,w=this.getStack(),g=!w||w.members.length<=1,v=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(iz));this.animationProgress=0;let _;this.mixTargetDelta=E=>{const x=E/1e3;_T(d.x,o.x,x),_T(d.y,o.y,x),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ma(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rz(this.relativeTarget,this.relativeTargetOrigin,h,x),_&&M9(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Le()),un(_,this.relativeTarget)),y&&(this.animationValues=c,R9(c,u,this.latestValues,x,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(hi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=me.update(()=>{bc.hasAnimatedSinceResize=!0,this.currentAnimation=z9(0,gT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&MR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Le();const d=sn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=sn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}un(a,l),Hs(a,c),La(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new V9),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&kp("z",o,u,this.animationValues);for(let c=0;c<Dp.length;c++)kp(`rotate${Dp[c]}`,o,u,this.animationValues),kp(`skew${Dp[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return W9;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Sc(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Sc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ri(this.latestValues)&&(y.transform=c?c({},""):"none",this.hasProjected=!1),y}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=mT(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:f,y:m}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Sd){if(h[y]===void 0)continue;const{correct:w,applyTo:g}=Sd[y],v=u.transform==="none"?h[y]:w(h[y],d);if(g){const _=g.length;for(let E=0;E<_;E++)u[g[E]]=v}else u[y]=v}return this.options.layoutId&&(u.pointerEvents=d===this?Sc(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(vT),this.root.sharedNodes.clear()}}}function G9(t){t.updateLayout()}function q9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?dn(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=sn(h);h.min=r[d].min,h.max=h.min+f}):MR(s,n.layoutBox,r)&&dn(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=sn(r[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=Ws();La(a,r,n.layoutBox);const l=Ws();o?La(l,t.applyTransform(i,!0),n.measuredBox):La(l,r,n.layoutBox);const u=!NR(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const m=Le();Ma(m,n.layoutBox,h.layoutBox);const y=Le();Ma(y,r,f.layoutBox),OR(m,y)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function K9(t){Di.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Q9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Y9(t){t.clearSnapshot()}function vT(t){t.clearMeasurements()}function X9(t){t.isLayoutDirty=!1}function J9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function yT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Z9(t){t.resolveTargetDelta()}function ez(t){t.calcProjection()}function tz(t){t.resetSkewAndRotation()}function nz(t){t.removeLeadSnapshot()}function _T(t,e,n){t.translate=Ce(e.translate,0,n),t.scale=Ce(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wT(t,e,n,r){t.min=Ce(e.min,n.min,r),t.max=Ce(e.max,n.max,r)}function rz(t,e,n,r){wT(t.x,e.x,n.x,r),wT(t.y,e.y,n.y,r)}function iz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const sz={duration:.45,ease:[.4,0,.1,1]},ET=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),TT=ET("applewebkit/")&&!ET("chrome/")?Math.round:bt;function xT(t){t.min=TT(t.min),t.max=TT(t.max)}function oz(t){xT(t.x),xT(t.y)}function MR(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ng(pT(e),pT(n),.2)}const az=LR({attachResizeListener:(t,e)=>fr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Np={current:void 0},VR=LR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Np.current){const t=new az({});t.mount(window),t.setOptions({layoutScroll:!0}),Np.current=t}return Np.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lz={pan:{Feature:S9},drag:{Feature:x9,ProjectionNode:VR,MeasureLayout:RR}},Vg={current:null},jR={current:!1};function uz(){if(jR.current=!0,!!m0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vg.current=t.matches;t.addListener(e),e()}else Vg.current=!1}function cz(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(xt(s))t.addValue(i,s),Cd(r)&&r.add(i);else if(xt(o))t.addValue(i,Eo(s,{owner:t})),Cd(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Eo(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const ST=new WeakMap,dz=[...YA,_t,fi],hz=t=>dz.find(QA(t)),FR=Object.keys(xl),fz=FR.length,IT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],pz=_0.length;function BR(t){if(t)return t.options.allowProjection!==!1?t.projection:BR(t.parent)}class mz{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.resolveKeyframes=(h,f,m,y)=>new this.KeyframeResolver(h,f,m,y,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=k0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>me.render(this.render,!1,!0);const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Kh(n),this.isVariantNode=IA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const f=d[h];l[h]!==void 0&&xt(f)&&(f.set(l[h],!1),Cd(c)&&c.add(h))}}mount(e){this.current=e,ST.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jR.current||uz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var e;ST.delete(this.current),this.projection&&this.projection.unmount(),hi(this.notifyUpdate),hi(this.render),this.valueSubscriptions.forEach(n=>n()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features)(e=this.features[n])===null||e===void 0||e.unmount();this.current=null}bindToMotionValue(e,n){const r=_s.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&me.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<fz;l++){const u=FR[l],{isEnabled:c,Feature:d,ProjectionNode:h,MeasureLayout:f}=xl[u];h&&(o=h),c(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),f&&(a=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,BR(this.parent));const{layoutId:l,layout:u,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:f}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||d&&$s(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:f})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<IT.length;r++){const i=IT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=cz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<pz;r++){const i=_0[r],s=this.props[i];(Tl(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Eo(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(qA(i)||GA(i))?i=parseFloat(i):!hz(i)&&fi.test(n)&&(i=iR(e,n)),this.setBaseTarget(e,xt(i)?i.get():i)),xt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=C0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!xt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new z0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class UR extends mz{constructor(){super(...arguments),this.KeyframeResolver=sR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function gz(t){return window.getComputedStyle(t)}class vz extends UR{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(_s.has(n)){const r=O0(n);return r&&r.default||0}else{const r=gz(e),i=(RA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CR(e,n)}build(e,n,r,i){x0(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return P0(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){LA(e,n,r,i)}}class yz extends UR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_s.has(n)){const r=O0(n);return r&&r.default||0}return n=MA.has(n)?n:g0(n),e.getAttribute(n)}measureInstanceViewportBox(){return Le()}scrapeMotionValuesFromProps(e,n,r){return jA(e,n,r)}build(e,n,r,i){I0(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){VA(e,n,r,i)}mount(e){this.isSVGTag=b0(e.tagName),super.mount(e)}}const _z=(t,e)=>w0(t)?new yz(e,{enableHardwareAcceleration:!1}):new vz(e,{allowProjection:t!==T.Fragment,enableHardwareAcceleration:!0}),wz={layout:{ProjectionNode:VR,MeasureLayout:RR}},Ez={...r9,...m6,...lz,...wz},Jh=I$((t,e)=>n6(t,e,Ez,_z));function Tz(t){const e=A0(()=>Eo(t)),{isStatic:n}=T.useContext(f0);if(n){const[,r]=T.useState(t);T.useEffect(()=>e.on("change",r),[])}return e}function xz(t,e,n){var r;if(typeof t=="string"){let i=document;e&&(D0(!!e.current),i=e.current),n?((r=n[t])!==null&&r!==void 0||(n[t]=i.querySelectorAll(t)),t=n[t]):t=i.querySelectorAll(t)}else t instanceof Element&&(t=[t]);return Array.from(t||[])}function Sz(t){t.values.forEach(e=>e.stop())}function jg(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&W0(t,i),t.variantChildren&&t.variantChildren.forEach(s=>{jg(s,e)})})}function Iz(t,e){if(Array.isArray(e))return jg(t,e);if(typeof e=="string")return jg(t,[e]);W0(t,e)}function bz(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(s=>{i.push(TR(s,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{Iz(r,n)})},stop(){t.forEach(n=>{Sz(n)})},mount(){return()=>{e.stop()}}};return e}function Pz(){const t=A0(bz);return EA(t.mount,[]),t}const $R=Pz,Cz={some:0,all:1};function Az(t,e,{root:n,margin:r,amount:i="some"}={}){const s=xz(t),o=new WeakMap,a=u=>{u.forEach(c=>{const d=o.get(c.target);if(c.isIntersecting!==!!d)if(c.isIntersecting){const h=e(c);typeof h=="function"?o.set(c.target,h):l.unobserve(c.target)}else d&&(d(c),o.delete(c.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof i=="number"?i:Cz[i]});return s.forEach(u=>l.observe(u)),()=>l.disconnect()}function zR(t,{root:e,margin:n,amount:r,once:i=!1}={}){const[s,o]=T.useState(!1);return T.useEffect(()=>{if(!t.current||i&&s)return;const a=()=>(o(!0),i?void 0:()=>o(!1)),l={root:e&&e.current||void 0,margin:n,amount:r};return Az(t.current,a,l)},[e,t,n,i,r]),s}const Rd=["black.png","white.png","white-purple.png","yellow-green.png"],Rz=1e3,Dz=Rz*10,bT=50,WR={type:"spring",mass:3,stiffness:400,damping:50};function kz(){const[t,e]=T.useState(0),n=Tz(0);T.useEffect(()=>{const i=setInterval(()=>{n.get()===0&&e(o=>o===Rd.length-1?0:o+1)},Dz);return()=>clearInterval(i)},[]);const r=()=>{const i=n.get();i<=-bT&&t<Rd.length-1?e(s=>s+1):i>=bT&&t>0&&e(s=>s-1)};return p.jsxs("div",{className:"relative mt-8 h-[620px] overflow-hidden bg-white ",children:[p.jsx(Jh.div,{drag:"x",dragConstraints:{left:0,right:0},style:{x:n},animate:{translateX:`-${t*100}%`},transition:WR,onDragEnd:r,className:"flex h-[460px] cursor-grab items-center active:cursor-grabbing",children:p.jsx(Nz,{imgIndex:t})}),p.jsx(Oz,{imgIndex:t,setImgIndex:e})]})}const Nz=({imgIndex:t})=>p.jsx(p.Fragment,{children:Rd.map((e,n)=>p.jsx(Jh.div,{style:{backgroundImage:`url(${e})`,backgroundSize:"cover",backgroundPosition:"center"},animate:{scale:t===n?.5:.1},transition:WR,className:"mt-32 aspect-video w-screen shrink-0 rounded-xl bg-neutral-800 object-cover"},n))}),Oz=({imgIndex:t,setImgIndex:e})=>p.jsx("div",{className:"mt-[140px] flex w-full justify-center gap-2",children:Rd.map((n,r)=>p.jsx("button",{onClick:()=>e(r),className:`h-2 w-2 rounded-full transition-colors ${r===t?"bg-neutral-600":"bg-neutral-300"}`},r))});function Zh(){return p.jsxs("div",{className:"mt-[100px] flex w-full items-center justify-between bg-gray-800 px-4 py-2",children:[p.jsx("div",{className:"flex w-64 justify-start",children:p.jsx("img",{className:"h-[100px] rounded-lg bg-white",src:"logo.png"})}),p.jsxs("div",{className:" flex w-64 flex-col items-center justify-center text-white",children:[p.jsx("a",{className:"hover:underline",href:"/",children:"Domů"}),p.jsx("a",{className:"hover:underline",href:"/products",children:"Produkty"}),p.jsx("a",{className:"hover:underline",href:"/about us",children:"O nás"}),p.jsx("a",{className:"hover:underline",href:"/cart",children:"Košík"}),p.jsx("a",{className:"hover:underline",href:"/dev",children:"Develop"})]}),p.jsx("div",{className:"flex w-64 justify-end",children:p.jsx("p",{className:"mr-1 font-bold text-white",children:"TohleChces.cz"})})]})}function Op(t){return rr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64L128 192v384c0 212.1 171.9 384 384 384s384-171.9 384-384V192L512 64zm312 512c0 172.3-139.7 312-312 312S200 748.3 200 576V246l312-110 312 110v330z"},child:[]},{tag:"path",attr:{d:"M378.4 475.1a35.91 35.91 0 0 0-50.9 0 35.91 35.91 0 0 0 0 50.9l129.4 129.4 2.1 2.1a33.98 33.98 0 0 0 48.1 0L730.6 434a33.98 33.98 0 0 0 0-48.1l-2.8-2.8a33.98 33.98 0 0 0-48.1 0L483 579.7 378.4 475.1z"},child:[]}]})(t)}function Lz(){return p.jsx("div",{children:p.jsxs("div",{className:"mt-[55px] flex flex-col items-center",children:[p.jsx("p",{className:"headline",children:"Naše přednosti"}),p.jsxs("div",{className:"mt-10 flex",children:[p.jsxs("div",{className:"mr-32 flex flex-col items-center",children:[p.jsx("p",{className:"headline__small",children:"Spolehlivost"}),p.jsx(Op,{className:"mt-3",size:50})]}),p.jsxs("div",{className:"mr-32 flex flex-col items-center",children:[p.jsx("p",{className:"headline__small",children:"Skvělá cena"}),p.jsx(Op,{className:"mt-3",size:50})]}),p.jsxs("div",{className:"flex flex-col items-center ",children:[p.jsx("p",{className:"headline__small",children:"Vysoká kvalita"}),p.jsx(Op,{className:"mt-3 ",size:50})]})]})]})})}const PT=({children:t,scale:e=1,direction:n="right"})=>{const r=T.useRef(null),i=zR(r,{once:!0}),s=$R();return T.useEffect(()=>{i?s.start("visible"):s.start("hidden")},[i]),p.jsx("div",{ref:r,className:"overflow-hidden",children:p.jsx(Jh.div,{variants:{hidden:{opacity:0,x:n==="left"?300*e:-300*e},visible:{opacity:1,x:0}},initial:"hidden",animate:s,transition:{duration:.5,delay:.5},children:t})})},Lp=({children:t,scale:e=1,direction:n="up"})=>{const r=T.useRef(null),i=zR(r,{once:!0}),s=$R();return T.useEffect(()=>{i?s.start("visible"):s.start("hidden")},[i]),p.jsx("div",{ref:r,className:" overflow-hidden ",children:p.jsx(Jh.div,{variants:{hidden:{opacity:0,y:n==="down"?-300*e:300*e},visible:{opacity:1,y:0}},initial:"hidden",animate:s,transition:{duration:.5,delay:0},children:t})})};function Mz(){return p.jsx("div",{className:"relative flex h-[580px] justify-center bg-black",children:p.jsxs("div",{className:"absolute top-[60px] flex flex-col items-center  text-white",children:[p.jsxs("div",{className:"",children:[p.jsx(Lp,{children:p.jsx("p",{className:"mr-8 mt-10 p-2 text-6xl font-bold",children:"Chceš super brýle za super cenu?"})}),p.jsx(Lp,{children:p.jsx("p",{className:"ml-[340px] mt-[50px] p-2 text-8xl font-bold",children:"To si správně!"})})]}),p.jsx("div",{className:" mx-16 mt-16 flex  items-center",children:p.jsx("a",{href:"#offer",children:p.jsx(Lp,{children:p.jsx("button",{className:"button__submit align-center button__big m-4 mt-8 items-center text-center text-sm",children:"Ukázat nabídku"})})})})]})})}function Vz(){return p.jsxs("div",{className:"relative",children:[p.jsx(Mz,{}),p.jsx(kz,{}),p.jsx("img",{className:"mt-10 drop-shadow-lg",src:"wide.jpg"}),p.jsxs("section",{id:"offer",className:"mt-6 flex flex-col items-center",children:[p.jsx(PT,{children:p.jsx(y1,{image:"black.png",headline:"Sportovní brýle",link:"sport"})}),p.jsx(PT,{direction:"left",children:p.jsx(y1,{image:"out1.png",headline:"Volnočasové brýle",link:"free-time"})})]}),p.jsx("div",{className:"mt-[110px] flex flex-col items-center justify-center ",children:p.jsx("div",{className:"mx-7 h-[2px] w-[80vw] rounded bg-gray-300"})}),p.jsx(Lz,{}),p.jsx(Zh,{})]})}function jz(t){const[e,n]=T.useState({email:"",password:""}),[r,i]=T.useState([{id:777,name:"success",state:!1,message:"Success"},{id:1,name:"duplicate",state:!1,message:"This email address already exists"},{id:2,name:"badFormat",state:!1,message:"Your email is not in right format"},{id:3,name:"notSamePassword",state:!1,message:"Your passwords are not the same"},{id:4,name:"tooShort",state:!1,message:"Your password is too short (at least 6 characters)"},{id:5,name:"already",state:!1,message:"This email is already registered"},{id:6,name:"upperCaseEmail",state:!1,message:"Your email has to be lower case"},{id:7,name:"incorrectData",state:!1,message:"You have entered incorrect data"}]),[s,o]=T.useState(""),[a,l]=T.useState(!1);function u(y){const{name:w,value:g,type:v,checked:_}=y.target;n(E=>({...E,[w]:v==="checkbox"?_:g}))}T.useEffect(()=>{const y=["!","@","#","$","%","^","&","*","(",")","-","_","+","=","{","}","[","]","|","\\",";",":","'",'"',"<",">",",",".","/","?","1","2","3","4","5","6","7","8","9"];e.email.split("").some(w=>!y.includes(w)&&w.toUpperCase()===w)?c(6,!0):c(6,!1)},[e]),T.useEffect(()=>{!e.email.includes("@")&&e.email!==""&&e.password!==""?c(2,!0):c(2,!1),c(5,!1),c(7,!1),e.email!==""&&c(777,!1)},[e]);function c(y,w){i(y===777&&w===!0?g=>g.map(v=>v.id===777?{...v,state:!0}:{...v,state:!1}):g=>g.map(v=>v.id===y?{...v,state:w}:v))}T.useEffect(()=>{let y="",w=!1;r.map(g=>{g.state===!0&&(w===!0?y+=" | "+String(g.message):(y+=String(g.message),w=!0))}),r[0].state===!0?l(!0):l(!1),o(y)},[r]);function d(y){aA(wg,uA).then(w=>m(w))}function h(y){y.preventDefault();const{email:w,password:g}=e;if(s!==""){console.log("RETURNING");return}tU(wg,w,g).then(v=>typeof v!==null?m(v):c(7,!0)).catch(v=>(console.log(v),v!==null?c(7,!0):null))}function f(){n({email:"",password:""}),c(777,!0)}const m=async y=>{const w=y.user.uid,g=y.user.email;localStorage.setItem("uid",w);let v=!1;(await jn(Bt(be,"users"))).forEach(E=>{E.data().uid===w?v=!0:console.log(E.data().uid+" "+w)}),v?console.log("EXISTING PROFILE LOADED"):(await Mh(Bt(be,"users"),{uid:w,nickname:g.split("@")[0],email:g,newspaper:!1,cart:[],inPayment:[]}),console.log("CREATING NEW PROFILE")),f(),setTimeout(()=>{window.location.href="/"},700)};return p.jsx("div",{children:p.jsx("div",{className:"login",children:p.jsxs("div",{className:"container",children:[p.jsx("h1",{className:"headline mt-3",children:"Log in"}),p.jsx("input",{type:"text",className:"input__normal input mt-5",name:"email",placeholder:"Email Address",value:e.email,onChange:u}),p.jsx("input",{type:"text",className:"input__normal input",name:"password",placeholder:"Password",value:e.password,onChange:u}),p.jsx("p",{className:`error bold ${r[0].state?"green":"red"}`,children:s}),p.jsx("button",{className:"button button__normal button__submit mt-10",onClick:h,children:"Sign up"}),p.jsxs("button",{className:"google",onClick:d,children:[p.jsx("p",{className:"google--text",children:"Log in with Google"}),p.jsx("img",{className:"google--logo",src:"../../google_logo.png",alt:"Google Authentication"})]}),p.jsxs("div",{className:"endText flex items-center",children:[p.jsx("p",{className:"mr-1",children:"Still don't have an account?"}),p.jsx("button",{className:"link",onClick:t.changeLoginSwitch,children:"Sign up"})]})]})})})}function Fz(t){const[e,n]=T.useState({email:"",nickname:"",password:"",confirmPassword:"",newspaper:!1}),[r,i]=T.useState([{id:777,name:"success",state:!1,message:"Success"},{id:1,name:"duplicate",state:!1,message:"This email address already exists"},{id:2,name:"badFormat",state:!1,message:"Your email is not in right format"},{id:3,name:"notSamePassword",state:!1,message:"Your passwords are not the same"},{id:4,name:"tooShort",state:!1,message:"Your password is too short (at least 6 characters)"},{id:5,name:"already",state:!1,message:"This email is already registered"},{id:6,name:"upperCaseEmail",state:!1,message:"Your email has to be lower case"},{id:7,name:"incorrectData",state:!1,message:"You have entered incorrect data"}]),[s,o]=T.useState(""),[a,l]=T.useState(!1);function u(m){const{name:y,value:w,type:g,checked:v}=m.target;n(_=>({..._,[y]:g==="checkbox"?v:w}))}te.useEffect(()=>{const m=["!","@","#","$","%","^","&","*","(",")","-","_","+","=","{","}","[","]","|","\\",";",":","'",'"',"<",">",",",".","/","?","1","2","3","4","5","6","7","8","9"];e.email.split("").some(y=>!m.includes(y)&&y.toUpperCase()===y)?c(6,!0):c(6,!1)},[e]),te.useEffect(()=>{!e.email.includes("@")&&e.email!==""&&e.password!==""?c(2,!0):c(2,!1),e.password.length>=6&&c(4,!1),c(3,!1),c(5,!1),c(7,!1),e.email!==""&&c(777,!1)},[e]);function c(m,y){i(m===777&&y===!0?w=>w.map(g=>g.id===777?{...g,state:!0}:{...g,state:!1}):w=>w.map(g=>g.id===m?{...g,state:y}:g))}te.useEffect(()=>{let m="",y=!1;r.map(w=>{w.state===!0&&(y===!0?m+=" | "+String(w.message):(m+=String(w.message),y=!0))}),r[0].state===!0?l(!0):l(!1),o(m)},[r]);function d(m){aA(wg,uA).then(y=>f(y))}function h(){n({email:"",nickname:"",password:"",confirmPassword:"",newspaper:!1}),c(777,!0)}const f=async m=>{const y=m.user.uid,w=m.user.email;localStorage.setItem("uid",m.user.uid);let g=!1;(await jn(Bt(be,"users"))).forEach(_=>{_.data().uid===y&&(g=!0)}),g?console.log("EXISTING PROFILE LOADED"):(await Mh(Bt(be,"users"),{uid:y,nickname:w.split("@")[0],email:w,newspaper:e.newspaper,cart:[],inPayment:[]}),console.log("CREATING NEW PROFILE")),h(),setTimeout(()=>{window.location.href="/"},700)};return p.jsx("div",{className:"signup",children:p.jsxs("div",{className:"container",children:[p.jsx("h1",{className:"headline mt-3",children:"Sign up"}),p.jsx("input",{type:"text",className:"input__normal input mt-5",name:"email",placeholder:"Email Address",value:e.email,onChange:u}),p.jsx("input",{type:"text",className:"input__normal input",name:"password",placeholder:"Password",value:e.password,onChange:u}),p.jsx("input",{type:"text",className:"input__normal input",name:"confirmPassword",placeholder:"Confirm Password",value:e.confirmPassword,onChange:u}),p.jsxs("div",{className:"marketing",children:[p.jsx("input",{id:"newspaper",className:"mr-2",type:"checkbox",name:"newspaper",onChange:u,checked:e.newspaper}),p.jsx("label",{htmlFor:"newspaper",children:"I want to receive newsletter with exclusive bonuses"})]}),p.jsx("label",{className:`error bold ${a===!1?"red":"green"}`,children:s}),p.jsx("button",{className:"button button__normal button__submit mt-10",children:"Sign up"}),p.jsxs("button",{type:"button",className:"google",onClick:d,children:[p.jsx("p",{className:"google--text",children:"Sign up with Google"}),p.jsx("img",{className:"google--logo",src:"../../google_logo.png",alt:"Google Authentication"})]}),p.jsxs("div",{className:"endText flex items-center",children:[p.jsx("p",{className:"mr-1",children:"Already have an account?"}),p.jsx("button",{className:"link",onClick:t.changeLoginSwitch,children:"Log in"})]})]})})}function Bz(){const{updateProfile:t,profile:e}=Ke(),n=localStorage.getItem("uid")!=="x"&&localStorage.getItem("uid")!==""&&localStorage.getItem("uid")!==null,[r,i]=T.useState(!0),[s,o]=T.useState();return te.useEffect(()=>{e.uid!=="x"&&o(e.nickname)},[e]),p.jsxs("div",{className:"mt-10 flex flex-col items-center",children:[!n&&r&&p.jsx(jz,{changeLoginSwitch:()=>i(!r)}),!n&&!r&&p.jsx(Fz,{changeLoginSwitch:()=>i(!r)}),n&&p.jsxs("div",{className:"flex flex-col items-center rounded-lg border-2 px-16 py-8",children:[p.jsx("p",{className:"headline mt-4",children:"Účet"}),p.jsx("p",{className:"mt-10",children:`přezdívka: ${e.uid!=="x"?e.nickname:""}`}),p.jsx("p",{className:"mt-2",children:`email: ${e.uid!=="x"?e.email:""}`}),p.jsxs("div",{className:"mt-2 flex items-center",children:[p.jsx("p",{className:"pr-3",children:`upozornění na slevy, akce na email: ${e.newspaper?"ANO":"NE"}`}),p.jsx("button",{onClick:()=>t("newspaper",!e.newspaper),className:"button__extraSmall "+(e.newspaper?"button__negative":"button__submit"),children:`${e.newspaper?"Vypnout":"Zapnout"}`})]}),p.jsx("div",{className:"mx-7 mt-8 h-[2px] w-[350px] rounded bg-gray-300"}),p.jsx("p",{className:"headline__small mt-8",children:"Změnit přezdívku"}),p.jsx("input",{className:"input-normal input mt-6",type:"text",value:s,onChange:a=>o(a.target.value)}),p.jsx("button",{className:"button__small button__submit mt-8",onClick:()=>t("nickname",s),children:"Změnit přezdívku"})]}),n&&p.jsx("div",{children:p.jsx("button",{className:"button__normal button__negative mt-10",onClick:()=>{localStorage.setItem("uid","x"),window.location.reload()},children:"Log out"})})]})}function CT({price:t=399,name:e="Brýle",images:n=[{id:0,url:"logo2.png"}],handleAddToCart:r={},id:i}){return localStorage.getItem("uid")!=="x"&&localStorage.getItem("uid")!==""&&localStorage.getItem("uid"),p.jsx("div",{className:"m-3 rounded border-2 border-blue-300",children:p.jsxs("div",{className:"flex h-[390px] min-w-[318px] flex-initial flex-col items-center rounded-xl bg-white pb-4 pt-2 ",children:[p.jsxs("a",{className:"flex flex-col justify-center text-center",href:"/product-"+i,children:[p.jsx("img",{className:"h-[250px]",src:n[0].url}),p.jsx("p",{className:"text-xl font-bold",children:e}),p.jsxs("p",{className:"mt-2",children:[t,"Kč"]})]}),p.jsx("button",{className:"button__positive  button button__small mt-4 text-white",onClick:()=>r(),children:"přidat do košíku"})]})})}function Uz(){const{catalog:t,addToCart:e,addToLocalCart:n,refreshCatalog:r}=Ke(),i=localStorage.getItem("uid")!=="x"&&localStorage.getItem("uid")!==""&&localStorage.getItem("uid")!==null,s=t.map(u=>p.jsx(CT,{name:u.name,price:u.price,images:u.images,id:u.id,handleAddToCart:()=>e(u.id,1)},u.id));function o(u){const c=t.filter(d=>u.includes(d.id));return p.jsx("div",{className:"flex items-center",children:c.map((d,h)=>p.jsxs("div",{className:"flex items-center",children:[p.jsx(CT,{name:d.name,price:d.price,images:d.images,id:d.id,handleAddToCart:()=>i?e(d.id,1):(n(d.id,1),r())}),h!==c.length-1&&p.jsx("div",{className:"mx-7 h-[250px] w-[2px] rounded bg-gray-300"})]},d.id))})}const a=h0(),l=T.useRef(null);return T.useEffect(()=>{a.hash==="#free-time"&&l.current&&l.current.scrollIntoView()},[a]),p.jsxs("div",{children:[p.jsx("section",{id:"sport",className:"mt-8"}),p.jsxs("div",{className:"mx-24 flex flex-col items-start",children:[p.jsx("p",{className:"mt-5 text-3xl font-bold",children:"Sportovní brýle"}),p.jsx("div",{className:"mt-3 flex flex-wrap justify-center rounded-xl bg-gray-100  p-5",children:o([0,1])}),p.jsx("section",{id:"free-time",className:"mt-8",ref:l}),p.jsx("p",{className:"text-3xl font-bold",children:"Volnočasové brýle"}),p.jsx("div",{className:"mt-3 flex flex-wrap justify-center rounded-xl bg-gray-100  p-5",children:o([2,3])}),p.jsx("p",{className:"mt-8 text-3xl font-bold",children:"Všechny brýle"}),p.jsx("div",{className:"mt-3 flex flex-wrap justify-center rounded-xl bg-gray-100 p-5",children:s})]}),p.jsx(Zh,{})]})}function $z(){return p.jsxs("div",{children:[p.jsx("p",{children:"This is about us page"}),p.jsx(Zh,{})]})}function zz(){return p.jsxs("div",{children:[p.jsx("p",{children:"This is Contact page"}),p.jsx(Zh,{})]})}function Wz(t){const{images:e,price:n,name:r,description:i,inStock:s,id:o}=t.data,{profile:a,addToCart:l,addToPayment:u}=Ke(),[c,d]=T.useState(1);return p.jsx("div",{className:"mx-16 my-16 flex flex-col",children:p.jsxs("div",{className:"flex",children:[p.jsxs("div",{className:"flex w-[50vw] flex-col  items-center justify-center rounded border-2 border-gray-300",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("img",{src:e[0].url,className:"max-h-[450px]"}),e.length>1&&p.jsx("div",{className:" w-[550px] border-[1px]  "})]}),p.jsx("div",{className:"items center mt-2 flex flex-wrap",children:e.map((h,f)=>{if(f!==0)return p.jsx("img",{src:h.url,className:"ml-4 mr-4  max-h-[250px]"},f)})})]}),p.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center",children:[p.jsx("p",{className:"headline__big mt-6",children:r}),p.jsx("p",{className:"mt-2",children:"Sportovní brýle"}),p.jsxs("p",{className:"mt-10 text-xl",children:[n,"Kč"]}),s>0?p.jsx("p",{className:"mt-2 font-bold text-green-600",children:"Skladem"}):p.jsx("p",{className:"font-bold text-red-600",children:"Není skladem"}),p.jsxs("div",{className:"mt-10 flex items-center justify-center rounded-lg border-2 border-gray-200 px-3 py-1",children:[p.jsx("button",{className:"mr-6 text-xl",onClick:()=>d(h=>h+1),children:"+"}),p.jsx("p",{className:"mr-6 text-lg",children:c}),p.jsx("button",{className:"text-xl",onClick:()=>d(h=>h-1),children:"-"})]}),p.jsxs("div",{className:"mt-4 flex",children:[p.jsx("button",{className:"button button__small button__positive mr-5",onClick:()=>l(o,c),children:"Přidat do košíku"}),p.jsx("button",{className:"button button__small button__black",onClick:()=>u([{id:o,quantity:c}]),children:"Koupit"})]}),p.jsx("p",{className:"mt-16",children:i})]})]})})}function Hz(){const t=localStorage.getItem("uid")!=="x"&&localStorage.getItem("uid")!==""&&localStorage.getItem("uid")!==null;let{profile:e,catalog:n,addToPayment:r}=Ke(),i=JSON.parse(localStorage.getItem("cart"));return p.jsxs("div",{className:"mt-10 flex w-[500px] flex-col items-center justify-center rounded-lg border-4 border-gray-300 p-8",children:[p.jsxs("p",{className:"text-2xl font-semibold",children:["Hodnota tvého košíku je"," ",t?e.cart.reduce((s,o)=>{const a=n.find(l=>l.id===o.id);return a?s+a.price*o.quantity:s},0):i?i.reduce((s,o)=>{const a=n.find(l=>l.id===o.id);return a?s+a.price*o.quantity:s},0):0," ","korun"]}),p.jsx("p",{className:"pt-4 text-gray-500",children:"Bezpečná platba"}),p.jsx("button",{className:"mt-10 rounded-lg  bg-black p-3  text-white ",onClick:()=>(console.log(t?e.cart:i),r(t?e.cart:i)),children:"Dokončit nákup"})]})}function Gz(t){let{addToCart:e,addToLocalCart:n,refreshCatalog:r}=Ke(),{id:i,name:s,price:o,images:a,quantity:l}=t.data;const u=localStorage.getItem("uid")!=="x"&&localStorage.getItem("uid")!==""&&localStorage.getItem("uid")!==null;return p.jsx("div",{children:p.jsxs("div",{className:"flex items-center justify-between rounded-lg border-2 px-8 py-4",children:[p.jsxs("div",{className:"mr-8 flex items-center",children:[p.jsx("img",{className:"mr-3 h-16 pr-3",src:a[0].url}),p.jsx("p",{className:" text-xl font-bold",children:s})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsxs("div",{className:"mr-8 flex items-center rounded-xl border-2 p-3",children:[p.jsxs("p",{className:"mr-3",children:[" ",l," ",l===0?"kusů":l===1?"kus":l<5?"kusy":"kusů"]}),p.jsx("button",{className:"mr-2",onClick:()=>u?e(i,1):(n(i,1),r()),children:"+"}),p.jsx("button",{className:"",onClick:()=>u?e(i,-1):(n(i,-1),r()),children:"-"})]}),p.jsxs("p",{className:" mr-8 text-nowrap text-lg",children:[o," Kč"]}),p.jsxs("p",{className:"w-16 text-nowrap text-xl font-bold",children:[o*l," Kč"]})]})]})})}function qz(){const[t,e]=T.useState([]);let{addToCart:n,profile:r,catalog:i}=Ke(),s=Ke().profile.cart;const o=localStorage.getItem("uid")!=="x"&&localStorage.getItem("uid")!==""&&localStorage.getItem("uid")!==null;let a=JSON.parse(localStorage.getItem("cart"));return T.useEffect(()=>{let l=[];if(o)s.map(u=>{i.map(c=>{u.id===c.id&&l.push({...c,quantity:u.quantity})})});else{if(a===null)return;a.map(u=>{i.map(c=>{u.id===c.id&&l.push({...c,quantity:u.quantity})})})}e(l)},[i]),p.jsx("div",{className:"mt-5",children:t.map(l=>p.jsx(Gz,{addToCart:(u,c)=>n(u,c),data:l},l.id))})}function Kz(){return p.jsx("div",{className:"flex flex-col items-center",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(Hz,{}),p.jsx(qz,{})]})})}function Qz(t){const e=t.catalog.map((n,r)=>p.jsx("option",{children:n.id+" "+n.name},n.id));return p.jsxs("div",{children:[p.jsx("select",{className:"relative",value:t.value,onChange:n=>{t.update(n.target.value)},children:e}),p.jsx("div",{className:"absolute mt-1 h-[3px] w-[203px] rounded-md bg-brand-blue"})]})}function Zu(t){return p.jsx("div",{children:p.jsx("input",{name:t.name,value:t.value,onChange:t.onChange,className:"rounded-md border-2 border-blue-500",type:"text"})})}function Yz(t){const[e,n]=T.useState("Upload to catalog"),[r,i]=T.useState(""),{profile:s,catalog:o,addToCatalog:a,deleteFromCatalog:l,updateCatalog:u,uploadImage:c}=Ke();s.editor;const d=T.useRef(),h=T.useRef(),[f,m]=T.useState({name:"",price:0,inStock:0,description:"",images:""}),[y,w]=T.useState({name:"",price:0,inStock:0,description:"",images:[]}),[g,v]=T.useState({name:"",price:0,inStock:0,description:"",images:[]});T.useState("testingXYZ");const _=T.useRef("testingXYZ"),E=T.useRef({});function x(F){let Z=F.target.name,oe=F.target.value;Z==="price"&&(oe=Number(oe),oe=String(oe)==="NaN"?0:oe),m(ae=>({...ae,[Z]:oe})),P("reset"),i("")}function S(F){let Z=F.target.value,oe=F.target.name;(oe==="price"||oe==="id")&&(Z=Number(Z),Z=String(Z)==="NaN"?0:Z),w(ae=>({...ae,[F.target.name]:Z}))}function P(F){let Z="";switch(F){case"reset":Z="Upload to catalog";break;case"added":Z="Added!"}n(Z)}function I(){_.current=o[0].id}async function k(){try{let F=!0;if(d.current){let Z=await c(d.current);h.current=Z.downloadURL}else F=!1;a({...f,images:d.current?[{url:h.current,id:0}]:[]}),P("added"),i(F?"All data uploaded successfully":"uploaded successfully without Image")}catch(F){console.error("Error uploading image:",F)}}T.useEffect(()=>{_.current==="testingXYZ"?(w(o[0]),v(o[0])):N()},[o]);function N(){o.map(F=>{F.id===_.current&&(E.current=F)}),w(E.current),v(E.current)}return T.useEffect(()=>{},[g]),p.jsx("div",{className:"mt-5 flex justify-center",children:p.jsxs("div",{className:"w-128 mt-5 flex flex-col  items-center rounded-xl border-4 p-6",children:[p.jsx("p",{className:"headline__big font-bold",children:"Products"}),p.jsxs("div",{className:"mt-6 flex flex-col items-center rounded-lg border-2 p-6",children:[p.jsx("p",{className:"headline__small font-semibold",children:"Add Product"}),p.jsx("p",{className:"mt-6",children:"name"}),p.jsx(Zu,{type:"text",value:f.name,name:"name",onChange:x}),p.jsx("p",{children:"price"}),p.jsx(Zu,{value:f.price,name:"price",onChange:x}),p.jsx("p",{children:"in stock"}),p.jsx(Zu,{value:f.inStock,name:"inStock",onChange:x}),p.jsx("p",{children:"description"}),p.jsx(Zu,{value:f.description,name:"description",onChange:x}),p.jsx("input",{type:"file",className:"mt-3",onChange:F=>{let Z=F.target.files[0];d.current=Z,P("reset"),i("")}}),p.jsx("button",{className:"mt-5 rounded-xl bg-sky-700 px-4 py-2 text-white hover:bg-sky-800 sm:px-8 sm:py-3",onClick:k,children:e}),p.jsx("div",{className:"mt-2 flex",children:p.jsx("p",{className:"mr-1",children:r})})]}),p.jsxs("div",{className:"mt-6 flex flex-col items-center rounded-lg border-2 p-6",children:[p.jsxs("div",{className:"mt-2 flex items-center",children:[p.jsx("p",{className:"headline__small mr-4 font-semibold",children:"Update Product"}),p.jsx(Qz,{catalog:o,update:F=>{t.setSelected(F),_.current=Number(F.substring(0,1)),N()},value:t.selected})]}),p.jsx("div",{className:"flex",children:p.jsx("div",{className:"flex flex-wrap",children:o[0].description!=="testingXYZ"&&p.jsx("div",{className:"mt-8 flex flex-col items-center",children:p.jsxs("div",{className:"flex",children:[p.jsxs("div",{className:"min-w-15 mx-3 mt-5 flex w-64 flex-initial flex-col items-center rounded-xl bg-white text-center ",children:[p.jsx("p",{className:"headline__extraSmall font-bold",children:"For Updating"}),p.jsx("p",{children:"------------------------------------"}),p.jsx("input",{type:"text",name:"name",className:"text-center text-lg font-semibold",value:y.name,onChange:S}),p.jsxs("div",{className:"mt-2 flex justify-center",children:[p.jsx("a",{className:"mr-1 flex h-20 w-20",href:"/schick-glaser",children:p.jsx("img",{className:"h-20 w-max",src:y.images[0]&&y.images[0].url})}),p.jsxs("div",{className:"flex flex-col justify-center",children:[p.jsx("button",{title:"delete",onClick:()=>{_.current==="testingXYZ"&&I(),l(_.current),_.current="testingXYZ"},children:p.jsx(KO,{size:"25"})}),p.jsx("button",{className:"mt-1",title:"update",onClick:()=>{_.current==="testingXYZ"&&I(),u(Number(_.current),y)},children:p.jsx(YO,{size:"25"})})]})]}),p.jsxs("div",{className:"mt-3 flex",children:[p.jsx("p",{className:"w-[80px] text-left",children:"price:"}),p.jsx("input",{type:"text",name:"price",className:"text-center",title:"price",value:y.price,onChange:S})]}),p.jsxs("div",{className:"mt-3 flex",children:[p.jsx("p",{className:"w-[80px] text-left",children:"inStock:"}),p.jsx("input",{type:"text",name:"inStock",className:"text-center",title:"inStock",value:y.inStock,onChange:S})]}),p.jsxs("div",{className:"flex",children:[p.jsx("p",{children:"description:"}),p.jsx("input",{type:"text",name:"description",className:"text-center",title:"description",value:y.description,onChange:S})]})]}),p.jsxs("div",{className:"min-w-15 mx-3 mt-5 flex w-64 flex-initial flex-col items-center rounded-xl bg-white ",children:[p.jsx("p",{className:"headline__extraSmall font-bold",children:"Actual look"}),p.jsx("p",{children:"------------------------------------"}),p.jsx("p",{className:"text-lg font-semibold",children:g.name}),p.jsx("a",{className:"mt-2 flex justify-center",href:"/schick-glaser",children:p.jsx("img",{className:"h-20 w-max",src:g.images[0]&&g.images[0].url})}),p.jsxs("p",{className:"mt-3",children:[g.price," Kč"]}),p.jsxs("p",{children:[g.inStock," ks"]}),p.jsx("p",{children:g.description})]})]})})})}),p.jsx("p",{children:"Images"}),p.jsx("p",{children:"Products"})]})]})})}function Fg(t,e){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fg(t,e)}function HR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Fg(t,e)}function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G.apply(this,arguments)}function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function Xz(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jz(t){var e=Xz(t,"string");return bl(e)=="symbol"?e:String(e)}function Zz(t,e,n){return e=Jz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(n),!0).forEach(function(r){Zz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var DT=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Mp=function(){return Math.random().toString(36).substring(7).split("").join(".")},kT={INIT:"@@redux/INIT"+Mp(),REPLACE:"@@redux/REPLACE"+Mp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Mp()}};function eW(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function GR(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(jt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(jt(1));return n(GR)(t,e)}if(typeof t!="function")throw new Error(jt(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(jt(3));return s}function d(y){if(typeof y!="function")throw new Error(jt(4));if(l)throw new Error(jt(5));var w=!0;return u(),a.push(y),function(){if(w){if(l)throw new Error(jt(6));w=!1,u();var v=a.indexOf(y);a.splice(v,1),o=null}}}function h(y){if(!eW(y))throw new Error(jt(7));if(typeof y.type>"u")throw new Error(jt(8));if(l)throw new Error(jt(9));try{l=!0,s=i(s,y)}finally{l=!1}for(var w=o=a,g=0;g<w.length;g++){var v=w[g];v()}return y}function f(y){if(typeof y!="function")throw new Error(jt(10));i=y,h({type:kT.REPLACE})}function m(){var y,w=d;return y={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(jt(11));function _(){v.next&&v.next(c())}_();var E=w(_);return{unsubscribe:E}}},y[DT]=function(){return this},y}return h({type:kT.INIT}),r={dispatch:h,subscribe:d,getState:c,replaceReducer:f},r[DT]=m,r}function NT(t,e){return function(){return e(t.apply(this,arguments))}}function OT(t,e){if(typeof t=="function")return NT(t,e);if(typeof t!="object"||t===null)throw new Error(jt(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=NT(i,e))}return n}function qR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function tW(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(jt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=qR.apply(void 0,a)(i.dispatch),RT(RT({},i),{},{dispatch:s})}}}var KR=te.createContext(null);function nW(t){t()}var QR=nW,rW=function(e){return QR=e},iW=function(){return QR};function sW(){var t=iW(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=e;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,o=n={callback:i,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var LT={notify:function(){},get:function(){return[]}};function YR(t,e){var n,r=LT;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=sW())}function u(){n&&(n(),n=void 0,r.clear(),r=LT)}var c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:function(){return r}};return c}var XR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?T.useLayoutEffect:T.useEffect;function oW(t){var e=t.store,n=t.context,r=t.children,i=T.useMemo(function(){var a=YR(e);return{store:e,subscription:a}},[e]),s=T.useMemo(function(){return e.getState()},[e]);XR(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,s]);var o=n||KR;return te.createElement(o.Provider,{value:i},r)}function Dd(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var JR={exports:{}},pe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var it=typeof Symbol=="function"&&Symbol.for,H0=it?Symbol.for("react.element"):60103,G0=it?Symbol.for("react.portal"):60106,ef=it?Symbol.for("react.fragment"):60107,tf=it?Symbol.for("react.strict_mode"):60108,nf=it?Symbol.for("react.profiler"):60114,rf=it?Symbol.for("react.provider"):60109,sf=it?Symbol.for("react.context"):60110,q0=it?Symbol.for("react.async_mode"):60111,of=it?Symbol.for("react.concurrent_mode"):60111,af=it?Symbol.for("react.forward_ref"):60112,lf=it?Symbol.for("react.suspense"):60113,aW=it?Symbol.for("react.suspense_list"):60120,uf=it?Symbol.for("react.memo"):60115,cf=it?Symbol.for("react.lazy"):60116,lW=it?Symbol.for("react.block"):60121,uW=it?Symbol.for("react.fundamental"):60117,cW=it?Symbol.for("react.responder"):60118,dW=it?Symbol.for("react.scope"):60119;function ln(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case H0:switch(t=t.type,t){case q0:case of:case ef:case nf:case tf:case lf:return t;default:switch(t=t&&t.$$typeof,t){case sf:case af:case cf:case uf:case rf:return t;default:return e}}case G0:return e}}}function ZR(t){return ln(t)===of}pe.AsyncMode=q0;pe.ConcurrentMode=of;pe.ContextConsumer=sf;pe.ContextProvider=rf;pe.Element=H0;pe.ForwardRef=af;pe.Fragment=ef;pe.Lazy=cf;pe.Memo=uf;pe.Portal=G0;pe.Profiler=nf;pe.StrictMode=tf;pe.Suspense=lf;pe.isAsyncMode=function(t){return ZR(t)||ln(t)===q0};pe.isConcurrentMode=ZR;pe.isContextConsumer=function(t){return ln(t)===sf};pe.isContextProvider=function(t){return ln(t)===rf};pe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===H0};pe.isForwardRef=function(t){return ln(t)===af};pe.isFragment=function(t){return ln(t)===ef};pe.isLazy=function(t){return ln(t)===cf};pe.isMemo=function(t){return ln(t)===uf};pe.isPortal=function(t){return ln(t)===G0};pe.isProfiler=function(t){return ln(t)===nf};pe.isStrictMode=function(t){return ln(t)===tf};pe.isSuspense=function(t){return ln(t)===lf};pe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ef||t===of||t===nf||t===tf||t===lf||t===aW||typeof t=="object"&&t!==null&&(t.$$typeof===cf||t.$$typeof===uf||t.$$typeof===rf||t.$$typeof===sf||t.$$typeof===af||t.$$typeof===uW||t.$$typeof===cW||t.$$typeof===dW||t.$$typeof===lW)};pe.typeOf=ln;JR.exports=pe;var hW=JR.exports,K0=hW,fW={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pW={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mW={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},eD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Q0={};Q0[K0.ForwardRef]=mW;Q0[K0.Memo]=eD;function MT(t){return K0.isMemo(t)?eD:Q0[t.$$typeof]||fW}var gW=Object.defineProperty,vW=Object.getOwnPropertyNames,VT=Object.getOwnPropertySymbols,yW=Object.getOwnPropertyDescriptor,_W=Object.getPrototypeOf,jT=Object.prototype;function tD(t,e,n){if(typeof e!="string"){if(jT){var r=_W(e);r&&r!==jT&&tD(t,r,n)}var i=vW(e);VT&&(i=i.concat(VT(e)));for(var s=MT(t),o=MT(e),a=0;a<i.length;++a){var l=i[a];if(!pW[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=yW(e,l);try{gW(t,l,u)}catch{}}}}return t}var wW=tD;const FT=Gg(wW);var nD={exports:{}},ge={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=60103,hf=60106,ou=60107,au=60108,lu=60114,uu=60109,cu=60110,du=60112,hu=60113,Y0=60120,fu=60115,pu=60116,rD=60121,iD=60122,sD=60117,oD=60129,aD=60131;if(typeof Symbol=="function"&&Symbol.for){var st=Symbol.for;df=st("react.element"),hf=st("react.portal"),ou=st("react.fragment"),au=st("react.strict_mode"),lu=st("react.profiler"),uu=st("react.provider"),cu=st("react.context"),du=st("react.forward_ref"),hu=st("react.suspense"),Y0=st("react.suspense_list"),fu=st("react.memo"),pu=st("react.lazy"),rD=st("react.block"),iD=st("react.server.block"),sD=st("react.fundamental"),oD=st("react.debug_trace_mode"),aD=st("react.legacy_hidden")}function On(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case df:switch(t=t.type,t){case ou:case lu:case au:case hu:case Y0:return t;default:switch(t=t&&t.$$typeof,t){case cu:case du:case pu:case fu:case uu:return t;default:return e}}case hf:return e}}}var EW=uu,TW=df,xW=du,SW=ou,IW=pu,bW=fu,PW=hf,CW=lu,AW=au,RW=hu;ge.ContextConsumer=cu;ge.ContextProvider=EW;ge.Element=TW;ge.ForwardRef=xW;ge.Fragment=SW;ge.Lazy=IW;ge.Memo=bW;ge.Portal=PW;ge.Profiler=CW;ge.StrictMode=AW;ge.Suspense=RW;ge.isAsyncMode=function(){return!1};ge.isConcurrentMode=function(){return!1};ge.isContextConsumer=function(t){return On(t)===cu};ge.isContextProvider=function(t){return On(t)===uu};ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===df};ge.isForwardRef=function(t){return On(t)===du};ge.isFragment=function(t){return On(t)===ou};ge.isLazy=function(t){return On(t)===pu};ge.isMemo=function(t){return On(t)===fu};ge.isPortal=function(t){return On(t)===hf};ge.isProfiler=function(t){return On(t)===lu};ge.isStrictMode=function(t){return On(t)===au};ge.isSuspense=function(t){return On(t)===hu};ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ou||t===lu||t===oD||t===au||t===hu||t===Y0||t===aD||typeof t=="object"&&t!==null&&(t.$$typeof===pu||t.$$typeof===fu||t.$$typeof===uu||t.$$typeof===cu||t.$$typeof===du||t.$$typeof===sD||t.$$typeof===rD||t[0]===iD)};ge.typeOf=On;nD.exports=ge;var DW=nD.exports,kW=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],NW=["reactReduxForwardedRef"],OW=[],LW=[null,null];function MW(t,e){var n=t[1];return[e.payload,n+1]}function BT(t,e,n){XR(function(){return t.apply(void 0,e)},n)}function VW(t,e,n,r,i,s,o){t.current=r,e.current=i,n.current=!1,s.current&&(s.current=null,o())}function jW(t,e,n,r,i,s,o,a,l,u){if(t){var c=!1,d=null,h=function(){if(!c){var y=e.getState(),w,g;try{w=r(y,i.current)}catch(v){g=v,d=v}g||(d=null),w===s.current?o.current||l():(s.current=w,a.current=w,o.current=!0,u({type:"STORE_UPDATED",payload:{error:g}}))}};n.onStateChange=h,n.trySubscribe(),h();var f=function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d};return f}}var FW=function(){return[null,0]};function BW(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(_){return"ConnectAdvanced("+_+")"}:r,s=n.methodName,o=s===void 0?"connectAdvanced":s,a=n.renderCountProp,l=a===void 0?void 0:a,u=n.shouldHandleStateChanges,c=u===void 0?!0:u,d=n.storeKey,h=d===void 0?"store":d;n.withRef;var f=n.forwardRef,m=f===void 0?!1:f,y=n.context,w=y===void 0?KR:y,g=Dd(n,kW),v=w;return function(E){var x=E.displayName||E.name||"Component",S=i(x),P=G({},g,{getDisplayName:i,methodName:o,renderCountProp:l,shouldHandleStateChanges:c,storeKey:h,displayName:S,wrappedComponentName:x,WrappedComponent:E}),I=g.pure;function k(ae){return t(ae.dispatch,P)}var N=I?T.useMemo:function(ae){return ae()};function F(ae){var ce=T.useMemo(function(){var Uo=ae.reactReduxForwardedRef,If=Dd(ae,NW);return[ae.context,Uo,If]},[ae]),M=ce[0],U=ce[1],b=ce[2],L=T.useMemo(function(){return M&&M.Consumer&&DW.isContextConsumer(te.createElement(M.Consumer,null))?M:v},[M,v]),O=T.useContext(L),z=!!ae.store&&!!ae.store.getState&&!!ae.store.dispatch;O&&O.store;var ee=z?ae.store:O.store,Qe=T.useMemo(function(){return k(ee)},[ee]),_e=T.useMemo(function(){if(!c)return LW;var Uo=YR(ee,z?null:O.subscription),If=Uo.notifyNestedSubs.bind(Uo);return[Uo,If]},[ee,z,O]),Ye=_e[0],Kt=_e[1],xn=T.useMemo(function(){return z?O:G({},O,{subscription:Ye})},[z,O,Ye]),$e=T.useReducer(MW,OW,FW),wf=$e[0],ws=wf[0],Ef=$e[1];if(ws&&ws.error)throw ws.error;var w_=T.useRef(),Tf=T.useRef(b),vu=T.useRef(),E_=T.useRef(!1),xf=N(function(){return vu.current&&b===Tf.current?vu.current:Qe(ee.getState(),b)},[ee,ws,b]);BT(VW,[Tf,w_,E_,b,xf,vu,Kt]),BT(jW,[c,ee,Ye,Qe,Tf,w_,E_,vu,Kt,Ef],[ee,Ye,Qe]);var Sf=T.useMemo(function(){return te.createElement(E,G({},xf,{ref:U}))},[U,E,xf]),uk=T.useMemo(function(){return c?te.createElement(L.Provider,{value:xn},Sf):Sf},[L,Sf,xn]);return uk}var Z=I?te.memo(F):F;if(Z.WrappedComponent=E,Z.displayName=F.displayName=S,m){var oe=te.forwardRef(function(ce,M){return te.createElement(Z,G({},ce,{reactReduxForwardedRef:M}))});return oe.displayName=S,oe.WrappedComponent=E,FT(oe,E)}return FT(Z,E)}}function UT(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Vp(t,e){if(UT(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!UT(t[n[i]],e[n[i]]))return!1;return!0}function UW(t,e){var n={},r=function(o){var a=t[o];typeof a=="function"&&(n[o]=function(){return e(a.apply(void 0,arguments))})};for(var i in t)r(i);return n}function X0(t){return function(n,r){var i=t(n,r);function s(){return i}return s.dependsOnOwnProps=!1,s}}function $T(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function lD(t,e){return function(r,i){i.displayName;var s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=t,s.dependsOnOwnProps=$T(t);var u=s(a,l);return typeof u=="function"&&(s.mapToProps=u,s.dependsOnOwnProps=$T(u),u=s(a,l)),u},s}}function $W(t){return typeof t=="function"?lD(t):void 0}function zW(t){return t?void 0:X0(function(e){return{dispatch:e}})}function WW(t){return t&&typeof t=="object"?X0(function(e){return UW(t,e)}):void 0}const HW=[$W,zW,WW];function GW(t){return typeof t=="function"?lD(t):void 0}function qW(t){return t?void 0:X0(function(){return{}})}const KW=[GW,qW];function QW(t,e,n){return G({},n,t,e)}function YW(t){return function(n,r){r.displayName;var i=r.pure,s=r.areMergedPropsEqual,o=!1,a;return function(u,c,d){var h=t(u,c,d);return o?(!i||!s(h,a))&&(a=h):(o=!0,a=h),a}}}function XW(t){return typeof t=="function"?YW(t):void 0}function JW(t){return t?void 0:function(){return QW}}const ZW=[XW,JW];var e8=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function t8(t,e,n,r){return function(s,o){return n(t(s,o),e(r,o),o)}}function n8(t,e,n,r,i){var s=i.areStatesEqual,o=i.areOwnPropsEqual,a=i.areStatePropsEqual,l=!1,u,c,d,h,f;function m(_,E){return u=_,c=E,d=t(u,c),h=e(r,c),f=n(d,h,c),l=!0,f}function y(){return d=t(u,c),e.dependsOnOwnProps&&(h=e(r,c)),f=n(d,h,c),f}function w(){return t.dependsOnOwnProps&&(d=t(u,c)),e.dependsOnOwnProps&&(h=e(r,c)),f=n(d,h,c),f}function g(){var _=t(u,c),E=!a(_,d);return d=_,E&&(f=n(d,h,c)),f}function v(_,E){var x=!o(E,c),S=!s(_,u,E,c);return u=_,c=E,x&&S?y():x?w():S?g():f}return function(E,x){return l?v(E,x):m(E,x)}}function r8(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,s=Dd(e,e8),o=n(t,s),a=r(t,s),l=i(t,s),u=s.pure?n8:t8;return u(o,a,l,t,s)}var i8=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function jp(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(s,o){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function s8(t,e){return t===e}function o8(t){var e=t===void 0?{}:t,n=e.connectHOC,r=n===void 0?BW:n,i=e.mapStateToPropsFactories,s=i===void 0?KW:i,o=e.mapDispatchToPropsFactories,a=o===void 0?HW:o,l=e.mergePropsFactories,u=l===void 0?ZW:l,c=e.selectorFactory,d=c===void 0?r8:c;return function(f,m,y,w){w===void 0&&(w={});var g=w,v=g.pure,_=v===void 0?!0:v,E=g.areStatesEqual,x=E===void 0?s8:E,S=g.areOwnPropsEqual,P=S===void 0?Vp:S,I=g.areStatePropsEqual,k=I===void 0?Vp:I,N=g.areMergedPropsEqual,F=N===void 0?Vp:N,Z=Dd(g,i8),oe=jp(f,s,"mapStateToProps"),ae=jp(m,a,"mapDispatchToProps"),ce=jp(y,u,"mergeProps");return r(d,G({methodName:"connect",getDisplayName:function(U){return"Connect("+U+")"},shouldHandleStateChanges:!!f,initMapStateToProps:oe,initMapDispatchToProps:ae,initMergeProps:ce,pure:_,areStatesEqual:x,areOwnPropsEqual:P,areStatePropsEqual:k,areMergedPropsEqual:F},Z))}}const uD=o8();rW(Uv.unstable_batchedUpdates);function a8(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function cD(t,e){var n=T.useState(function(){return{inputs:e,result:t()}})[0],r=T.useRef(!0),i=T.useRef(n),s=r.current||!!(e&&i.current.inputs&&a8(e,i.current.inputs)),o=s?i.current:{inputs:e,result:t()};return T.useEffect(function(){r.current=!1,i.current=o},[o]),o.result}function l8(t,e){return cD(function(){return t},e)}var le=cD,W=l8,u8="Invariant failed";function c8(t,e){if(!t)throw new Error(u8)}var Cn=function(e){var n=e.top,r=e.right,i=e.bottom,s=e.left,o=r-s,a=i-n,l={top:n,right:r,bottom:i,left:s,width:o,height:a,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return l},J0=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},zT=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},d8=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},Fp={top:0,right:0,bottom:0,left:0},Z0=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?Fp:r,s=e.border,o=s===void 0?Fp:s,a=e.padding,l=a===void 0?Fp:a,u=Cn(J0(n,i)),c=Cn(zT(n,o)),d=Cn(zT(c,l));return{marginBox:u,borderBox:Cn(n),paddingBox:c,contentBox:d,margin:i,border:o,padding:l}},cn=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&c8(!1),i},h8=function(){return{x:window.pageXOffset,y:window.pageYOffset}},kd=function(e,n){var r=e.borderBox,i=e.border,s=e.margin,o=e.padding,a=d8(r,n);return Z0({borderBox:a,border:i,margin:s,padding:o})},Nd=function(e,n){return n===void 0&&(n=h8()),kd(e,n)},dD=function(e,n){var r={top:cn(n.marginTop),right:cn(n.marginRight),bottom:cn(n.marginBottom),left:cn(n.marginLeft)},i={top:cn(n.paddingTop),right:cn(n.paddingRight),bottom:cn(n.paddingBottom),left:cn(n.paddingLeft)},s={top:cn(n.borderTopWidth),right:cn(n.borderRightWidth),bottom:cn(n.borderBottomWidth),left:cn(n.borderLeftWidth)};return Z0({borderBox:e,margin:r,padding:i,border:s})},hD=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return dD(n,r)},WT=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function f8(t,e){return!!(t===e||WT(t)&&WT(e))}function p8(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!f8(t[n],e[n]))return!1;return!0}function et(t,e){e===void 0&&(e=p8);var n,r=[],i,s=!1;function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return s&&n===this&&e(a,r)||(i=t.apply(this,a),s=!0,n=this,r=a),i}return o}var Pl=function(e){var n=[],r=null,i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function fD(t,e){}fD.bind(null,"warn");fD.bind(null,"error");function ni(){}function m8(t,e){return G({},t,{},e)}function gn(t,e,n){var r=e.map(function(i){var s=m8(n,i.options);return t.addEventListener(i.eventName,i.fn,s),function(){t.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(function(s){s()})}}var g8="Invariant failed";function Od(t){this.message=t}Od.prototype.toString=function(){return this.message};function D(t,e){if(!t)throw new Od(g8)}var v8=function(t){HR(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.callbacks=null,r.unbind=ni,r.onWindowError=function(a){var l=r.getCallbacks();l.isDragging()&&l.tryAbort();var u=a.error;u instanceof Od&&a.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(a){r.callbacks=a},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=gn(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof Od){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(te.Component),y8=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ld=function(e){return e+1},_8=function(e){return`
  You have lifted an item in position `+Ld(e.source.index)+`
`},pD=function(e,n){var r=e.droppableId===n.droppableId,i=Ld(e.index),s=Ld(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+s+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+s+`
  `},mD=function(e,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},w8=function(e){var n=e.destination;if(n)return pD(e.source,n);var r=e.combine;return r?mD(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},HT=function(e){return`
  The item has returned to its starting position
  of `+Ld(e.index)+`
`},E8=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+HT(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+pD(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+mD(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+HT(e.source)+`
  `},Pc={dragHandleUsageInstructions:y8,onDragStart:_8,onDragUpdate:w8,onDragEnd:E8},nt={x:0,y:0},dt=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},Jt=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},ri=function(e,n){return e.x===n.x&&e.y===n.y},jo=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},ls=function(e,n,r){var i;return r===void 0&&(r=0),i={},i[e]=n,i[e==="x"?"y":"x"]=r,i},Cl=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},GT=function(e,n){return Math.min.apply(Math,n.map(function(r){return Cl(e,r)}))},gD=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},T8=function(t,e){var n=Cn({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},mu=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},qT=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},x8={top:0,right:0,bottom:0,left:0},S8=function(e,n){return n?mu(e,n.scroll.diff.displacement):e},I8=function(e,n,r){if(r&&r.increasedBy){var i;return G({},e,(i={},i[n.end]=e[n.end]+r.increasedBy[n.line],i))}return e},b8=function(e,n){return n&&n.shouldClipSubject?T8(n.pageMarginBox,e):Cn(e)},To=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,s=S8(e.marginBox,i),o=I8(s,r,n),a=b8(o,i);return{page:e,withPlaceholder:n,active:a}},e_=function(t,e){t.frame||D(!1);var n=t.frame,r=Jt(e,n.scroll.initial),i=jo(r),s=G({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),o=To({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s}),a=G({},t,{frame:s,subject:o});return a};function Md(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function t_(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function Si(t,e){if(t.find)return t.find(e);var n=t_(t,e);if(n!==-1)return t[n]}function vD(t){return Array.prototype.slice.call(t)}var yD=et(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),_D=et(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),ff=et(function(t){return Md(t)}),P8=et(function(t){return Md(t)}),Fo=et(function(t,e){var n=P8(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function n_(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function pf(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var mf=et(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),C8=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,s=t.previousImpact;if(!r.isCombineEnabled)return null;var o=n_(s);if(!o)return null;function a(y){var w={type:"COMBINE",combine:{draggableId:y,droppableId:r.descriptor.id}};return G({},s,{at:w})}var l=s.displaced.all,u=l.length?l[0]:null;if(e)return u?a(u):null;var c=mf(n,i);if(!u){if(!c.length)return null;var d=c[c.length-1];return a(d.descriptor.id)}var h=t_(c,function(y){return y.descriptor.id===u});h===-1&&D(!1);var f=h-1;if(f<0)return null;var m=c[f];return a(m.descriptor.id)},Bo=function(t,e){return t.descriptor.droppableId===e.descriptor.id},wD={point:nt,value:0},Al={invisible:{},visible:{},all:[]},A8={displaced:Al,displacedBy:wD,at:null},_n=function(t,e){return function(n){return t<=n&&n<=e}},ED=function(t){var e=_n(t.top,t.bottom),n=_n(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var s=e(r.top)||e(r.bottom),o=n(r.left)||n(r.right),a=s&&o;if(a)return!0;var l=r.top<t.top&&r.bottom>t.bottom,u=r.left<t.left&&r.right>t.right,c=l&&u;if(c)return!0;var d=l&&o||u&&s;return d}},R8=function(t){var e=_n(t.top,t.bottom),n=_n(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return i}},r_={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},TD={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},D8=function(t){return function(e){var n=_n(e.top,e.bottom),r=_n(e.left,e.right);return function(i){return t===r_?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},k8=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:nt;return mu(e,r)},N8=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},O8=function(e,n,r){return r(n)(e)},i_=function(e){var n=e.target,r=e.destination,i=e.viewport,s=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,a=s?k8(n,r):n;return N8(a,r,o)&&O8(a,i,o)},L8=function(e){return i_(G({},e,{isVisibleThroughFrameFn:ED}))},xD=function(e){return i_(G({},e,{isVisibleThroughFrameFn:R8}))},M8=function(e){return i_(G({},e,{isVisibleThroughFrameFn:D8(e.destination.axis)}))},V8=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,s=n.visible;if(i[e])return!1;var o=s[e];return o?o.shouldAnimate:!0};function j8(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Cn(J0(n,r))}function Rl(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,s=t.forceShouldAnimate,o=t.last;return e.reduce(function(l,u){var c=j8(u,r),d=u.descriptor.id;l.all.push(d);var h=L8({target:c,destination:n,viewport:i,withDroppableDisplacement:!0});if(!h)return l.invisible[u.descriptor.id]=!0,l;var f=V8(d,o,s),m={draggableId:d,shouldAnimate:f};return l.visible[d]=m,l},{all:[],visible:{},invisible:{}})}function F8(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function KT(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,s=F8(e,{inHomeList:n});return{displaced:Al,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:s}}}}function Vd(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,s=t.displacedBy,o=t.last,a=t.index,l=t.forceShouldAnimate,u=Bo(e,r);if(a==null)return KT({insideDestination:n,inHomeList:u,displacedBy:s,destination:r});var c=Si(n,function(y){return y.descriptor.index===a});if(!c)return KT({insideDestination:n,inHomeList:u,displacedBy:s,destination:r});var d=mf(e,n),h=n.indexOf(c),f=d.slice(h),m=Rl({afterDragging:f,destination:r,displacedBy:s,last:o,viewport:i.frame,forceShouldAnimate:l});return{displaced:m,displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function pi(t,e){return!!e.effected[t]}var B8=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,s=t.afterCritical;if(!n.isCombineEnabled)return null;var o=i.draggableId,a=r[o],l=a.descriptor.index,u=pi(o,s);return u?e?l:l-1:e?l+1:l},U8=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var s=i.index,o=e?s+1:s-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index,u=n?l:l+1;return o<a||o>u?null:o},$8=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,s=t.destination,o=t.insideDestination,a=t.previousImpact,l=t.viewport,u=t.afterCritical,c=a.at;if(c||D(!1),c.type==="REORDER"){var d=U8({isMovingForward:e,isInHomeList:n,location:c.destination,insideDestination:o});return d==null?null:Vd({draggable:r,insideDestination:o,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:d})}var h=B8({isMovingForward:e,destination:s,displaced:a.displaced,draggables:i,combine:c.combine,afterCritical:u});return h==null?null:Vd({draggable:r,insideDestination:o,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:h})},z8=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,s=!!(e.visible[r]||e.invisible[r]);return pi(r,n)?s?nt:jo(i.point):s?i.point:nt},W8=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=pf(n);i||D(!1);var s=i.draggableId,o=r[s].page.borderBox.center,a=z8({displaced:n.displaced,afterCritical:e,combineWith:s,displacedBy:n.displacedBy});return dt(o,a)},SD=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},H8=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},s_=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},QT=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return ls(n.line,r.marginBox[n.end]+SD(n,i),s_(n,r.marginBox,i))},YT=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return ls(n.line,r.marginBox[n.start]-H8(n,i),s_(n,r.marginBox,i))},G8=function(e){var n=e.axis,r=e.moveInto,i=e.isMoving;return ls(n.line,r.contentBox[n.start]+SD(n,i),s_(n,r.contentBox,i))},q8=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,s=t.afterCritical,o=Fo(i.descriptor.id,r),a=n.page,l=i.axis;if(!o.length)return G8({axis:l,moveInto:i.page,isMoving:a});var u=e.displaced,c=e.displacedBy,d=u.all[0];if(d){var h=r[d];if(pi(d,s))return YT({axis:l,moveRelativeTo:h.page,isMoving:a});var f=kd(h.page,c.point);return YT({axis:l,moveRelativeTo:f,isMoving:a})}var m=o[o.length-1];if(m.descriptor.id===n.descriptor.id)return a.borderBox.center;if(pi(m.descriptor.id,s)){var y=kd(m.page,jo(s.displacedBy.point));return QT({axis:l,moveRelativeTo:y,isMoving:a})}return QT({axis:l,moveRelativeTo:m.page,isMoving:a})},Bg=function(t,e){var n=t.frame;return n?dt(e,n.scroll.diff.displacement):e},K8=function(e){var n=e.impact,r=e.draggable,i=e.droppable,s=e.draggables,o=e.afterCritical,a=r.page.borderBox.center,l=n.at;return!i||!l?a:l.type==="REORDER"?q8({impact:n,draggable:r,draggables:s,droppable:i,afterCritical:o}):W8({impact:n,draggables:s,afterCritical:o})},gf=function(t){var e=K8(t),n=t.droppable,r=n?Bg(n,e):e;return r},ID=function(t,e){var n=Jt(e,t.scroll.initial),r=jo(n),i=Cn({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),s={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return s};function XT(t,e){return t.map(function(n){return e[n]})}function Q8(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var Y8=function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,s=t.maxScrollChange,o=ID(n,dt(n.scroll.current,s)),a=r.frame?e_(r,dt(r.frame.scroll.current,s)):r,l=e.displaced,u=Rl({afterDragging:XT(l.all,i),destination:r,displacedBy:e.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),c=Rl({afterDragging:XT(l.all,i),destination:a,displacedBy:e.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,u,c];l.all.forEach(function(y){var w=Q8(y,f);if(w){h[y]=w;return}d[y]=!0});var m=G({},e,{displaced:{all:l.all,invisible:d,visible:h}});return m},X8=function(t,e){return dt(t.scroll.diff.displacement,e)},o_=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,i=X8(r,e),s=Jt(i,n.page.borderBox.center);return dt(n.client.borderBox.center,s)},bD=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,s=t.withDroppableDisplacement,o=t.onlyOnMainAxis,a=o===void 0?!1:o,l=Jt(r,e.page.borderBox.center),u=mu(e.page.borderBox,l),c={target:u,destination:n,withDroppableDisplacement:s,viewport:i};return a?M8(c):xD(c)},J8=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,s=t.previousImpact,o=t.viewport,a=t.previousPageBorderBoxCenter,l=t.previousClientSelection,u=t.afterCritical;if(!r.isEnabled)return null;var c=Fo(r.descriptor.id,i),d=Bo(n,r),h=C8({isMovingForward:e,draggable:n,destination:r,insideDestination:c,previousImpact:s})||$8({isMovingForward:e,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:c,previousImpact:s,viewport:o,afterCritical:u});if(!h)return null;var f=gf({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:u}),m=bD({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(m){var y=o_({pageBorderBoxCenter:f,draggable:n,viewport:o});return{clientSelection:y,impact:h,scrollJumpRequest:null}}var w=Jt(f,a),g=Y8({impact:h,viewport:o,destination:r,draggables:i,maxScrollChange:w});return{clientSelection:l,impact:g,scrollJumpRequest:w}},Rt=function(e){var n=e.subject.active;return n||D(!1),n},Z8=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,s=t.viewport,o=r.subject.active;if(!o)return null;var a=r.axis,l=_n(o[a.start],o[a.end]),u=ff(i).filter(function(d){return d!==r}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return ED(s.frame)(Rt(d))}).filter(function(d){var h=Rt(d);return e?o[a.crossAxisEnd]<h[a.crossAxisEnd]:h[a.crossAxisStart]<o[a.crossAxisStart]}).filter(function(d){var h=Rt(d),f=_n(h[a.start],h[a.end]);return l(h[a.start])||l(h[a.end])||f(o[a.start])||f(o[a.end])}).sort(function(d,h){var f=Rt(d)[a.crossAxisStart],m=Rt(h)[a.crossAxisStart];return e?f-m:m-f}).filter(function(d,h,f){return Rt(d)[a.crossAxisStart]===Rt(f[0])[a.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var c=u.filter(function(d){var h=_n(Rt(d)[a.start],Rt(d)[a.end]);return h(n[a.line])});return c.length===1?c[0]:c.length>1?c.sort(function(d,h){return Rt(d)[a.start]-Rt(h)[a.start]})[0]:u.sort(function(d,h){var f=GT(n,qT(Rt(d))),m=GT(n,qT(Rt(h)));return f!==m?f-m:Rt(d)[a.start]-Rt(h)[a.start]})[0]},JT=function(e,n){var r=e.page.borderBox.center;return pi(e.descriptor.id,n)?Jt(r,n.displacedBy.point):r},eH=function(e,n){var r=e.page.borderBox;return pi(e.descriptor.id,n)?mu(r,jo(n.displacedBy.point)):r},tH=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,s=t.afterCritical,o=i.filter(function(a){return xD({target:eH(a,s),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(a,l){var u=Cl(e,Bg(r,JT(a,s))),c=Cl(e,Bg(r,JT(l,s)));return u<c?-1:c<u?1:a.descriptor.index-l.descriptor.index});return o[0]||null},gu=et(function(e,n){var r=n[e.line];return{value:r,point:ls(e.line,r)}}),nH=function(e,n,r){var i=e.axis;if(e.descriptor.mode==="virtual")return ls(i.line,n[i.line]);var s=e.subject.page.contentBox[i.size],o=Fo(e.descriptor.id,r),a=o.reduce(function(c,d){return c+d.client.marginBox[i.size]},0),l=a+n[i.line],u=l-s;return u<=0?null:ls(i.line,u)},PD=function(e,n){return G({},e,{scroll:G({},e.scroll,{max:n})})},CD=function(e,n,r){var i=e.frame;Bo(n,e)&&D(!1),e.subject.withPlaceholder&&D(!1);var s=gu(e.axis,n.displaceBy).point,o=nH(e,s,r),a={placeholderSize:s,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var l=To({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return G({},e,{subject:l})}var u=o?dt(i.scroll.max,o):i.scroll.max,c=PD(i,u),d=To({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c});return G({},e,{subject:d,frame:c})},rH=function(e){var n=e.subject.withPlaceholder;n||D(!1);var r=e.frame;if(!r){var i=To({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return G({},e,{subject:i})}var s=n.oldFrameMaxScroll;s||D(!1);var o=PD(r,s),a=To({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return G({},e,{subject:a,frame:o})},iH=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,s=t.draggables,o=t.destination,a=t.viewport,l=t.afterCritical;if(!n){if(r.length)return null;var u={displaced:Al,displacedBy:wD,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},c=gf({impact:u,draggable:i,droppable:o,draggables:s,afterCritical:l}),d=Bo(i,o)?o:CD(o,i,s),h=bD({draggable:i,destination:d,newPageBorderBoxCenter:c,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?u:null}var f=e[o.axis.line]<=n.page.borderBox.center[o.axis.line],m=function(){var w=n.descriptor.index;return n.descriptor.id===i.descriptor.id||f?w:w+1}(),y=gu(o.axis,i.displaceBy);return Vd({draggable:i,insideDestination:r,destination:o,viewport:a,displacedBy:y,last:Al,index:m})},sH=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,s=t.draggables,o=t.droppables,a=t.viewport,l=t.afterCritical,u=Z8({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:o,viewport:a});if(!u)return null;var c=Fo(u.descriptor.id,s),d=tH({pageBorderBoxCenter:n,viewport:a,destination:u,insideDestination:c,afterCritical:l}),h=iH({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:s,moveRelativeTo:d,insideDestination:c,viewport:a,afterCritical:l});if(!h)return null;var f=gf({impact:h,draggable:r,droppable:u,draggables:s,afterCritical:l}),m=o_({pageBorderBoxCenter:f,draggable:r,viewport:a});return{clientSelection:m,impact:h,scrollJumpRequest:null}},en=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},oH=function(e,n){var r=en(e);return r?n[r]:null},aH=function(t){var e=t.state,n=t.type,r=oH(e.impact,e.dimensions.droppables),i=!!r,s=e.dimensions.droppables[e.critical.droppable.id],o=r||s,a=o.axis.direction,l=a==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||a==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!i)return null;var u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,h=e.dimensions,f=h.draggables,m=h.droppables;return l?J8({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:o,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):sH({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:o,draggables:f,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function ki(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function AD(t){var e=_n(t.top,t.bottom),n=_n(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function lH(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function uH(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,s=r.map(function(o){var a=o.axis,l=ls(o.axis.line,e.center[a.line],o.page.borderBox.center[a.crossAxisLine]);return{id:o.descriptor.id,distance:Cl(i,l)}}).sort(function(o,a){return a.distance-o.distance});return s[0]?s[0].id:null}function cH(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=ff(r).filter(function(s){if(!s.isEnabled)return!1;var o=s.subject.active;if(!o||!lH(e,o))return!1;if(AD(o)(e.center))return!0;var a=s.axis,l=o.center[a.crossAxisLine],u=e[a.crossAxisStart],c=e[a.crossAxisEnd],d=_n(o[a.crossAxisStart],o[a.crossAxisEnd]),h=d(u),f=d(c);return!h&&!f?!0:h?u<l:c>l});return i.length?i.length===1?i[0].descriptor.id:uH({pageBorderBox:e,draggable:n,candidates:i}):null}var RD=function(e,n){return Cn(mu(e,n))},dH=function(t,e){var n=t.frame;return n?RD(e,n.scroll.diff.value):e};function DD(t){var e=t.displaced,n=t.id;return!!(e.visible[n]||e.invisible[n])}function hH(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var fH=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,s=t.last,o=t.viewport,a=t.afterCritical,l=r.axis,u=gu(r.axis,n.displaceBy),c=u.value,d=e[l.start],h=e[l.end],f=mf(n,i),m=Si(f,function(w){var g=w.descriptor.id,v=w.page.borderBox.center[l.line],_=pi(g,a),E=DD({displaced:s,id:g});return _?E?h<=v:d<v-c:E?h<=v+c:d<v}),y=hH({draggable:n,closest:m,inHomeList:Bo(n,r)});return Vd({draggable:n,insideDestination:i,destination:r,viewport:o,last:s,displacedBy:u,index:y})},pH=4,mH=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,s=t.insideDestination,o=t.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,l=gu(i.axis,e.displaceBy),u=l.value,c=n[a.start],d=n[a.end],h=mf(e,s),f=Si(h,function(y){var w=y.descriptor.id,g=y.page.borderBox,v=g[a.size],_=v/pH,E=pi(w,o),x=DD({displaced:r.displaced,id:w});return E?x?d>g[a.start]+_&&d<g[a.end]-_:c>g[a.start]-u+_&&c<g[a.end]-u-_:x?d>g[a.start]+u+_&&d<g[a.end]+u-_:c>g[a.start]+_&&c<g[a.end]-_});if(!f)return null;var m={displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:i.descriptor.id}}};return m},kD=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,s=t.previousImpact,o=t.viewport,a=t.afterCritical,l=RD(n.page.borderBox,e),u=cH({pageBorderBox:l,draggable:n,droppables:i});if(!u)return A8;var c=i[u],d=Fo(c.descriptor.id,r),h=dH(c,l);return mH({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:s,destination:c,insideDestination:d,afterCritical:a})||fH({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:c,insideDestination:d,last:s.displaced,viewport:o,afterCritical:a})},a_=function(t,e){var n;return G({},t,(n={},n[e.descriptor.id]=e,n))},gH=function(e){var n=e.previousImpact,r=e.impact,i=e.droppables,s=en(n),o=en(r);if(!s||s===o)return i;var a=i[s];if(!a.subject.withPlaceholder)return i;var l=rH(a);return a_(i,l)},vH=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,s=t.impact,o=gH({previousImpact:i,impact:s,droppables:r}),a=en(s);if(!a)return o;var l=r[a];if(Bo(e,l)||l.subject.withPlaceholder)return o;var u=CD(l,e,n);return a_(o,u)},Va=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,s=t.impact,o=t.scrollJumpRequest,a=i||e.viewport,l=r||e.dimensions,u=n||e.current.client.selection,c=Jt(u,e.initial.client.selection),d={offset:c,selection:u,borderBoxCenter:dt(e.initial.client.borderBoxCenter,c)},h={selection:dt(d.selection,a.scroll.current),borderBoxCenter:dt(d.borderBoxCenter,a.scroll.current),offset:dt(d.offset,a.scroll.diff.value)},f={client:d,page:h};if(e.phase==="COLLECTING")return G({phase:"COLLECTING"},e,{dimensions:l,viewport:a,current:f});var m=l.draggables[e.critical.draggable.id],y=s||kD({pageOffset:h.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),w=vH({draggable:m,impact:y,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables}),g=G({},e,{current:f,dimensions:{draggables:l.draggables,droppables:w},impact:y,viewport:a,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return g};function yH(t,e){return t.map(function(n){return e[n]})}var ND=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,s=t.forceShouldAnimate,o=e.displaced,a=yH(o.all,r),l=Rl({afterDragging:a,destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:s,last:o});return G({},e,{displaced:l})},OD=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,s=t.viewport,o=t.afterCritical,a=gf({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:o});return o_({pageBorderBoxCenter:a,draggable:n,viewport:s})},LD=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&D(!1);var i=e.impact,s=r||e.viewport,o=n||e.dimensions,a=o.draggables,l=o.droppables,u=a[e.critical.draggable.id],c=en(i);c||D(!1);var d=l[c],h=ND({impact:i,viewport:s,destination:d,draggables:a}),f=OD({impact:h,draggable:u,droppable:d,draggables:a,viewport:s,afterCritical:e.afterCritical});return Va({impact:h,clientSelection:f,state:e,dimensions:o,viewport:s})},_H=function(t){return{index:t.index,droppableId:t.droppableId}},MD=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,s=gu(n.axis,e.displaceBy),o=Fo(n.descriptor.id,r),a=o.indexOf(e);a===-1&&D(!1);var l=o.slice(a+1),u=l.reduce(function(f,m){return f[m.descriptor.id]=!0,f},{}),c={inVirtualList:n.descriptor.mode==="virtual",displacedBy:s,effected:u},d=Rl({afterDragging:l,destination:n,displacedBy:s,last:null,viewport:i.frame,forceShouldAnimate:!1}),h={displaced:d,displacedBy:s,at:{type:"REORDER",destination:_H(e.descriptor)}};return{impact:h,afterCritical:c}},wH=function(t,e){return{draggables:t.draggables,droppables:a_(t.droppables,e)}},EH=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=kd(e.client,n),s=Nd(i,r),o=G({},e,{placeholder:G({},e.placeholder,{client:i}),client:i,page:s});return o},TH=function(t){var e=t.frame;return e||D(!1),e},xH=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map(function(s){var o=s.descriptor.droppableId,a=n[o],l=TH(a),u=l.scroll.diff.value,c=dt(i,u),d=EH({draggable:s,offset:c,initialWindowScroll:r.scroll.initial});return d})},SH=function(t){var e=t.state,n=t.published,r=n.modified.map(function(_){var E=e.dimensions.droppables[_.droppableId],x=e_(E,_.scroll);return x}),i=G({},e.dimensions.droppables,{},yD(r)),s=_D(xH({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),o=G({},e.dimensions.draggables,{},s);n.removals.forEach(function(_){delete o[_]});var a={droppables:i,draggables:o},l=en(e.impact),u=l?a.droppables[l]:null,c=a.draggables[e.critical.draggable.id],d=a.droppables[e.critical.droppable.id],h=MD({draggable:c,home:d,draggables:o,viewport:e.viewport}),f=h.impact,m=h.afterCritical,y=u&&u.isCombineEnabled?e.impact:f,w=kD({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:y,viewport:e.viewport,afterCritical:m}),g=G({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:w,onLiftImpact:f,dimensions:a,afterCritical:m,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return g;var v=G({phase:"DROP_PENDING"},g,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return v},Ug=function(e){return e.movementMode==="SNAP"},Bp=function(e,n,r){var i=wH(e.dimensions,n);return!Ug(e)||r?Va({state:e,dimensions:i}):LD({state:e,dimensions:i})};function Up(t){return t.isDragging&&t.movementMode==="SNAP"?G({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var ZT={phase:"IDLE",completed:null,shouldFlush:!1},IH=function(t,e){if(t===void 0&&(t=ZT),e.type==="FLUSH")return G({},ZT,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&D(!1);var n=e.payload,r=n.critical,i=n.clientSelection,s=n.viewport,o=n.dimensions,a=n.movementMode,l=o.draggables[r.draggable.id],u=o.droppables[r.droppable.id],c={selection:i,borderBoxCenter:l.client.borderBox.center,offset:nt},d={client:c,page:{selection:dt(c.selection,s.scroll.initial),borderBoxCenter:dt(c.selection,s.scroll.initial),offset:dt(c.selection,s.scroll.diff.value)}},h=ff(o.droppables).every(function(Ef){return!Ef.isFixedOnPage}),f=MD({draggable:l,home:u,draggables:o.draggables,viewport:s}),m=f.impact,y=f.afterCritical,w={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:o,initial:d,current:d,isWindowScrollAllowed:h,impact:m,afterCritical:y,onLiftImpact:m,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null};return w}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&D(!1);var g=G({phase:"COLLECTING"},t,{phase:"COLLECTING"});return g}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||D(!1),SH({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;ki(t)||D(!1);var v=e.payload.client;return ri(v,t.current.client.selection)?t:Va({state:t,clientSelection:v,impact:Ug(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return Up(t);ki(t)||D(!1);var _=e.payload,E=_.id,x=_.newScroll,S=t.dimensions.droppables[E];if(!S)return t;var P=e_(S,x);return Bp(t,P,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;ki(t)||D(!1);var I=e.payload,k=I.id,N=I.isEnabled,F=t.dimensions.droppables[k];F||D(!1),F.isEnabled===N&&D(!1);var Z=G({},F,{isEnabled:N});return Bp(t,Z,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;ki(t)||D(!1);var oe=e.payload,ae=oe.id,ce=oe.isCombineEnabled,M=t.dimensions.droppables[ae];M||D(!1),M.isCombineEnabled===ce&&D(!1);var U=G({},M,{isCombineEnabled:ce});return Bp(t,U,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;ki(t)||D(!1),t.isWindowScrollAllowed||D(!1);var b=e.payload.newScroll;if(ri(t.viewport.scroll.current,b))return Up(t);var L=ID(t.viewport,b);return Ug(t)?LD({state:t,viewport:L}):Va({state:t,viewport:L})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ki(t))return t;var O=e.payload.maxScroll;if(ri(O,t.viewport.scroll.max))return t;var z=G({},t.viewport,{scroll:G({},t.viewport.scroll,{max:O})});return G({phase:"DRAGGING"},t,{viewport:z})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&D(!1);var ee=aH({state:t,type:e.type});return ee?Va({state:t,impact:ee.impact,clientSelection:ee.clientSelection,scrollJumpRequest:ee.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var Qe=e.payload.reason;t.phase!=="COLLECTING"&&D(!1);var _e=G({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:Qe});return _e}if(e.type==="DROP_ANIMATE"){var Ye=e.payload,Kt=Ye.completed,xn=Ye.dropDuration,$e=Ye.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||D(!1);var wf={phase:"DROP_ANIMATING",completed:Kt,dropDuration:xn,newHomeClientOffset:$e,dimensions:t.dimensions};return wf}if(e.type==="DROP_COMPLETE"){var ws=e.payload.completed;return{phase:"IDLE",completed:ws,shouldFlush:!1}}return t},bH=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},PH=function(e){return{type:"LIFT",payload:e}},CH=function(e){return{type:"INITIAL_PUBLISH",payload:e}},AH=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},RH=function(){return{type:"COLLECTION_STARTING",payload:null}},DH=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},kH=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},NH=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},VD=function(e){return{type:"MOVE",payload:e}},OH=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},LH=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},MH=function(){return{type:"MOVE_UP",payload:null}},VH=function(){return{type:"MOVE_DOWN",payload:null}},jH=function(){return{type:"MOVE_RIGHT",payload:null}},FH=function(){return{type:"MOVE_LEFT",payload:null}},l_=function(){return{type:"FLUSH",payload:null}},BH=function(e){return{type:"DROP_ANIMATE",payload:e}},u_=function(e){return{type:"DROP_COMPLETE",payload:e}},jD=function(e){return{type:"DROP",payload:e}},UH=function(e){return{type:"DROP_PENDING",payload:e}},FD=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},$H=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(i){return function(s){if(s.type!=="LIFT"){i(s);return}var o=s.payload,a=o.id,l=o.clientSelection,u=o.movementMode,c=n();c.phase==="DROP_ANIMATING"&&r(u_({completed:c.completed})),n().phase!=="IDLE"&&D(!1),r(l_()),r(bH({draggableId:a,movementMode:u}));var d={shouldPublishImmediately:u==="SNAP"},h={draggableId:a,scrollOptions:d},f=t.startPublishing(h),m=f.critical,y=f.dimensions,w=f.viewport;r(CH({critical:m,dimensions:y,clientSelection:l,movementMode:u,viewport:w}))}}}},zH=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},c_={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Dl={opacity:{drop:0,combining:.7},scale:{drop:.75}},d_={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},bi=d_.outOfTheWay+"s "+c_.outOfTheWay,ja={fluid:"opacity "+bi,snap:"transform "+bi+", opacity "+bi,drop:function(e){var n=e+"s "+c_.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+bi,placeholder:"height "+bi+", width "+bi+", margin "+bi},ex=function(e){return ri(e,nt)?null:"translate("+e.x+"px, "+e.y+"px)"},$g={moveTo:ex,drop:function(e,n){var r=ex(e);return r?n?r+" scale("+Dl.scale.drop+")":r:null}},zg=d_.minDropTime,BD=d_.maxDropTime,WH=BD-zg,tx=1500,HH=.6,GH=function(t){var e=t.current,n=t.destination,r=t.reason,i=Cl(e,n);if(i<=0)return zg;if(i>=tx)return BD;var s=i/tx,o=zg+WH*s,a=r==="CANCEL"?o*HH:o;return Number(a.toFixed(2))},qH=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,s=t.afterCritical,o=r.draggables,a=r.droppables,l=en(e),u=l?a[l]:null,c=a[n.descriptor.droppableId],d=OD({impact:e,draggable:n,draggables:o,afterCritical:s,droppable:u||c,viewport:i}),h=Jt(d,n.client.borderBox.center);return h},KH=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,s=t.viewport,o=t.onLiftImpact;if(!r.at||n!=="DROP"){var a=ND({draggables:e,impact:o,destination:i,viewport:s,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var l=G({},r,{displaced:Al});return{impact:l,didDropInsideDroppable:!0}},QH=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var s=e(),o=i.payload.reason;if(s.phase==="COLLECTING"){n(UH({reason:o}));return}if(s.phase!=="IDLE"){var a=s.phase==="DROP_PENDING"&&s.isWaiting;a&&D(!1),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||D(!1);var l=s.critical,u=s.dimensions,c=u.draggables[s.critical.draggable.id],d=KH({reason:o,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),h=d.impact,f=d.didDropInsideDroppable,m=f?n_(h):null,y=f?pf(h):null,w={index:l.draggable.index,droppableId:l.droppable.id},g={draggableId:c.descriptor.id,type:c.descriptor.type,source:w,reason:o,mode:s.movementMode,destination:m,combine:y},v=qH({impact:h,draggable:c,dimensions:u,viewport:s.viewport,afterCritical:s.afterCritical}),_={critical:s.critical,afterCritical:s.afterCritical,result:g,impact:h},E=!ri(s.current.client.offset,v)||!!g.combine;if(!E){n(u_({completed:_}));return}var x=GH({current:s.current.client.offset,destination:v,reason:o}),S={newHomeClientOffset:v,dropDuration:x,completed:_};n(BH(S))}}}},UD=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function YH(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function XH(t){var e=t.onWindowScroll;function n(){e(UD())}var r=Pl(n),i=YH(r),s=ni;function o(){return s!==ni}function a(){o()&&D(!1),s=gn(window,[i])}function l(){o()||D(!1),r.cancel(),s(),s=ni}return{start:a,stop:l,isActive:o}}var JH=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},ZH=function(t){var e=XH({onWindowScroll:function(r){t.dispatch(OH({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&JH(r)&&e.stop(),n(r)}}},e7=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(o){e||n||(e=!0,t(o),clearTimeout(r))};return i.wasCalled=function(){return e},i},t7=function(){var t=[],e=function(s){var o=t_(t,function(u){return u.timerId===s});o===-1&&D(!1);var a=t.splice(o,1),l=a[0];l.callback()},n=function(s){var o=setTimeout(function(){return e(o)}),a={timerId:o,callback:s};t.push(a)},r=function(){if(t.length){var s=[].concat(t);t.length=0,s.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:n,flush:r}},n7=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},r7=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},i7=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,i=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&i},ta=function(e,n){n()},ec=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},$p=function(e,n,r,i){if(!e){r(i(n));return}var s=e7(r),o={announce:s};e(n,o),s.wasCalled()||r(i(n))},s7=function(t,e){var n=t7(),r=null,i=function(h,f){r&&D(!1),ta("onBeforeCapture",function(){var m=t().onBeforeCapture;if(m){var y={draggableId:h,mode:f};m(y)}})},s=function(h,f){r&&D(!1),ta("onBeforeDragStart",function(){var m=t().onBeforeDragStart;m&&m(ec(h,f))})},o=function(h,f){r&&D(!1);var m=ec(h,f);r={mode:f,lastCritical:h,lastLocation:m.source,lastCombine:null},n.add(function(){ta("onDragStart",function(){return $p(t().onDragStart,m,e,Pc.onDragStart)})})},a=function(h,f){var m=n_(f),y=pf(f);r||D(!1);var w=!i7(h,r.lastCritical);w&&(r.lastCritical=h);var g=!n7(r.lastLocation,m);g&&(r.lastLocation=m);var v=!r7(r.lastCombine,y);if(v&&(r.lastCombine=y),!(!w&&!g&&!v)){var _=G({},ec(h,r.mode),{combine:y,destination:m});n.add(function(){ta("onDragUpdate",function(){return $p(t().onDragUpdate,_,e,Pc.onDragUpdate)})})}},l=function(){r||D(!1),n.flush()},u=function(h){r||D(!1),r=null,ta("onDragEnd",function(){return $p(t().onDragEnd,h,e,Pc.onDragEnd)})},c=function(){if(r){var h=G({},ec(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});u(h)}};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:l,drop:u,abort:c}},o7=function(t,e){var n=s7(t,e);return function(r){return function(i){return function(s){if(s.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(s.type==="INITIAL_PUBLISH"){var o=s.payload.critical;n.beforeStart(o,s.payload.movementMode),i(s),n.start(o,s.payload.movementMode);return}if(s.type==="DROP_COMPLETE"){var a=s.payload.completed.result;n.flush(),i(s),n.drop(a);return}if(i(s),s.type==="FLUSH"){n.abort();return}var l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}}}},a7=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&D(!1),t.dispatch(u_({completed:r.completed}))}}},l7=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(i){return function(s){if((s.type==="FLUSH"||s.type==="DROP_COMPLETE"||s.type==="DROP_ANIMATION_FINISHED")&&r(),i(s),s.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=t.getState();l.phase==="DROP_ANIMATING"&&t.dispatch(FD())}};n=requestAnimationFrame(function(){n=null,e=gn(window,[o])})}}}},u7=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},c7=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},d7=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},h7=function(t){return function(e){return function(n){return function(r){if(d7(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=e.getState();i.phase!=="DRAGGING"&&D(!1),t.start(i);return}n(r),t.scroll(e.getState())}}}},f7=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(jD({reason:r.reason})))}}}},p7=qR,m7=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,i=t.getResponders,s=t.announce,o=t.autoScroller;return GR(IH,p7(tW(zH(r),u7(e),$H(e),QH,a7,l7,f7,h7(o),ZH,c7(n),o7(i,s))))},zp=function(){return{additions:{},removals:{},modified:{}}};function g7(t){var e=t.registry,n=t.callbacks,r=zp(),i=null,s=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var c=r,d=c.additions,h=c.removals,f=c.modified,m=Object.keys(d).map(function(g){return e.draggable.getById(g).getDimension(nt)}).sort(function(g,v){return g.descriptor.index-v.descriptor.index}),y=Object.keys(f).map(function(g){var v=e.droppable.getById(g),_=v.callbacks.getScrollWhileDragging();return{droppableId:g,scroll:_}}),w={additions:m,removals:Object.keys(h),modified:y};r=zp(),n.publish(w)}))},o=function(c){var d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],s()},a=function(c){var d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],s()},l=function(){i&&(cancelAnimationFrame(i),i=null,r=zp())};return{add:o,remove:a,stop:l}}var $D=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,s=Jt({x:n,y:e},{x:i,y:r}),o={x:Math.max(0,s.x),y:Math.max(0,s.y)};return o},zD=function(){var t=document.documentElement;return t||D(!1),t},WD=function(){var t=zD(),e=$D({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},v7=function(){var t=UD(),e=WD(),n=t.y,r=t.x,i=zD(),s=i.clientWidth,o=i.clientHeight,a=r+s,l=n+o,u=Cn({top:n,left:r,right:a,bottom:l}),c={frame:u,scroll:{initial:t,current:t,max:e,diff:{value:nt,displacement:nt}}};return c},y7=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,i=v7(),s=i.scroll.current,o=e.droppable,a=r.droppable.getAllByType(o.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(s,n)}),l=r.draggable.getAllByType(e.draggable.type).map(function(d){return d.getDimension(s)}),u={draggables:_D(l),droppables:yD(a)},c={dimensions:u,critical:e,viewport:i};return c};function nx(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var _7=function(t,e){var n=null,r=g7({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(f,m){t.droppable.exists(f)||D(!1),n&&e.updateDroppableIsEnabled({id:f,isEnabled:m})},s=function(f,m){n&&(t.droppable.exists(f)||D(!1),e.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:m}))},o=function(f,m){n&&(t.droppable.exists(f)||D(!1),e.updateDroppableScroll({id:f,newScroll:m}))},a=function(f,m){n&&t.droppable.getById(f).callbacks.scroll(m)},l=function(){if(n){r.stop();var f=n.critical.droppable;t.droppable.getAllByType(f.type).forEach(function(m){return m.callbacks.dragStopped()}),n.unsubscribe(),n=null}},u=function(f){n||D(!1);var m=n.critical.draggable;f.type==="ADDITION"&&nx(t,m,f.value)&&r.add(f.value),f.type==="REMOVAL"&&nx(t,m,f.value)&&r.remove(f.value)},c=function(f){n&&D(!1);var m=t.draggable.getById(f.draggableId),y=t.droppable.getById(m.descriptor.droppableId),w={draggable:m.descriptor,droppable:y.descriptor},g=t.subscribe(u);return n={critical:w,unsubscribe:g},y7({critical:w,registry:t,scrollOptions:f.scrollOptions})},d={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:c,stopPublishing:l};return d},HD=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},w7=function(t){window.scrollBy(t.x,t.y)},E7=et(function(t){return ff(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),T7=function(e,n){var r=Si(E7(n),function(i){return i.frame||D(!1),AD(i.frame.pageMarginBox)(e)});return r},x7=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}var s=T7(e,r);return s},ii={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},S7=function(t,e){var n=t[e.size]*ii.startFromPercentage,r=t[e.size]*ii.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},GD=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;if(i===0)return 0;var s=r-e,o=s/i;return o},h_=1,I7=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return ii.maxPixelScroll;if(t===e.startScrollingFrom)return h_;var n=GD({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,i=ii.maxPixelScroll*ii.ease(r);return Math.ceil(i)},rx=ii.durationDampening.accelerateAt,ix=ii.durationDampening.stopDampeningAt,b7=function(t,e){var n=e,r=ix,i=Date.now(),s=i-n;if(s>=ix)return t;if(s<rx)return h_;var o=GD({startOfRange:rx,endOfRange:r,current:s}),a=t*ii.ease(o);return Math.ceil(a)},sx=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,s=I7(e,n);return s===0?0:i?Math.max(b7(s,r),h_):s},ox=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,s=t.shouldUseTimeDampening,o=S7(e,i),a=n[i.end]<n[i.start];return a?sx({distanceToEdge:n[i.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s}):-1*sx({distanceToEdge:n[i.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s})},P7=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,s=n.width>e.width;return!s&&!i?r:s&&i?null:{x:s?0:r.x,y:i?0:r.y}},C7=gD(function(t){return t===0?0:t}),qD=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,s=t.shouldUseTimeDampening,o={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},a=ox({container:n,distanceToEdges:o,dragStartTime:e,axis:r_,shouldUseTimeDampening:s}),l=ox({container:n,distanceToEdges:o,dragStartTime:e,axis:TD,shouldUseTimeDampening:s}),u=C7({x:l,y:a});if(ri(u,nt))return null;var c=P7({container:n,subject:r,proposedScroll:u});return c?ri(c,nt)?null:c:null},A7=gD(function(t){return t===0?0:t>0?1:-1}),f_=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,i=e.change,s=dt(n,i),o={x:t(s.x,r.x),y:t(s.y,r.y)};return ri(o,nt)?null:o}}(),KD=function(e){var n=e.max,r=e.current,i=e.change,s={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},o=A7(i),a=f_({max:s,current:r,change:o});return!a||o.x!==0&&a.x===0||o.y!==0&&a.y===0},p_=function(e,n){return KD({current:e.scroll.current,max:e.scroll.max,change:n})},R7=function(e,n){if(!p_(e,n))return null;var r=e.scroll.max,i=e.scroll.current;return f_({current:i,max:r,change:n})},m_=function(e,n){var r=e.frame;return r?KD({current:r.scroll.current,max:r.scroll.max,change:n}):!1},D7=function(e,n){var r=e.frame;return!r||!m_(e,n)?null:f_({current:r.scroll.current,max:r.scroll.max,change:n})},k7=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,s=t.shouldUseTimeDampening,o=qD({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:s});return o&&p_(e,o)?o:null},N7=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,s=t.shouldUseTimeDampening,o=e.frame;if(!o)return null;var a=qD({dragStartTime:i,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:s});return a&&m_(e,a)?a:null},ax=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,s=t.scrollDroppable,o=e.current.page.borderBoxCenter,a=e.dimensions.draggables[e.critical.draggable.id],l=a.page.marginBox;if(e.isWindowScrollAllowed){var u=e.viewport,c=k7({dragStartTime:n,viewport:u,subject:l,center:o,shouldUseTimeDampening:r});if(c){i(c);return}}var d=x7({center:o,destination:en(e.impact),droppables:e.dimensions.droppables});if(d){var h=N7({dragStartTime:n,droppable:d,subject:l,center:o,shouldUseTimeDampening:r});h&&s(d.descriptor.id,h)}},O7=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=Pl(e),i=Pl(n),s=null,o=function(c){s||D(!1);var d=s,h=d.shouldUseTimeDampening,f=d.dragStartTime;ax({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:f,shouldUseTimeDampening:h})},a=function(c){s&&D(!1);var d=Date.now(),h=!1,f=function(){h=!0};ax({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f}),s={dragStartTime:d,shouldUseTimeDampening:h},h&&o(c)},l=function(){s&&(r.cancel(),i.cancel(),s=null)};return{start:a,stop:l,scroll:o}},L7=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(u,c){var d=dt(u.current.client.selection,c);e({client:d})},s=function(u,c){if(!m_(u,c))return c;var d=D7(u,c);if(!d)return n(u.descriptor.id,c),null;var h=Jt(c,d);n(u.descriptor.id,h);var f=Jt(c,h);return f},o=function(u,c,d){if(!u||!p_(c,d))return d;var h=R7(c,d);if(!h)return r(d),null;var f=Jt(d,h);r(f);var m=Jt(d,f);return m},a=function(u){var c=u.scrollJumpRequest;if(c){var d=en(u.impact);d||D(!1);var h=s(u.dimensions.droppables[d],c);if(h){var f=u.viewport,m=o(u.isWindowScrollAllowed,f,h);m&&i(u,m)}}};return a},M7=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=O7({scrollWindow:n,scrollDroppable:e}),s=L7({move:r,scrollWindow:n,scrollDroppable:e}),o=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&s(u)}},a={scroll:o,start:i.start,stop:i.stop};return a},xo="data-rbd",So=function(){var t=xo+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),Wg=function(){var t=xo+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),V7=function(){var t=xo+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),lx={contextId:xo+"-scroll-container-context-id"},j7=function(e){return function(n){return"["+n+'="'+e+'"]'}},na=function(e,n){return e.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},F7="pointer-events: none;",B7=function(t){var e=j7(t),n=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(So.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:F7,dropAnimating:a}}}(),r=function(){var a=`
      transition: `+ja.outOfTheWay+`;
    `;return{selector:e(Wg.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),i={selector:e(V7.contextId),styles:{always:"overflow-anchor: none;"}},s={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[r,n,i,s];return{always:na(o,"always"),resting:na(o,"resting"),dragging:na(o,"dragging"),dropAnimating:na(o,"dropAnimating"),userCancel:na(o,"userCancel")}},tn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?T.useLayoutEffect:T.useEffect,Wp=function(){var e=document.querySelector("head");return e||D(!1),e},ux=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function U7(t,e){var n=le(function(){return B7(t)},[t]),r=T.useRef(null),i=T.useRef(null),s=W(et(function(d){var h=i.current;h||D(!1),h.textContent=d}),[]),o=W(function(d){var h=r.current;h||D(!1),h.textContent=d},[]);tn(function(){!r.current&&!i.current||D(!1);var d=ux(e),h=ux(e);return r.current=d,i.current=h,d.setAttribute(xo+"-always",t),h.setAttribute(xo+"-dynamic",t),Wp().appendChild(d),Wp().appendChild(h),o(n.always),s(n.resting),function(){var f=function(y){var w=y.current;w||D(!1),Wp().removeChild(w),y.current=null};f(r),f(i)}},[e,o,s,n.always,n.resting,t]);var a=W(function(){return s(n.dragging)},[s,n.dragging]),l=W(function(d){if(d==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),u=W(function(){i.current&&s(n.resting)},[s,n.resting]),c=le(function(){return{dragging:a,dropping:l,resting:u}},[a,l,u]);return c}var QD=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function vf(t){return t instanceof QD(t).HTMLElement}function $7(t,e){var n="["+So.contextId+'="'+t+'"]',r=vD(document.querySelectorAll(n));if(!r.length)return null;var i=Si(r,function(s){return s.getAttribute(So.draggableId)===e});return!i||!vf(i)?null:i}function z7(t){var e=T.useRef({}),n=T.useRef(null),r=T.useRef(null),i=T.useRef(!1),s=W(function(h,f){var m={id:h,focus:f};return e.current[h]=m,function(){var w=e.current,g=w[h];g!==m&&delete w[h]}},[]),o=W(function(h){var f=$7(t,h);f&&f!==document.activeElement&&f.focus()},[t]),a=W(function(h,f){n.current===h&&(n.current=f)},[]),l=W(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var h=n.current;h&&o(h)}))},[o]),u=W(function(h){n.current=null;var f=document.activeElement;f&&f.getAttribute(So.draggableId)===h&&(n.current=h)},[]);tn(function(){return i.current=!0,function(){i.current=!1;var h=r.current;h&&cancelAnimationFrame(h)}},[]);var c=le(function(){return{register:s,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}},[s,u,l,a]);return c}function W7(){var t={draggables:{},droppables:{}},e=[];function n(d){return e.push(d),function(){var f=e.indexOf(d);f!==-1&&e.splice(f,1)}}function r(d){e.length&&e.forEach(function(h){return h(d)})}function i(d){return t.draggables[d]||null}function s(d){var h=i(d);return h||D(!1),h}var o={register:function(h){t.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:function(h,f){var m=t.draggables[f.descriptor.id];m&&m.uniqueId===h.uniqueId&&(delete t.draggables[f.descriptor.id],t.draggables[h.descriptor.id]=h)},unregister:function(h){var f=h.descriptor.id,m=i(f);m&&h.uniqueId===m.uniqueId&&(delete t.draggables[f],r({type:"REMOVAL",value:h}))},getById:s,findById:i,exists:function(h){return!!i(h)},getAllByType:function(h){return Md(t.draggables).filter(function(f){return f.descriptor.type===h})}};function a(d){return t.droppables[d]||null}function l(d){var h=a(d);return h||D(!1),h}var u={register:function(h){t.droppables[h.descriptor.id]=h},unregister:function(h){var f=a(h.descriptor.id);f&&h.uniqueId===f.uniqueId&&delete t.droppables[h.descriptor.id]},getById:l,findById:a,exists:function(h){return!!a(h)},getAllByType:function(h){return Md(t.droppables).filter(function(f){return f.descriptor.type===h})}};function c(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:u,subscribe:n,clean:c}}function H7(){var t=le(W7,[]);return T.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var g_=te.createContext(null),jd=function(){var t=document.body;return t||D(!1),t},G7={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},q7=function(e){return"rbd-announcement-"+e};function K7(t){var e=le(function(){return q7(t)},[t]),n=T.useRef(null);T.useEffect(function(){var s=document.createElement("div");return n.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),G(s.style,G7),jd().appendChild(s),function(){setTimeout(function(){var l=jd();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[e]);var r=W(function(i){var s=n.current;if(s){s.textContent=i;return}},[]);return r}var Q7=0,Y7={separator:"::"};function v_(t,e){return e===void 0&&(e=Y7),le(function(){return""+t+e.separator+Q7++},[e.separator,t])}function X7(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function J7(t){var e=t.contextId,n=t.text,r=v_("hidden-text",{separator:"-"}),i=le(function(){return X7({contextId:e,uniqueId:r})},[r,e]);return T.useEffect(function(){var o=document.createElement("div");return o.id=i,o.textContent=n,o.style.display="none",jd().appendChild(o),function(){var l=jd();l.contains(o)&&l.removeChild(o)}},[i,n]),i}var yf=te.createContext(null);function YD(t){var e=T.useRef(t);return T.useEffect(function(){e.current=t}),e}function Z7(){var t=null;function e(){return!!t}function n(o){return o===t}function r(o){t&&D(!1);var a={abandon:o};return t=a,a}function i(){t||D(!1),t=null}function s(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:s}}var eG=9,tG=13,y_=27,XD=32,nG=33,rG=34,iG=35,sG=36,oG=37,aG=38,lG=39,uG=40,tc,cG=(tc={},tc[tG]=!0,tc[eG]=!0,tc),JD=function(t){cG[t.keyCode]&&t.preventDefault()},_f=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=Si(e,function(r){return"on"+r in document});return n||t}(),ZD=0,cx=5;function dG(t,e){return Math.abs(e.x-t.x)>=cx||Math.abs(e.y-t.y)>=cx}var dx={type:"IDLE"};function hG(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(o){var a=o.button,l=o.clientX,u=o.clientY;if(a===ZD){var c={x:l,y:u},d=r();if(d.type==="DRAGGING"){o.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&D(!1);var h=d.point;if(dG(h,c)){o.preventDefault();var f=d.actions.fluidLift(c);i({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(o){var a=r();if(a.type!=="DRAGGING"){e();return}o.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(o){r().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:function(o){var a=r();if(a.type==="PENDING"){e();return}if(o.keyCode===y_){o.preventDefault(),e();return}JD(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(o){var a=r();if(a.type==="IDLE"&&D(!1),a.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:_f,fn:e}]}function fG(t){var e=T.useRef(dx),n=T.useRef(ni),r=le(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===ZD&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var h=t.findClosestDraggableId(d);if(h){var f=t.tryGetLock(h,o,{sourceEvent:d});if(f){d.preventDefault();var m={x:d.clientX,y:d.clientY};n.current(),u(f,m)}}}}}},[t]),i=le(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var h=t.findClosestDraggableId(d);if(h){var f=t.findOptionsForDraggable(h);f&&(f.shouldRespectForcePress||t.canGetLock(h)&&d.preventDefault())}}}}},[t]),s=W(function(){var d={passive:!1,capture:!0};n.current=gn(window,[i,r],d)},[i,r]),o=W(function(){var c=e.current;c.type!=="IDLE"&&(e.current=dx,n.current(),s())},[s]),a=W(function(){var c=e.current;o(),c.type==="DRAGGING"&&c.actions.cancel({shouldBlockNextClick:!0}),c.type==="PENDING"&&c.actions.abort()},[o]),l=W(function(){var d={capture:!0,passive:!1},h=hG({cancel:a,completed:o,getPhase:function(){return e.current},setPhase:function(m){e.current=m}});n.current=gn(window,h,d)},[a,o]),u=W(function(d,h){e.current.type!=="IDLE"&&D(!1),e.current={type:"PENDING",point:h,actions:d},l()},[l]);tn(function(){return s(),function(){n.current()}},[s])}var Is;function pG(){}var mG=(Is={},Is[rG]=!0,Is[nG]=!0,Is[sG]=!0,Is[iG]=!0,Is);function gG(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(s){if(s.keyCode===y_){s.preventDefault(),n();return}if(s.keyCode===XD){s.preventDefault(),r();return}if(s.keyCode===uG){s.preventDefault(),t.moveDown();return}if(s.keyCode===aG){s.preventDefault(),t.moveUp();return}if(s.keyCode===lG){s.preventDefault(),t.moveRight();return}if(s.keyCode===oG){s.preventDefault(),t.moveLeft();return}if(mG[s.keyCode]){s.preventDefault();return}JD(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:_f,fn:n}]}function vG(t){var e=T.useRef(pG),n=le(function(){return{eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==XD)return;var o=t.findClosestDraggableId(s);if(!o)return;var a=t.tryGetLock(o,c,{sourceEvent:s});if(!a)return;s.preventDefault();var l=!0,u=a.snapLift();e.current();function c(){l||D(!1),l=!1,e.current(),r()}e.current=gn(window,gG(u,c),{capture:!0,passive:!1})}}},[t]),r=W(function(){var s={passive:!1,capture:!0};e.current=gn(window,[n],s)},[n]);tn(function(){return r(),function(){e.current()}},[r])}var Hp={type:"IDLE"},yG=120,_G=.15;function wG(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.keyCode===y_&&i.preventDefault(),e()}},{eventName:_f,fn:e}]}function EG(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(s){var o=r();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;var a=s.touches[0],l=a.clientX,u=a.clientY,c={x:l,y:u};s.preventDefault(),o.actions.move(c)}},{eventName:"touchend",fn:function(s){var o=r();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(s){if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(s){var o=r();o.type==="IDLE"&&D(!1);var a=s.touches[0];if(a){var l=a.force>=_G;if(l){var u=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){u&&e();return}if(u){if(o.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}}}},{eventName:_f,fn:e}]}function TG(t){var e=T.useRef(Hp),n=T.useRef(ni),r=W(function(){return e.current},[]),i=W(function(f){e.current=f},[]),s=le(function(){return{eventName:"touchstart",fn:function(f){if(!f.defaultPrevented){var m=t.findClosestDraggableId(f);if(m){var y=t.tryGetLock(m,a,{sourceEvent:f});if(y){var w=f.touches[0],g=w.clientX,v=w.clientY,_={x:g,y:v};n.current(),d(y,_)}}}}}},[t]),o=W(function(){var f={capture:!0,passive:!1};n.current=gn(window,[s],f)},[s]),a=W(function(){var h=e.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),i(Hp),n.current(),o())},[o,i]),l=W(function(){var h=e.current;a(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[a]),u=W(function(){var f={capture:!0,passive:!1},m={cancel:l,completed:a,getPhase:r},y=gn(window,EG(m),f),w=gn(window,wG(m),f);n.current=function(){y(),w()}},[l,r,a]),c=W(function(){var f=r();f.type!=="PENDING"&&D(!1);var m=f.actions.fluidLift(f.point);i({type:"DRAGGING",actions:m,hasMoved:!1})},[r,i]),d=W(function(f,m){r().type!=="IDLE"&&D(!1);var y=setTimeout(c,yG);i({type:"PENDING",point:m,actions:f,longPressTimerId:y}),u()},[u,r,i,c]);tn(function(){return o(),function(){n.current();var m=r();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),i(Hp))}},[r,o,i]),tn(function(){var f=gn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return f},[])}var xG={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function ek(t,e){if(e==null)return!1;var n=!!xG[e.tagName.toLowerCase()];if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:ek(t,e.parentElement)}function SG(t,e){var n=e.target;return vf(n)?ek(t,n):!1}var IG=function(t){return Cn(t.getBoundingClientRect()).center};function bG(t){return t instanceof QD(t).Element}var PG=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=Si(e,function(r){return r in Element.prototype});return n||t}();function tk(t,e){return t==null?null:t[PG](e)?t:tk(t.parentElement,e)}function CG(t,e){return t.closest?t.closest(e):tk(t,e)}function AG(t){return"["+So.contextId+'="'+t+'"]'}function RG(t,e){var n=e.target;if(!bG(n))return null;var r=AG(t),i=CG(n,r);return!i||!vf(i)?null:i}function DG(t,e){var n=RG(t,e);return n?n.getAttribute(So.draggableId):null}function kG(t,e){var n="["+Wg.contextId+'="'+t+'"]',r=vD(document.querySelectorAll(n)),i=Si(r,function(s){return s.getAttribute(Wg.id)===e});return!i||!vf(i)?null:i}function NG(t){t.preventDefault()}function nc(t){var e=t.expected,n=t.phase,r=t.isLockActive;return t.shouldWarn,!(!r()||e!==n)}function nk(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var s=r.draggable.findById(i);return!(!s||!s.options.isEnabled||!HD(n.getState(),i))}function OG(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,s=t.draggableId,o=t.forceSensorStop,a=t.sourceEvent,l=nk({lockAPI:e,store:r,registry:i,draggableId:s});if(!l)return null;var u=i.draggable.getById(s),c=kG(n,u.descriptor.id);if(!c||a&&!u.options.canDragInteractiveElements&&SG(c,a))return null;var d=e.claim(o||ni),h="PRE_DRAG";function f(){return u.options.shouldRespectForcePress}function m(){return e.isActive(d)}function y(S,P){nc({expected:S,phase:h,isLockActive:m,shouldWarn:!0})&&r.dispatch(P())}var w=y.bind(null,"DRAGGING");function g(S){function P(){e.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(P(),h!=="PRE_DRAG"&&D(!1)),r.dispatch(PH(S.liftActionArgs)),h="DRAGGING";function I(k,N){if(N===void 0&&(N={shouldBlockNextClick:!1}),S.cleanup(),N.shouldBlockNextClick){var F=gn(window,[{eventName:"click",fn:NG,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(F)}P(),r.dispatch(jD({reason:k}))}return G({isActive:function(){return nc({expected:"DRAGGING",phase:h,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(N){return I("DROP",N)},cancel:function(N){return I("CANCEL",N)}},S.actions)}function v(S){var P=Pl(function(k){w(function(){return VD({client:k})})}),I=g({liftActionArgs:{id:s,clientSelection:S,movementMode:"FLUID"},cleanup:function(){return P.cancel()},actions:{move:P}});return G({},I,{move:P})}function _(){var S={moveUp:function(){return w(MH)},moveRight:function(){return w(jH)},moveDown:function(){return w(VH)},moveLeft:function(){return w(FH)}};return g({liftActionArgs:{id:s,clientSelection:IG(c),movementMode:"SNAP"},cleanup:ni,actions:S})}function E(){var S=nc({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!0});S&&e.release()}var x={isActive:function(){return nc({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:v,snapLift:_,abort:E};return x}var LG=[fG,vG,TG];function MG(t){var e=t.contextId,n=t.store,r=t.registry,i=t.customSensors,s=t.enableDefaultSensors,o=[].concat(s?LG:[],i||[]),a=T.useState(function(){return Z7()})[0],l=W(function(v,_){v.isDragging&&!_.isDragging&&a.tryAbandon()},[a]);tn(function(){var v=n.getState(),_=n.subscribe(function(){var E=n.getState();l(v,E),v=E});return _},[a,n,l]),tn(function(){return a.tryAbandon},[a.tryAbandon]);for(var u=W(function(g){return nk({lockAPI:a,registry:r,store:n,draggableId:g})},[a,r,n]),c=W(function(g,v,_){return OG({lockAPI:a,registry:r,contextId:e,store:n,draggableId:g,forceSensorStop:v,sourceEvent:_&&_.sourceEvent?_.sourceEvent:null})},[e,a,r,n]),d=W(function(g){return DG(e,g)},[e]),h=W(function(g){var v=r.draggable.findById(g);return v?v.options:null},[r.draggable]),f=W(function(){a.isClaimed()&&(a.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(l_()))},[a,n]),m=W(a.isClaimed,[a]),y=le(function(){return{canGetLock:u,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:h,tryReleaseLock:f,isLockClaimed:m}},[u,c,d,h,f,m]),w=0;w<o.length;w++)o[w](y)}var VG=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function ra(t){return t.current||D(!1),t.current}function jG(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,i=t.nonce,s=t.dragHandleUsageInstructions,o=T.useRef(null),a=YD(t),l=W(function(){return VG(a.current)},[a]),u=K7(e),c=J7({contextId:e,text:s}),d=U7(e,i),h=W(function(k){ra(o).dispatch(k)},[]),f=le(function(){return OT({publishWhileDragging:AH,updateDroppableScroll:DH,updateDroppableIsEnabled:kH,updateDroppableIsCombineEnabled:NH,collectionStarting:RH},h)},[h]),m=H7(),y=le(function(){return _7(m,f)},[m,f]),w=le(function(){return M7(G({scrollWindow:w7,scrollDroppable:y.scrollDroppable},OT({move:VD},h)))},[y.scrollDroppable,h]),g=z7(e),v=le(function(){return m7({announce:u,autoScroller:w,dimensionMarshal:y,focusMarshal:g,getResponders:l,styleMarshal:d})},[u,w,y,g,l,d]);o.current=v;var _=W(function(){var k=ra(o),N=k.getState();N.phase!=="IDLE"&&k.dispatch(l_())},[]),E=W(function(){var k=ra(o).getState();return k.isDragging||k.phase==="DROP_ANIMATING"},[]),x=le(function(){return{isDragging:E,tryAbort:_}},[E,_]);n(x);var S=W(function(k){return HD(ra(o).getState(),k)},[]),P=W(function(){return ki(ra(o).getState())},[]),I=le(function(){return{marshal:y,focus:g,contextId:e,canLift:S,isMovementAllowed:P,dragHandleUsageInstructionsId:c,registry:m}},[e,y,c,g,S,P,m]);return MG({contextId:e,store:v,registry:m,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),T.useEffect(function(){return _},[_]),te.createElement(yf.Provider,{value:I},te.createElement(oW,{context:g_,store:v},t.children))}var FG=0;function BG(){return le(function(){return""+FG++},[])}function UG(t){var e=BG(),n=t.dragHandleUsageInstructions||Pc.dragHandleUsageInstructions;return te.createElement(v8,null,function(r){return te.createElement(jG,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var rk=function(e){return function(n){return e===n}},$G=rk("scroll"),zG=rk("auto"),hx=function(e,n){return n(e.overflowX)||n(e.overflowY)},WG=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return hx(r,$G)||hx(r,zG)},HG=function(){return!1},GG=function t(e){return e==null?null:e===document.body?HG()?e:null:e===document.documentElement?null:WG(e)?e:t(e.parentElement)},Hg=function(t){return{x:t.scrollLeft,y:t.scrollTop}},qG=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},KG=function(t){var e=GG(t),n=qG(t);return{closestScrollable:e,isFixedOnPage:n}},QG=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,s=t.direction,o=t.client,a=t.page,l=t.closest,u=function(){if(!l)return null;var f=l.scrollSize,m=l.client,y=$D({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:m,scrollSize:f,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:y,diff:{value:nt,displacement:nt}}}}(),c=s==="vertical"?r_:TD,d=To({page:a,withPlaceholder:null,axis:c,frame:u}),h={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:c,isEnabled:n,client:o,page:a,frame:u,subject:d};return h},YG=function(e,n){var r=hD(e);if(!n||e!==n)return r;var i=r.paddingBox.top-n.scrollTop,s=r.paddingBox.left-n.scrollLeft,o=i+n.scrollHeight,a=s+n.scrollWidth,l={top:i,right:a,bottom:o,left:s},u=J0(l,r.border),c=Z0({borderBox:u,margin:r.margin,border:r.border,padding:r.padding});return c},XG=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,s=t.direction,o=t.isDropDisabled,a=t.isCombineEnabled,l=t.shouldClipSubject,u=r.closestScrollable,c=YG(e,u),d=Nd(c,i),h=function(){if(!u)return null;var m=hD(u),y={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:m,page:Nd(m,i),scroll:Hg(u),scrollSize:y,shouldClipSubject:l}}(),f=QG({descriptor:n,isEnabled:!o,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:s,client:c,page:d,closest:h});return f},JG={passive:!1},ZG={passive:!0},fx=function(t){return t.shouldPublishImmediately?JG:ZG};function Fd(t){var e=T.useContext(t);return e||D(!1),e}var rc=function(e){return e&&e.env.closestScrollable||null};function eq(t){var e=T.useRef(null),n=Fd(yf),r=v_("droppable"),i=n.registry,s=n.marshal,o=YD(t),a=le(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),l=T.useRef(a),u=le(function(){return et(function(E,x){e.current||D(!1);var S={x:E,y:x};s.updateDroppableScroll(a.id,S)})},[a.id,s]),c=W(function(){var E=e.current;return!E||!E.env.closestScrollable?nt:Hg(E.env.closestScrollable)},[]),d=W(function(){var E=c();u(E.x,E.y)},[c,u]),h=le(function(){return Pl(d)},[d]),f=W(function(){var E=e.current,x=rc(E);E&&x||D(!1);var S=E.scrollOptions;if(S.shouldPublishImmediately){d();return}h()},[h,d]),m=W(function(E,x){e.current&&D(!1);var S=o.current,P=S.getDroppableRef();P||D(!1);var I=KG(P),k={ref:P,descriptor:a,env:I,scrollOptions:x};e.current=k;var N=XG({ref:P,descriptor:a,env:I,windowScroll:E,direction:S.direction,isDropDisabled:S.isDropDisabled,isCombineEnabled:S.isCombineEnabled,shouldClipSubject:!S.ignoreContainerClipping}),F=I.closestScrollable;return F&&(F.setAttribute(lx.contextId,n.contextId),F.addEventListener("scroll",f,fx(k.scrollOptions))),N},[n.contextId,a,f,o]),y=W(function(){var E=e.current,x=rc(E);return E&&x||D(!1),Hg(x)},[]),w=W(function(){var E=e.current;E||D(!1);var x=rc(E);e.current=null,x&&(h.cancel(),x.removeAttribute(lx.contextId),x.removeEventListener("scroll",f,fx(E.scrollOptions)))},[f,h]),g=W(function(E){var x=e.current;x||D(!1);var S=rc(x);S||D(!1),S.scrollTop+=E.y,S.scrollLeft+=E.x},[]),v=le(function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:y,dragStopped:w,scroll:g}},[w,m,y,g]),_=le(function(){return{uniqueId:r,descriptor:a,callbacks:v}},[v,a,r]);tn(function(){return l.current=_.descriptor,i.droppable.register(_),function(){e.current&&w(),i.droppable.unregister(_)}},[v,a,w,_,s,i.droppable]),tn(function(){e.current&&s.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),tn(function(){e.current&&s.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function Gp(){}var px={width:0,height:0,margin:x8},tq=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return n||i==="close"?px:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},nq=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,s=tq({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?ja.placeholder:null}};function rq(t){var e=T.useRef(null),n=W(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=t.animate,i=t.onTransitionEnd,s=t.onClose,o=t.contextId,a=T.useState(t.animate==="open"),l=a[0],u=a[1];T.useEffect(function(){return l?r!=="open"?(n(),u(!1),Gp):e.current?Gp:(e.current=setTimeout(function(){e.current=null,u(!1)}),n):Gp},[r,l,n]);var c=W(function(h){h.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),d=nq({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return te.createElement(t.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":o,onTransitionEnd:c,ref:t.innerRef})}var iq=te.memo(rq),__=te.createContext(null),sq=function(t){HR(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,s){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:s.isVisible?{isVisible:!0,data:s.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(te.PureComponent),mx={dragging:5e3,dropAnimating:4500},oq=function(e,n){return n?ja.drop(n.duration):e?ja.snap:ja.fluid},aq=function(e,n){return e?n?Dl.opacity.drop:Dl.opacity.combining:null},lq=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function uq(t){var e=t.dimension,n=e.client,r=t.offset,i=t.combineWith,s=t.dropping,o=!!i,a=lq(t),l=!!s,u=l?$g.drop(r,o):$g.moveTo(r),c={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:oq(a,s),transform:u,opacity:aq(o,l),zIndex:l?mx.dropAnimating:mx.dragging,pointerEvents:"none"};return c}function cq(t){return{transform:$g.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function dq(t){return t.type==="DRAGGING"?uq(t):cq(t)}function hq(t,e,n){n===void 0&&(n=nt);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=dD(i,r),o=Nd(s,n),a={client:s,tagName:e.tagName.toLowerCase(),display:r.display},l={x:s.marginBox.width,y:s.marginBox.height},u={descriptor:t,placeholder:a,displaceBy:l,client:s,page:o};return u}function fq(t){var e=v_("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,s=t.canDragInteractiveElements,o=t.shouldRespectForcePress,a=t.isEnabled,l=le(function(){return{canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}},[s,a,o]),u=W(function(f){var m=i();return m||D(!1),hq(n,m,f)},[n,i]),c=le(function(){return{uniqueId:e,descriptor:n,options:l,getDimension:u}},[n,u,l,e]),d=T.useRef(c),h=T.useRef(!0);tn(function(){return r.draggable.register(d.current),function(){return r.draggable.unregister(d.current)}},[r.draggable]),tn(function(){if(h.current){h.current=!1;return}var f=d.current;d.current=c,r.draggable.update(c,f)},[c,r.draggable])}function pq(t){t.preventDefault()}function mq(t){var e=T.useRef(null),n=W(function(k){e.current=k},[]),r=W(function(){return e.current},[]),i=Fd(yf),s=i.contextId,o=i.dragHandleUsageInstructionsId,a=i.registry,l=Fd(__),u=l.type,c=l.droppableId,d=le(function(){return{id:t.draggableId,index:t.index,type:u,droppableId:c}},[t.draggableId,t.index,u,c]),h=t.children,f=t.draggableId,m=t.isEnabled,y=t.shouldRespectForcePress,w=t.canDragInteractiveElements,g=t.isClone,v=t.mapped,_=t.dropAnimationFinished;if(!g){var E=le(function(){return{descriptor:d,registry:a,getDraggableRef:r,canDragInteractiveElements:w,shouldRespectForcePress:y,isEnabled:m}},[d,a,r,w,y,m]);fq(E)}var x=le(function(){return m?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:pq}:null},[s,o,f,m]),S=W(function(k){v.type==="DRAGGING"&&v.dropping&&k.propertyName==="transform"&&_()},[_,v]),P=le(function(){var k=dq(v),N=v.type==="DRAGGING"&&v.dropping?S:null,F={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":f,style:k,onTransitionEnd:N},dragHandleProps:x};return F},[s,x,f,v,S,n]),I=le(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return h(P,v.snapshot,I)}var ik=function(t,e){return t===e},sk=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},gq=function(e){return e.combine?e.combine.draggableId:null},vq=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function yq(){var t=et(function(i,s){return{x:i,y:s}}),e=et(function(i,s,o,a,l){return{isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null}}),n=et(function(i,s,o,a,l,u,c){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:s,offset:i,dimension:o,forceShouldAnimate:c,snapshot:e(s,a,l,u,null)}}}),r=function(s,o){if(s.isDragging){if(s.critical.draggable.id!==o.draggableId)return null;var a=s.current.client.offset,l=s.dimensions.draggables[o.draggableId],u=en(s.impact),c=vq(s.impact),d=s.forceShouldAnimate;return n(t(a.x,a.y),s.movementMode,l,o.isClone,u,c,d)}if(s.phase==="DROP_ANIMATING"){var h=s.completed;if(h.result.draggableId!==o.draggableId)return null;var f=o.isClone,m=s.dimensions.draggables[o.draggableId],y=h.result,w=y.mode,g=sk(y),v=gq(y),_=s.dropDuration,E={duration:_,curve:c_.drop,moveTo:s.newHomeClientOffset,opacity:v?Dl.opacity.drop:null,scale:v?Dl.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:m,dropping:E,draggingOver:g,combineWith:v,mode:w,forceShouldAnimate:null,snapshot:e(w,f,g,v,E)}}}return null};return r}function ok(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var _q={mapped:{type:"SECONDARY",offset:nt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ok(null)}};function wq(){var t=et(function(o,a){return{x:o,y:a}}),e=et(ok),n=et(function(o,a,l){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}}}),r=function(a){return a?n(nt,a,!0):null},i=function(a,l,u,c){var d=u.displaced.visible[a],h=!!(c.inVirtualList&&c.effected[a]),f=pf(u),m=f&&f.draggableId===a?l:null;if(!d){if(!h)return r(m);if(u.displaced.invisible[a])return null;var y=jo(c.displacedBy.point),w=t(y.x,y.y);return n(w,m,!0)}if(h)return r(m);var g=u.displacedBy.point,v=t(g.x,g.y);return n(v,m,d.shouldAnimate)},s=function(a,l){if(a.isDragging)return a.critical.draggable.id===l.draggableId?null:i(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var u=a.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return s}var Eq=function(){var e=yq(),n=wq(),r=function(s,o){return e(s,o)||n(s,o)||_q};return r},Tq={dropAnimationFinished:FD},xq=uD(Eq,Tq,null,{context:g_,pure:!0,areStatePropsEqual:ik})(mq);function ak(t){var e=Fd(__),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:te.createElement(xq,t)}function Sq(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return te.createElement(ak,G({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function Iq(t){var e=T.useContext(yf);e||D(!1);var n=e.contextId,r=e.isMovementAllowed,i=T.useRef(null),s=T.useRef(null),o=t.children,a=t.droppableId,l=t.type,u=t.mode,c=t.direction,d=t.ignoreContainerClipping,h=t.isDropDisabled,f=t.isCombineEnabled,m=t.snapshot,y=t.useClone,w=t.updateViewportMaxScroll,g=t.getContainerForClone,v=W(function(){return i.current},[]),_=W(function(F){i.current=F},[]);W(function(){return s.current},[]);var E=W(function(F){s.current=F},[]),x=W(function(){r()&&w({maxScroll:WD()})},[r,w]);eq({droppableId:a,type:l,mode:u,direction:c,isDropDisabled:h,isCombineEnabled:f,ignoreContainerClipping:d,getDroppableRef:v});var S=te.createElement(sq,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(F){var Z=F.onClose,oe=F.data,ae=F.animate;return te.createElement(iq,{placeholder:oe,onClose:Z,innerRef:E,animate:ae,contextId:n,onTransitionEnd:x})}),P=le(function(){return{innerRef:_,placeholder:S,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":n}}},[n,a,S,_]),I=y?y.dragging.draggableId:null,k=le(function(){return{droppableId:a,type:l,isUsingCloneFor:I}},[a,I,l]);function N(){if(!y)return null;var F=y.dragging,Z=y.render,oe=te.createElement(ak,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(ae,ce){return Z(ae,ce,F)});return MO.createPortal(oe,g())}return te.createElement(__.Provider,{value:k},o(P,m),N())}var qp=function(e,n){return e===n.droppable.type},gx=function(e,n){return n.draggables[e.draggable.id]},bq=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=G({},e,{shouldAnimatePlaceholder:!1}),r=et(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),i=et(function(o,a,l,u,c,d){var h=c.descriptor.id,f=c.descriptor.droppableId===o;if(f){var m=d?{render:d,dragging:r(c.descriptor)}:null,y={isDraggingOver:l,draggingOverWith:l?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:m}}if(!a)return n;if(!u)return e;var w={isDraggingOver:l,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:w,useClone:null}}),s=function(a,l){var u=l.droppableId,c=l.type,d=!l.isDropDisabled,h=l.renderClone;if(a.isDragging){var f=a.critical;if(!qp(c,f))return n;var m=gx(f,a.dimensions),y=en(a.impact)===u;return i(u,d,y,y,m,h)}if(a.phase==="DROP_ANIMATING"){var w=a.completed;if(!qp(c,w.critical))return n;var g=gx(w.critical,a.dimensions);return i(u,d,sk(w.result)===u,en(w.impact)===u,g,h)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var v=a.completed;if(!qp(c,v.critical))return n;var _=en(v.impact)===u,E=!!(v.impact.at&&v.impact.at.type==="COMBINE"),x=v.critical.droppable.id===u;return _?E?e:n:x?e:n}return n};return s},Pq={updateViewportMaxScroll:LH};function Cq(){return document.body||D(!1),document.body}var Aq={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Cq},lk=uD(bq,Pq,null,{context:g_,pure:!0,areStatePropsEqual:ik})(Iq);lk.defaultProps=Aq;function Rq(t){const{catalog:e,updateCatalog:n,addImageToCatalog:r,deleteImageFromCatalog:i}=Ke();let s=t.selected?Number(t.selected.substring(0,1)):0;const[o,a]=T.useState(0),l=T.useRef();let u=!1;T.useEffect(()=>{e.map((d,h)=>{d.id===s&&a(h)}),u=!0},[t.selected]),T.useEffect(()=>{u||(s=e[o].id)},[e]);function c(d){if(!d.destination)return;const h=Array.from(e[o].images),[f]=h.splice(d.source.index,1);h.splice(d.destination.index,0,f),e[o].images=h,n(s,e[o])}return p.jsx("div",{className:"mt-8 flex justify-center",children:e[0].description!=="testingXYZ"&&p.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl border-4 border-gray-200",children:[p.jsx("p",{className:"headline mt-4 font-bold",children:"Images Editor"}),p.jsxs("div",{className:"mt-2 flex items-center justify-center p-5",children:[p.jsx(UG,{onDragEnd:c,children:p.jsx(lk,{droppableId:"images",direction:"vertical",children:d=>p.jsxs("ul",{className:"justify-content flex max-w-[500px] flex-col ",...d.droppableProps,ref:d.innerRef,children:[e[o].images&&e[o].images.map(({id:h,url:f},m)=>p.jsx(Sq,{draggableId:String(h),index:m,children:y=>p.jsx("li",{className:"mx-3",ref:y.innerRef,...y.draggableProps,...y.dragHandleProps,children:p.jsxs("div",{className:"flex w-[300px] items-center justify-center rounded-xl border-2 border-blue-400 bg-white  p-2 text-center align-middle",children:[p.jsx("img",{className:"mr-2 h-16",src:f}),p.jsx("p",{className:"mr-2 text-center",children:h}),p.jsx("button",{className:"border-2 border-blue-400",onClick:()=>{i(s,h)},children:"delete"})]})},h)},h)),d.placeholder]})})}),p.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl  border-2 border-gray-200  p-2 text-center align-middle",children:[p.jsx("input",{className:"w-64 items-center justify-center ",type:"file",onChange:d=>{l.current=d.target.files[0]}}),p.jsx("button",{className:"border-2",onClick:()=>{l.current!==void 0&&r(s,l.current)},children:"Add"})]})]})]})})}function Dq(){const{profile:t,catalog:e}=Ke(),[n,r]=T.useState([{id:"bagr",surname:"false",products:[{id:"",quantity:5},{id:"",quantity:5}]}]),[i,s]=T.useState([{productId:"1",images:[{}]}]);return T.useEffect(()=>{o();async function o(){const u=(await jn(Bt(be,"orders"))).docs.map(d=>({...d.data()})).filter(d=>d.uid===t.uid);r(u);let c=[];u.map(d=>{d.products.map(h=>{e.map(f=>{f.id===h.id&&c.push({...f,quantity:h.quantity})})}),s(c),console.log(c)})}},[]),p.jsx("div",{className:"mt-8 flex justify-center",children:p.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-xl border-4 p-8",children:[p.jsx("p",{className:"headline font-bold",children:"Orders"}),p.jsx("div",{className:"mt-4 flex flex-col items-center",children:n.map((o,a)=>p.jsxs("div",{className:"flex items-center justify-center gap-2 rounded-lg border-2 border-brand-blue p-2",children:[p.jsxs("div",{className:"flex flex-col items-center justify-center",children:[p.jsx("p",{className:"headline__small",children:"Contact"}),p.jsx("p",{className:"h-1 w-64 border-2"}),p.jsx("p",{children:o.forename+" "+o.surname}),p.jsx("p",{children:o.uid})]}),i.map((l,u)=>p.jsxs("div",{className:"flex flex-col items-center justify-center",children:[p.jsxs("p",{children:["id: ",l.id]}),p.jsxs("p",{children:["quantity: ",l.quantity]}),p.jsxs("p",{children:["price: ",l.price*l.quantity]}),p.jsx("img",{className:"h-16",src:l.images[0].url})]},u)),p.jsxs("p",{children:["final price: ",i.reduce((l,u)=>l+u.price*u.quantity,0)]}),p.jsxs("div",{className:"flex flex-col items-center justify-center",children:[p.jsx("p",{className:"font-bold "+(o.state==="success"?"text-green-500":"text-red-600"),children:o.state}),p.jsx("p",{children:"Payment id:"})]})]},a))})]})})}function kq(){const{profile:t}=Ke(),e=t.editor,n=Ke().updateProfile,r=localStorage.getItem("uid")!=="x"&&localStorage.getItem("uid")!==""&&localStorage.getItem("uid")!==null,[i,s]=T.useState(""),[o,a]=T.useState("");return p.jsxs("div",{children:[p.jsxs("p",{children:["Editor ",e.toString()]}),!e&&p.jsx("input",{value:i,className:"rounded-md border-2 bg-gray-100",onChange:l=>(s(l.target.value),l.target.value==="tm"?(s(""),r?n("editor",!0):null):null),type:"text"}),e&&p.jsxs("div",{className:"flex flex-col",children:[p.jsx("div",{children:p.jsx("button",{className:"mt-5 rounded-xl bg-sky-700 px-4 py-2 text-white hover:bg-sky-800 sm:px-8 sm:py-3",onClick:()=>n("editor",!1),children:"Disable Editor Mode"})}),p.jsx(Yz,{className:"mb-5",setSelected:l=>a(l),selected:o}),p.jsx(Rq,{selected:o}),p.jsx(Dq,{})]})]})}function Nq(){const[t,e]=T.useState({}),n=vA();T.useEffect(()=>{let s=JSON.parse(localStorage.getItem("delivery"))||{kind:0};e(s)},[]);function r(s){e(o=>({...o,[s.target.name]:s.target.value}))}function i(s){e(o=>({kind:s}))}return T.useEffect(()=>{localStorage.setItem("delivery",JSON.stringify(t))},[t]),p.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[p.jsxs("p",{className:"headline__big relative mt-6",children:[p.jsx("a",{className:"absolute left-[-40px] top-[-5px]",href:"http://localhost:5173/cart",children:p.jsx($v,{size:30,className:"font-bold"})}),"Kam to máme poslat?"]}),p.jsxs("div",{className:"mt-4 flex rounded-xl border-2",children:[p.jsx("button",{className:(t.kind===0&&"rounded-xl border-2 border-brand-blue duration-200")+" button mr-4 w-32 p-4",onClick:()=>i(0),children:"Zásilkovna"}),p.jsx("div",{className:"mr-4 h-16 w-[2px] rounded border-2"}),p.jsx("button",{className:(t.kind===1&&"rounded-xl border-2 border-brand-blue duration-200")+" button w-32 p-4",onClick:()=>i(1),children:"Česká pošta"})]}),t.kind===0&&p.jsxs("div",{className:"mt-8 flex flex-col items-center justify-center rounded-xl border-2 p-6",children:[p.jsx("p",{children:"Momentálně funguje doručení přes zásilkovnu následovně:"}),p.jsx("div",{className:"flex flex-col items-center justify-center p-4",children:p.jsxs("div",{className:"mt-8 flex gap-4",children:[p.jsx("p",{className:"mr-4 text-4xl font-bold",children:"1"}),p.jsx("p",{className:"mr-2 text-3xl",children:"Přejdete na stránku Zásilkovny"}),p.jsx("a",{className:"flex items-center",target:"_blank",href:"https://www.zasilkovna.cz/pobocky",children:p.jsx("p",{className:"text-2xl font-bold text-red-600 underline",children:"ZDE"})})]})}),p.jsxs("div",{className:"flex flex-col justify-center rounded-xl p-4",children:[p.jsxs("div",{className:"mt-8 flex gap-4",children:[p.jsx("p",{className:"mr-4 text-4xl font-bold",children:"2"}),p.jsx("p",{className:"mr-2 text-3xl",children:"Vyberete si prodejnu a zkopírujete adresu"})]}),p.jsx("img",{className:"mt-4 max-h-[155px] object-contain",src:"packeta_2.png"})]}),p.jsxs("div",{className:"flex flex-col justify-center rounded-xl  p-4",children:[p.jsxs("div",{className:"relative mt-8 flex gap-4",children:[p.jsx("p",{className:"mr-4 text-4xl font-bold",children:"3"}),p.jsx("p",{className:" mr-2 text-3xl",children:"Vložte ji sem"}),p.jsxs("p",{className:"absolute right-[-75px] top-0 text-8xl font-bold text-green-500 ",children:[":",")"]})]}),p.jsx("input",{placeholder:"Žďár nad Sázavou, nám. Republiky 2631/12 (Traficon-Iqos)",name:"shopAdress",onChange:r,value:t.shopAdress,className:"input__small mt-6 w-[450px]"})]}),p.jsx("button",{className:"button__normal button__submit mt-10",onClick:()=>n("/payment-details"),children:"Pokračovat"})]}),t.kind===1&&p.jsxs("div",{className:"mt-8 flex flex-col items-center justify-center rounded-xl border-2 p-6",children:[p.jsxs("div",{children:[p.jsx("p",{className:"mr-4",children:"Ulice"}),p.jsx("input",{className:"input__normal input",type:"text",name:"street",value:t.street,onChange:r})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("p",{className:"mr-4",children:"Město"}),p.jsx("input",{className:"input__normal input",type:"text",name:"town",value:t.town,onChange:r})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("p",{className:"mr-4",children:"PSČ"}),p.jsx("input",{className:"input__normal input",type:"text",name:"psc",value:t.psc,onChange:r})]}),p.jsx("button",{className:"button__normal button__submit mt-10",onClick:()=>n("/payment-details"),children:"Pokračovat"})]})]})}function Oq(t){Ke();let{id:e,name:n,price:r,images:i,quantity:s}=t.data;return localStorage.getItem("uid")!=="x"&&localStorage.getItem("uid")!==""&&localStorage.getItem("uid"),p.jsx("div",{children:p.jsxs("div",{className:"flex items-center justify-between rounded-lg border-2 px-8 py-4",children:[p.jsxs("div",{className:"mr-8 flex items-center",children:[p.jsx("img",{className:"mr-3 h-16 pr-3",src:i[0].url}),p.jsx("p",{className:" text-xl font-bold",children:n})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsxs("p",{className:"mr-3",children:[s," ",s===0?"kusů":s===1?"kus":s<5?"kusy":"kusů"]}),p.jsxs("p",{className:" mr-8 text-nowrap text-lg",children:[r," Kč"]}),p.jsxs("p",{className:"w-16 text-nowrap text-xl font-bold",children:[r*s," Kč"]})]})]})})}function Lq(){const[t,e]=T.useState([]);let{addToCart:n,profile:r,catalog:i}=Ke();return T.useEffect(()=>{let s=[];r.inPayment.map(o=>{i.map(a=>{o.id===a.id&&s.push({...a,quantity:o.quantity})})}),e(s)},[i]),p.jsx("div",{className:"mt-5",children:t.map(s=>p.jsx(Oq,{addToCart:(o,a)=>n(o,a),data:s},s.id))})}function Mq(){let{profile:t,setOpenOrder:e}=Ke();const[n,r]=T.useState({});T.useEffect(()=>{let a=JSON.parse(localStorage.getItem("delivery")),l=JSON.parse(localStorage.getItem("details")),u={...a,...l};r(u)},[]);async function i(){fetch("http://localhost:3000/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[...t.inPayment]})}).then(a=>(console.log("Session :",a),a.ok?a.json():a.json().then(l=>Promise.reject(l)))).then(({url:a})=>{window.location=a}).catch(a=>{console.log(a)})}async function s(){const a=await Mh(Bt(be,"orders"),{...n,products:t.inPayment,uid:t.uid});e(a.id),i()}function o(){return p.jsxs("div",{className:"flex justify-center gap-8 p-2",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("p",{className:"headline__small font-semibold",children:"Údaje"}),p.jsx("div",{className:"h-1 w-32 rounded-md bg-gray-200"}),p.jsxs("div",{className:"mt-3 flex flex-col",children:[p.jsx("p",{children:n.forename+" "+n.surname}),p.jsx("p",{children:n.phoneNumber})]})]}),p.jsx("div",{className:"h-[170px] w-1 rounded-md bg-gray-200"}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("p",{className:"headline__small font-semibold",children:"Doručení"}),p.jsx("div",{className:"h-1 w-32 rounded-md bg-gray-200"}),p.jsxs("div",{className:"mt-3 flex flex-col",children:[p.jsx("p",{children:n.kind===0?"Zásilkovna":"Česká pošta"}),n.kind===0?p.jsx("div",{children:p.jsx("p",{children:n.shopAdress})}):p.jsxs("div",{children:[p.jsx("p",{children:n.street}),p.jsx("p",{children:n.town}),p.jsx("p",{children:n.psc})]})]})]})]})}return p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsxs("p",{className:"headline__big relative mt-6",children:[p.jsx("a",{className:"absolute left-[-40px] top-[-5px]",href:"http://localhost:5173/payment-details",children:p.jsx($v,{size:30,className:"font-bold"})}),"Shrnutí"]}),p.jsx("div",{className:"mt-4 flex flex-col rounded-xl border-2 p-4",children:o()}),p.jsx(Lq,{}),p.jsx("div",{className:"mt-6 flex justify-center",children:p.jsx("button",{className:"button button__normal button__submit",onClick:s,children:"Zaplatit"})})]})}function Vq(){const[t,e]=T.useState({forename:"",surname:"",phoneNumber:""});T.useEffect(()=>{let r=JSON.parse(localStorage.getItem("details"))||{};e(r)},[]);function n(r){e(i=>({...i,[r.target.name]:r.target.value}))}return T.useEffect(()=>{localStorage.setItem("details",JSON.stringify(t))},[t]),p.jsx("div",{children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsxs("p",{className:"headline__big relative mt-6",children:[p.jsx("a",{className:"absolute left-[-40px] top-[-5px]",href:"http://localhost:5173/payment-delivery",children:p.jsx($v,{size:30,className:"font-bold"})}),"Kontaktní údaje"]}),p.jsxs("div",{className:"mt-4 flex flex-col items-center rounded-xl border-2 p-6",children:[p.jsxs("div",{children:[p.jsx("p",{className:"mr-4",children:"Jméno"}),p.jsx("input",{className:"input__normal input",name:"forename",type:"text",placeholder:"Jakub",value:t.forename,onChange:n})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("p",{className:"mr-4",children:"Příjmení"}),p.jsx("input",{className:"input__normal input",name:"surname",placeholder:"Jaroš",type:"text",value:t.surname,onChange:n})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("p",{className:"mr-4",children:"Telefon"}),p.jsx("input",{className:"input__normal input",name:"phoneNumber",placeholder:"702552088",type:"text",value:t.phoneNumber,onChange:n})]}),p.jsx("a",{className:"mt-10",href:"http://localhost:5173/payment-summary",children:p.jsx("button",{className:"button button__normal button__submit",children:"Pokračovat"})})]})]})})}function jq(){const{addOrderToProfile:t}=Ke();return T.useEffect(()=>{console.log("Payment was canceled"),t(!0)},[]),p.jsx("div",{className:"flex justify-center",children:p.jsxs("div",{className:"mt-32 flex flex-col items-center rounded-lg border-2 p-8",style:{borderColor:"rgba(70, 156, 248, 0.3)"},children:[p.jsx("p",{className:"headline text-black ",children:"Děkujeme za nákup!"}),p.jsx("a",{className:"mt-6",href:"http://localhost:5173/cart",children:p.jsx("button",{className:"button button__small button__submit",children:"Zpátky do obchodu"})})]})})}function Fq(){const{addOrderToProfile:t}=Ke();return T.useEffect(()=>{console.log("Payment was canceled"),t(!1)},[]),p.jsx("div",{className:"flex justify-center",children:p.jsxs("div",{className:"mt-32 flex flex-col items-center rounded-lg border-2 border-red-200 p-8",children:[p.jsxs("p",{className:"headline text-black",children:["Něco se nepovedlo :","("]}),p.jsx("a",{className:"mt-6",href:"http://localhost:5173/cart",children:p.jsx("button",{className:"button button__small button__negative",children:"Zpátky do obchodu"})})]})})}function Bq(){const{catalog:t}=Ke();return p.jsxs(p.Fragment,{children:[p.jsx(h$,{}),p.jsxs(a$,{children:[p.jsx(Vt,{path:"/",element:p.jsx(Vz,{})}),p.jsx(Vt,{path:"/products",element:p.jsx(Uz,{})}),p.jsx(Vt,{path:"/about-us",element:p.jsx($z,{})}),p.jsx(Vt,{path:"/contact",element:p.jsx(zz,{})}),p.jsx(Vt,{path:"/account",element:p.jsx(Bz,{})}),p.jsx(Vt,{path:"/cart",element:p.jsx(Kz,{})}),p.jsx(Vt,{path:"/dev",element:p.jsx(kq,{})}),t.map(e=>p.jsx(Vt,{path:"/product-"+e.id,element:p.jsx(Wz,{data:e})},e.id)),p.jsx(Vt,{path:"/payment-delivery",element:p.jsx(Nq,{})}),p.jsx(Vt,{path:"/payment-details",element:p.jsx(Vq,{})}),p.jsx(Vt,{path:"/payment-summary",element:p.jsx(Mq,{})}),p.jsx(Vt,{path:"/payment-success",element:p.jsx(jq,{})}),p.jsx(Vt,{path:"/payment-cancel",element:p.jsx(Fq,{})})]})]})}Kp.createRoot(document.getElementById("root")).render(p.jsx(c$,{children:p.jsx(d$,{children:p.jsx(Bq,{})})}));
