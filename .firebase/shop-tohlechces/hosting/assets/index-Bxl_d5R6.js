function BR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Gp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sw={exports:{}},Sc={},Cw={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ka=Symbol.for("react.element"),$R=Symbol.for("react.portal"),jR=Symbol.for("react.fragment"),zR=Symbol.for("react.strict_mode"),WR=Symbol.for("react.profiler"),HR=Symbol.for("react.provider"),GR=Symbol.for("react.context"),qR=Symbol.for("react.forward_ref"),KR=Symbol.for("react.suspense"),QR=Symbol.for("react.memo"),YR=Symbol.for("react.lazy"),$v=Symbol.iterator;function XR(t){return t===null||typeof t!="object"?null:(t=$v&&t[$v]||t["@@iterator"],typeof t=="function"?t:null)}var Rw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pw=Object.assign,bw={};function Bo(t,e,n){this.props=t,this.context=e,this.refs=bw,this.updater=n||Rw}Bo.prototype.isReactComponent={};Bo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Aw(){}Aw.prototype=Bo.prototype;function qp(t,e,n){this.props=t,this.context=e,this.refs=bw,this.updater=n||Rw}var Kp=qp.prototype=new Aw;Kp.constructor=qp;Pw(Kp,Bo.prototype);Kp.isPureReactComponent=!0;var jv=Array.isArray,xw=Object.prototype.hasOwnProperty,Qp={current:null},Dw={key:!0,ref:!0,__self:!0,__source:!0};function kw(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)xw.call(e,r)&&!Dw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ka,type:t,key:o,ref:s,props:i,_owner:Qp.current}}function JR(t,e){return{$$typeof:ka,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yp(t){return typeof t=="object"&&t!==null&&t.$$typeof===ka}function ZR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zv=/\/+/g;function eh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZR(""+t.key):e.toString(36)}function Xl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ka:case $R:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+eh(s,0):r,jv(i)?(n="",t!=null&&(n=t.replace(zv,"$&/")+"/"),Xl(i,e,n,"",function(u){return u})):i!=null&&(Yp(i)&&(i=JR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(zv,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",jv(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+eh(o,a);s+=Xl(o,e,n,l,i)}else if(l=XR(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+eh(o,a++),s+=Xl(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function gl(t,e,n){if(t==null)return t;var r=[],i=0;return Xl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function eP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Et={current:null},Jl={transition:null},tP={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:Jl,ReactCurrentOwner:Qp};te.Children={map:gl,forEach:function(t,e,n){gl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gl(t,function(){e++}),e},toArray:function(t){return gl(t,function(e){return e})||[]},only:function(t){if(!Yp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Bo;te.Fragment=jR;te.Profiler=WR;te.PureComponent=qp;te.StrictMode=zR;te.Suspense=KR;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tP;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Pw({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Qp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xw.call(e,l)&&!Dw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ka,type:t.type,key:i,ref:o,props:r,_owner:s}};te.createContext=function(t){return t={$$typeof:GR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HR,_context:t},t.Consumer=t};te.createElement=kw;te.createFactory=function(t){var e=kw.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:qR,render:t}};te.isValidElement=Yp;te.lazy=function(t){return{$$typeof:YR,_payload:{_status:-1,_result:t},_init:eP}};te.memo=function(t,e){return{$$typeof:QR,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=Jl.transition;Jl.transition={};try{t()}finally{Jl.transition=e}};te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};te.useCallback=function(t,e){return Et.current.useCallback(t,e)};te.useContext=function(t){return Et.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return Et.current.useDeferredValue(t)};te.useEffect=function(t,e){return Et.current.useEffect(t,e)};te.useId=function(){return Et.current.useId()};te.useImperativeHandle=function(t,e,n){return Et.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return Et.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return Et.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return Et.current.useMemo(t,e)};te.useReducer=function(t,e,n){return Et.current.useReducer(t,e,n)};te.useRef=function(t){return Et.current.useRef(t)};te.useState=function(t){return Et.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return Et.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return Et.current.useTransition()};te.version="18.2.0";Cw.exports=te;var I=Cw.exports;const Z=Gp(I),nP=BR({__proto__:null,default:Z},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP=I,iP=Symbol.for("react.element"),oP=Symbol.for("react.fragment"),sP=Object.prototype.hasOwnProperty,aP=rP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lP={key:!0,ref:!0,__self:!0,__source:!0};function Nw(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)sP.call(e,r)&&!lP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iP,type:t,key:o,ref:s,props:i,_owner:aP.current}}Sc.Fragment=oP;Sc.jsx=Nw;Sc.jsxs=Nw;Sw.exports=Sc;var E=Sw.exports,uf={},Ow={exports:{}},jt={},Lw={exports:{}},Mw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,j){var W=D.length;D.push(j);e:for(;0<W;){var ae=W-1>>>1,q=D[ae];if(0<i(q,j))D[ae]=j,D[W]=q,W=ae;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var j=D[0],W=D.pop();if(W!==j){D[0]=W;e:for(var ae=0,q=D.length,yn=q>>>1;ae<yn;){var Ht=2*(ae+1)-1,Gt=D[Ht],qt=Ht+1,Fn=D[qt];if(0>i(Gt,W))qt<q&&0>i(Fn,Gt)?(D[ae]=Fn,D[qt]=W,ae=qt):(D[ae]=Gt,D[Ht]=W,ae=Ht);else if(qt<q&&0>i(Fn,W))D[ae]=Fn,D[qt]=W,ae=qt;else break e}}return j}function i(D,j){var W=D.sortIndex-j.sortIndex;return W!==0?W:D.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=D)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function w(D){if(v=!1,y(D),!g)if(n(l)!==null)g=!0,_e(T);else{var j=n(u);j!==null&&Ue(w,j.startTime-D)}}function T(D,j){g=!1,v&&(v=!1,m(x),x=-1),f=!0;var W=h;try{for(y(j),d=n(l);d!==null&&(!(d.expirationTime>j)||D&&!N());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,h=d.priorityLevel;var q=ae(d.expirationTime<=j);j=t.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&r(l),y(j)}else r(l);d=n(l)}if(d!==null)var yn=!0;else{var Ht=n(u);Ht!==null&&Ue(w,Ht.startTime-j),yn=!1}return yn}finally{d=null,h=W,f=!1}}var S=!1,C=null,x=-1,V=5,P=-1;function N(){return!(t.unstable_now()-P<V)}function O(){if(C!==null){var D=t.unstable_now();P=D;var j=!0;try{j=C(!0,D)}finally{j?G():(S=!1,C=null)}}else S=!1}var G;if(typeof p=="function")G=function(){p(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,re=B.port2;B.port1.onmessage=O,G=function(){re.postMessage(null)}}else G=function(){_(O,0)};function _e(D){C=D,S||(S=!0,G())}function Ue(D,j){x=_(function(){D(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,_e(T))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var W=h;h=j;try{return D()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,j){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=h;h=D;try{return j()}finally{h=W}},t.unstable_scheduleCallback=function(D,j,W){var ae=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,D){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,D={id:c++,callback:j,priorityLevel:D,startTime:W,expirationTime:q,sortIndex:-1},W>ae?(D.sortIndex=W,e(u,D),n(l)===null&&D===n(u)&&(v?(m(x),x=-1):v=!0,Ue(w,W-ae))):(D.sortIndex=q,e(l,D),g||f||(g=!0,_e(T))),D},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(D){var j=h;return function(){var W=h;h=j;try{return D.apply(this,arguments)}finally{h=W}}}})(Mw);Lw.exports=Mw;var uP=Lw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw=I,Bt=uP;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fw=new Set,Hs={};function Di(t,e){Eo(t,e),Eo(t+"Capture",e)}function Eo(t,e){for(Hs[t]=e,t=0;t<e.length;t++)Fw.add(e[t])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=Object.prototype.hasOwnProperty,cP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wv={},Hv={};function dP(t){return cf.call(Hv,t)?!0:cf.call(Wv,t)?!1:cP.test(t)?Hv[t]=!0:(Wv[t]=!0,!1)}function hP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fP(t,e,n,r){if(e===null||typeof e>"u"||hP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function It(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){it[t]=new It(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];it[e]=new It(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){it[t]=new It(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){it[t]=new It(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){it[t]=new It(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){it[t]=new It(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){it[t]=new It(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){it[t]=new It(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){it[t]=new It(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xp=/[\-:]([a-z])/g;function Jp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xp,Jp);it[e]=new It(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xp,Jp);it[e]=new It(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xp,Jp);it[e]=new It(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){it[t]=new It(t,1,!1,t.toLowerCase(),null,!1,!1)});it.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){it[t]=new It(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zp(t,e,n,r){var i=it.hasOwnProperty(e)?it[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fP(e,n,i,r)&&(n=null),r||i===null?dP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ir=Vw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ml=Symbol.for("react.element"),Qi=Symbol.for("react.portal"),Yi=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),df=Symbol.for("react.profiler"),Uw=Symbol.for("react.provider"),Bw=Symbol.for("react.context"),tg=Symbol.for("react.forward_ref"),hf=Symbol.for("react.suspense"),ff=Symbol.for("react.suspense_list"),ng=Symbol.for("react.memo"),ur=Symbol.for("react.lazy"),$w=Symbol.for("react.offscreen"),Gv=Symbol.iterator;function ts(t){return t===null||typeof t!="object"?null:(t=Gv&&t[Gv]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,th;function ms(t){if(th===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);th=e&&e[1]||""}return`
`+th+t}var nh=!1;function rh(t,e){if(!t||nh)return"";nh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{nh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ms(t):""}function pP(t){switch(t.tag){case 5:return ms(t.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 2:case 15:return t=rh(t.type,!1),t;case 11:return t=rh(t.type.render,!1),t;case 1:return t=rh(t.type,!0),t;default:return""}}function pf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yi:return"Fragment";case Qi:return"Portal";case df:return"Profiler";case eg:return"StrictMode";case hf:return"Suspense";case ff:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Bw:return(t.displayName||"Context")+".Consumer";case Uw:return(t._context.displayName||"Context")+".Provider";case tg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ng:return e=t.displayName||null,e!==null?e:pf(t.type)||"Memo";case ur:e=t._payload,t=t._init;try{return pf(t(e))}catch{}}return null}function gP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pf(e);case 8:return e===eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mP(t){var e=jw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vl(t){t._valueTracker||(t._valueTracker=mP(t))}function zw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gf(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ww(t,e){e=e.checked,e!=null&&Zp(t,"checked",e,!1)}function mf(t,e){Ww(t,e);var n=Mr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vf(t,e.type,n):e.hasOwnProperty("defaultValue")&&vf(t,e.type,Mr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vf(t,e,n){(e!=="number"||yu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vs=Array.isArray;function lo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(vs(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mr(n)}}function Hw(t,e){var n=Mr(e.value),r=Mr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Yv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _f(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yl,qw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yl=yl||document.createElement("div"),yl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vP=["Webkit","ms","Moz","O"];Object.keys(Rs).forEach(function(t){vP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rs[e]=Rs[t]})});function Kw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rs.hasOwnProperty(t)&&Rs[t]?(""+e).trim():e+"px"}function Qw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Kw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var yP=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wf(t,e){if(e){if(yP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function Ef(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=null;function rg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tf=null,uo=null,co=null;function Xv(t){if(t=La(t)){if(typeof Tf!="function")throw Error(A(280));var e=t.stateNode;e&&(e=Ac(e),Tf(t.stateNode,t.type,e))}}function Yw(t){uo?co?co.push(t):co=[t]:uo=t}function Xw(){if(uo){var t=uo,e=co;if(co=uo=null,Xv(t),e)for(t=0;t<e.length;t++)Xv(e[t])}}function Jw(t,e){return t(e)}function Zw(){}var ih=!1;function eE(t,e,n){if(ih)return t(e,n);ih=!0;try{return Jw(t,e,n)}finally{ih=!1,(uo!==null||co!==null)&&(Zw(),Xw())}}function qs(t,e){var n=t.stateNode;if(n===null)return null;var r=Ac(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Sf=!1;if(Yn)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){Sf=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{Sf=!1}function _P(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ps=!1,_u=null,wu=!1,Cf=null,wP={onError:function(t){Ps=!0,_u=t}};function EP(t,e,n,r,i,o,s,a,l){Ps=!1,_u=null,_P.apply(wP,arguments)}function IP(t,e,n,r,i,o,s,a,l){if(EP.apply(this,arguments),Ps){if(Ps){var u=_u;Ps=!1,_u=null}else throw Error(A(198));wu||(wu=!0,Cf=u)}}function ki(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jv(t){if(ki(t)!==t)throw Error(A(188))}function TP(t){var e=t.alternate;if(!e){if(e=ki(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jv(i),t;if(o===r)return Jv(i),e;o=o.sibling}throw Error(A(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function nE(t){return t=TP(t),t!==null?rE(t):null}function rE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rE(t);if(e!==null)return e;t=t.sibling}return null}var iE=Bt.unstable_scheduleCallback,Zv=Bt.unstable_cancelCallback,SP=Bt.unstable_shouldYield,CP=Bt.unstable_requestPaint,Ae=Bt.unstable_now,RP=Bt.unstable_getCurrentPriorityLevel,ig=Bt.unstable_ImmediatePriority,oE=Bt.unstable_UserBlockingPriority,Eu=Bt.unstable_NormalPriority,PP=Bt.unstable_LowPriority,sE=Bt.unstable_IdlePriority,Cc=null,Rn=null;function bP(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Cc,t,void 0,(t.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:DP,AP=Math.log,xP=Math.LN2;function DP(t){return t>>>=0,t===0?32:31-(AP(t)/xP|0)|0}var _l=64,wl=4194304;function ys(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Iu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ys(a):(o&=s,o!==0&&(r=ys(o)))}else s=n&~i,s!==0?r=ys(s):o!==0&&(r=ys(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fn(e),i=1<<n,r|=t[n],e&=~i;return r}function kP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-fn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=kP(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Rf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aE(){var t=_l;return _l<<=1,!(_l&4194240)&&(_l=64),t}function oh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Na(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fn(e),t[e]=n}function OP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function og(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ue=0;function lE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uE,sg,cE,dE,hE,Pf=!1,El=[],Ir=null,Tr=null,Sr=null,Ks=new Map,Qs=new Map,dr=[],LP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ey(t,e){switch(t){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Ks.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(e.pointerId)}}function rs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=La(e),e!==null&&sg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MP(t,e,n,r,i){switch(e){case"focusin":return Ir=rs(Ir,t,e,n,r,i),!0;case"dragenter":return Tr=rs(Tr,t,e,n,r,i),!0;case"mouseover":return Sr=rs(Sr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ks.set(o,rs(Ks.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Qs.set(o,rs(Qs.get(o)||null,t,e,n,r,i)),!0}return!1}function fE(t){var e=ii(t.target);if(e!==null){var n=ki(e);if(n!==null){if(e=n.tag,e===13){if(e=tE(n),e!==null){t.blockedOn=e,hE(t.priority,function(){cE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);If=r,n.target.dispatchEvent(r),If=null}else return e=La(n),e!==null&&sg(e),t.blockedOn=n,!1;e.shift()}return!0}function ty(t,e,n){Zl(t)&&n.delete(e)}function VP(){Pf=!1,Ir!==null&&Zl(Ir)&&(Ir=null),Tr!==null&&Zl(Tr)&&(Tr=null),Sr!==null&&Zl(Sr)&&(Sr=null),Ks.forEach(ty),Qs.forEach(ty)}function is(t,e){t.blockedOn===e&&(t.blockedOn=null,Pf||(Pf=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,VP)))}function Ys(t){function e(i){return is(i,t)}if(0<El.length){is(El[0],t);for(var n=1;n<El.length;n++){var r=El[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ir!==null&&is(Ir,t),Tr!==null&&is(Tr,t),Sr!==null&&is(Sr,t),Ks.forEach(e),Qs.forEach(e),n=0;n<dr.length;n++)r=dr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<dr.length&&(n=dr[0],n.blockedOn===null);)fE(n),n.blockedOn===null&&dr.shift()}var ho=ir.ReactCurrentBatchConfig,Tu=!0;function FP(t,e,n,r){var i=ue,o=ho.transition;ho.transition=null;try{ue=1,ag(t,e,n,r)}finally{ue=i,ho.transition=o}}function UP(t,e,n,r){var i=ue,o=ho.transition;ho.transition=null;try{ue=4,ag(t,e,n,r)}finally{ue=i,ho.transition=o}}function ag(t,e,n,r){if(Tu){var i=bf(t,e,n,r);if(i===null)gh(t,e,r,Su,n),ey(t,r);else if(MP(i,t,e,n,r))r.stopPropagation();else if(ey(t,r),e&4&&-1<LP.indexOf(t)){for(;i!==null;){var o=La(i);if(o!==null&&uE(o),o=bf(t,e,n,r),o===null&&gh(t,e,r,Su,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else gh(t,e,r,null,n)}}var Su=null;function bf(t,e,n,r){if(Su=null,t=rg(r),t=ii(t),t!==null)if(e=ki(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Su=t,null}function pE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RP()){case ig:return 1;case oE:return 4;case Eu:case PP:return 16;case sE:return 536870912;default:return 16}default:return 16}}var yr=null,lg=null,eu=null;function gE(){if(eu)return eu;var t,e=lg,n=e.length,r,i="value"in yr?yr.value:yr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return eu=i.slice(t,1<r?1-r:void 0)}function tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Il(){return!0}function ny(){return!1}function zt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Il:ny,this.isPropagationStopped=ny,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),e}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ug=zt($o),Oa=Se({},$o,{view:0,detail:0}),BP=zt(Oa),sh,ah,os,Rc=Se({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==os&&(os&&t.type==="mousemove"?(sh=t.screenX-os.screenX,ah=t.screenY-os.screenY):ah=sh=0,os=t),sh)},movementY:function(t){return"movementY"in t?t.movementY:ah}}),ry=zt(Rc),$P=Se({},Rc,{dataTransfer:0}),jP=zt($P),zP=Se({},Oa,{relatedTarget:0}),lh=zt(zP),WP=Se({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),HP=zt(WP),GP=Se({},$o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qP=zt(GP),KP=Se({},$o,{data:0}),iy=zt(KP),QP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XP[t])?!!e[t]:!1}function cg(){return JP}var ZP=Se({},Oa,{key:function(t){if(t.key){var e=QP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cg,charCode:function(t){return t.type==="keypress"?tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eb=zt(ZP),tb=Se({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oy=zt(tb),nb=Se({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cg}),rb=zt(nb),ib=Se({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),ob=zt(ib),sb=Se({},Rc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ab=zt(sb),lb=[9,13,27,32],dg=Yn&&"CompositionEvent"in window,bs=null;Yn&&"documentMode"in document&&(bs=document.documentMode);var ub=Yn&&"TextEvent"in window&&!bs,mE=Yn&&(!dg||bs&&8<bs&&11>=bs),sy=" ",ay=!1;function vE(t,e){switch(t){case"keyup":return lb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xi=!1;function cb(t,e){switch(t){case"compositionend":return yE(e);case"keypress":return e.which!==32?null:(ay=!0,sy);case"textInput":return t=e.data,t===sy&&ay?null:t;default:return null}}function db(t,e){if(Xi)return t==="compositionend"||!dg&&vE(t,e)?(t=gE(),eu=lg=yr=null,Xi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mE&&e.locale!=="ko"?null:e.data;default:return null}}var hb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ly(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hb[t.type]:e==="textarea"}function _E(t,e,n,r){Yw(r),e=Cu(e,"onChange"),0<e.length&&(n=new ug("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var As=null,Xs=null;function fb(t){xE(t,0)}function Pc(t){var e=eo(t);if(zw(e))return t}function pb(t,e){if(t==="change")return e}var wE=!1;if(Yn){var uh;if(Yn){var ch="oninput"in document;if(!ch){var uy=document.createElement("div");uy.setAttribute("oninput","return;"),ch=typeof uy.oninput=="function"}uh=ch}else uh=!1;wE=uh&&(!document.documentMode||9<document.documentMode)}function cy(){As&&(As.detachEvent("onpropertychange",EE),Xs=As=null)}function EE(t){if(t.propertyName==="value"&&Pc(Xs)){var e=[];_E(e,Xs,t,rg(t)),eE(fb,e)}}function gb(t,e,n){t==="focusin"?(cy(),As=e,Xs=n,As.attachEvent("onpropertychange",EE)):t==="focusout"&&cy()}function mb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pc(Xs)}function vb(t,e){if(t==="click")return Pc(e)}function yb(t,e){if(t==="input"||t==="change")return Pc(e)}function _b(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:_b;function Js(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cf.call(e,i)||!gn(t[i],e[i]))return!1}return!0}function dy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hy(t,e){var n=dy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dy(n)}}function IE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?IE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function TE(){for(var t=window,e=yu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yu(t.document)}return e}function hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wb(t){var e=TE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&IE(n.ownerDocument.documentElement,n)){if(r!==null&&hg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=hy(n,o);var s=hy(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Eb=Yn&&"documentMode"in document&&11>=document.documentMode,Ji=null,Af=null,xs=null,xf=!1;function fy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xf||Ji==null||Ji!==yu(r)||(r=Ji,"selectionStart"in r&&hg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xs&&Js(xs,r)||(xs=r,r=Cu(Af,"onSelect"),0<r.length&&(e=new ug("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ji)))}function Tl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zi={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionend:Tl("Transition","TransitionEnd")},dh={},SE={};Yn&&(SE=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function bc(t){if(dh[t])return dh[t];if(!Zi[t])return t;var e=Zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in SE)return dh[t]=e[n];return t}var CE=bc("animationend"),RE=bc("animationiteration"),PE=bc("animationstart"),bE=bc("transitionend"),AE=new Map,py="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(t,e){AE.set(t,e),Di(e,[t])}for(var hh=0;hh<py.length;hh++){var fh=py[hh],Ib=fh.toLowerCase(),Tb=fh[0].toUpperCase()+fh.slice(1);zr(Ib,"on"+Tb)}zr(CE,"onAnimationEnd");zr(RE,"onAnimationIteration");zr(PE,"onAnimationStart");zr("dblclick","onDoubleClick");zr("focusin","onFocus");zr("focusout","onBlur");zr(bE,"onTransitionEnd");Eo("onMouseEnter",["mouseout","mouseover"]);Eo("onMouseLeave",["mouseout","mouseover"]);Eo("onPointerEnter",["pointerout","pointerover"]);Eo("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sb=new Set("cancel close invalid load scroll toggle".split(" ").concat(_s));function gy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,IP(r,e,void 0,t),t.currentTarget=null}function xE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;gy(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;gy(i,a,u),o=l}}}if(wu)throw t=Cf,wu=!1,Cf=null,t}function ge(t,e){var n=e[Lf];n===void 0&&(n=e[Lf]=new Set);var r=t+"__bubble";n.has(r)||(DE(e,t,2,!1),n.add(r))}function ph(t,e,n){var r=0;e&&(r|=4),DE(n,t,r,e)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function Zs(t){if(!t[Sl]){t[Sl]=!0,Fw.forEach(function(n){n!=="selectionchange"&&(Sb.has(n)||ph(n,!1,t),ph(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sl]||(e[Sl]=!0,ph("selectionchange",!1,e))}}function DE(t,e,n,r){switch(pE(e)){case 1:var i=FP;break;case 4:i=UP;break;default:i=ag}n=i.bind(null,e,n,t),i=void 0,!Sf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ii(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}eE(function(){var u=o,c=rg(n),d=[];e:{var h=AE.get(t);if(h!==void 0){var f=ug,g=t;switch(t){case"keypress":if(tu(n)===0)break e;case"keydown":case"keyup":f=eb;break;case"focusin":g="focus",f=lh;break;case"focusout":g="blur",f=lh;break;case"beforeblur":case"afterblur":f=lh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=ry;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=jP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=rb;break;case CE:case RE:case PE:f=HP;break;case bE:f=ob;break;case"scroll":f=BP;break;case"wheel":f=ab;break;case"copy":case"cut":case"paste":f=qP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=oy}var v=(e&4)!==0,_=!v&&t==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var p=u,y;p!==null;){y=p;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=qs(p,m),w!=null&&v.push(ea(p,w,y)))),_)break;p=p.return}0<v.length&&(h=new f(h,g,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==If&&(g=n.relatedTarget||n.fromElement)&&(ii(g)||g[Xn]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?ii(g):null,g!==null&&(_=ki(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(v=ry,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=oy,w="onPointerLeave",m="onPointerEnter",p="pointer"),_=f==null?h:eo(f),y=g==null?h:eo(g),h=new v(w,p+"leave",f,n,c),h.target=_,h.relatedTarget=y,w=null,ii(c)===u&&(v=new v(m,p+"enter",g,n,c),v.target=y,v.relatedTarget=_,w=v),_=w,f&&g)t:{for(v=f,m=g,p=0,y=v;y;y=$i(y))p++;for(y=0,w=m;w;w=$i(w))y++;for(;0<p-y;)v=$i(v),p--;for(;0<y-p;)m=$i(m),y--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=$i(v),m=$i(m)}v=null}else v=null;f!==null&&my(d,h,f,v,!1),g!==null&&_!==null&&my(d,_,g,v,!0)}}e:{if(h=u?eo(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var T=pb;else if(ly(h))if(wE)T=yb;else{T=mb;var S=gb}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=vb);if(T&&(T=T(t,u))){_E(d,T,n,c);break e}S&&S(t,h,u),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&vf(h,"number",h.value)}switch(S=u?eo(u):window,t){case"focusin":(ly(S)||S.contentEditable==="true")&&(Ji=S,Af=u,xs=null);break;case"focusout":xs=Af=Ji=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,fy(d,n,c);break;case"selectionchange":if(Eb)break;case"keydown":case"keyup":fy(d,n,c)}var C;if(dg)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Xi?vE(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(mE&&n.locale!=="ko"&&(Xi||x!=="onCompositionStart"?x==="onCompositionEnd"&&Xi&&(C=gE()):(yr=c,lg="value"in yr?yr.value:yr.textContent,Xi=!0)),S=Cu(u,x),0<S.length&&(x=new iy(x,t,null,n,c),d.push({event:x,listeners:S}),C?x.data=C:(C=yE(n),C!==null&&(x.data=C)))),(C=ub?cb(t,n):db(t,n))&&(u=Cu(u,"onBeforeInput"),0<u.length&&(c=new iy("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}xE(d,e)})}function ea(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=qs(t,n),o!=null&&r.unshift(ea(t,o,i)),o=qs(t,e),o!=null&&r.push(ea(t,o,i))),t=t.return}return r}function $i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function my(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=qs(n,o),l!=null&&s.unshift(ea(n,l,a))):i||(l=qs(n,o),l!=null&&s.push(ea(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Cb=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function vy(t){return(typeof t=="string"?t:""+t).replace(Cb,`
`).replace(Rb,"")}function Cl(t,e,n){if(e=vy(e),vy(t)!==e&&n)throw Error(A(425))}function Ru(){}var Df=null,kf=null;function Nf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Of=typeof setTimeout=="function"?setTimeout:void 0,Pb=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,bb=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(t){return yy.resolve(null).then(t).catch(Ab)}:Of;function Ab(t){setTimeout(function(){throw t})}function mh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ys(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ys(e)}function Cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _y(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jo=Math.random().toString(36).slice(2),En="__reactFiber$"+jo,ta="__reactProps$"+jo,Xn="__reactContainer$"+jo,Lf="__reactEvents$"+jo,xb="__reactListeners$"+jo,Db="__reactHandles$"+jo;function ii(t){var e=t[En];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xn]||n[En]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_y(t);t!==null;){if(n=t[En])return n;t=_y(t)}return e}t=n,n=t.parentNode}return null}function La(t){return t=t[En]||t[Xn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function Ac(t){return t[ta]||null}var Mf=[],to=-1;function Wr(t){return{current:t}}function ve(t){0>to||(t.current=Mf[to],Mf[to]=null,to--)}function fe(t,e){to++,Mf[to]=t.current,t.current=e}var Vr={},ft=Wr(Vr),bt=Wr(!1),vi=Vr;function Io(t,e){var n=t.type.contextTypes;if(!n)return Vr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function At(t){return t=t.childContextTypes,t!=null}function Pu(){ve(bt),ve(ft)}function wy(t,e,n){if(ft.current!==Vr)throw Error(A(168));fe(ft,e),fe(bt,n)}function kE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(A(108,gP(t)||"Unknown",i));return Se({},n,r)}function bu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vr,vi=ft.current,fe(ft,t),fe(bt,bt.current),!0}function Ey(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=kE(t,e,vi),r.__reactInternalMemoizedMergedChildContext=t,ve(bt),ve(ft),fe(ft,t)):ve(bt),fe(bt,n)}var $n=null,xc=!1,vh=!1;function NE(t){$n===null?$n=[t]:$n.push(t)}function kb(t){xc=!0,NE(t)}function Hr(){if(!vh&&$n!==null){vh=!0;var t=0,e=ue;try{var n=$n;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$n=null,xc=!1}catch(i){throw $n!==null&&($n=$n.slice(t+1)),iE(ig,Hr),i}finally{ue=e,vh=!1}}return null}var no=[],ro=0,Au=null,xu=0,Yt=[],Xt=0,yi=null,zn=1,Wn="";function Zr(t,e){no[ro++]=xu,no[ro++]=Au,Au=t,xu=e}function OE(t,e,n){Yt[Xt++]=zn,Yt[Xt++]=Wn,Yt[Xt++]=yi,yi=t;var r=zn;t=Wn;var i=32-fn(r)-1;r&=~(1<<i),n+=1;var o=32-fn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,zn=1<<32-fn(e)+i|n<<i|r,Wn=o+t}else zn=1<<o|n<<i|r,Wn=t}function fg(t){t.return!==null&&(Zr(t,1),OE(t,1,0))}function pg(t){for(;t===Au;)Au=no[--ro],no[ro]=null,xu=no[--ro],no[ro]=null;for(;t===yi;)yi=Yt[--Xt],Yt[Xt]=null,Wn=Yt[--Xt],Yt[Xt]=null,zn=Yt[--Xt],Yt[Xt]=null}var Mt=null,Nt=null,we=!1,dn=null;function LE(t,e){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Iy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mt=t,Nt=Cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mt=t,Nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yi!==null?{id:zn,overflow:Wn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mt=t,Nt=null,!0):!1;default:return!1}}function Vf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ff(t){if(we){var e=Nt;if(e){var n=e;if(!Iy(t,e)){if(Vf(t))throw Error(A(418));e=Cr(n.nextSibling);var r=Mt;e&&Iy(t,e)?LE(r,n):(t.flags=t.flags&-4097|2,we=!1,Mt=t)}}else{if(Vf(t))throw Error(A(418));t.flags=t.flags&-4097|2,we=!1,Mt=t}}}function Ty(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mt=t}function Rl(t){if(t!==Mt)return!1;if(!we)return Ty(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nf(t.type,t.memoizedProps)),e&&(e=Nt)){if(Vf(t))throw ME(),Error(A(418));for(;e;)LE(t,e),e=Cr(e.nextSibling)}if(Ty(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nt=Cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nt=null}}else Nt=Mt?Cr(t.stateNode.nextSibling):null;return!0}function ME(){for(var t=Nt;t;)t=Cr(t.nextSibling)}function To(){Nt=Mt=null,we=!1}function gg(t){dn===null?dn=[t]:dn.push(t)}var Nb=ir.ReactCurrentBatchConfig;function un(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Du=Wr(null),ku=null,io=null,mg=null;function vg(){mg=io=ku=null}function yg(t){var e=Du.current;ve(Du),t._currentValue=e}function Uf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fo(t,e){ku=t,mg=io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pt=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(mg!==t)if(t={context:t,memoizedValue:e,next:null},io===null){if(ku===null)throw Error(A(308));io=t,ku.dependencies={lanes:0,firstContext:t}}else io=io.next=t;return e}var oi=null;function _g(t){oi===null?oi=[t]:oi.push(t)}function VE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_g(e)):(n.next=i.next,i.next=n),e.interleaved=n,Jn(t,r)}function Jn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var cr=!1;function wg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Jn(t,n)}return i=r.interleaved,i===null?(e.next=e,_g(r)):(e.next=i.next,i.next=e),r.interleaved=e,Jn(t,n)}function nu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,og(t,n)}}function Sy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nu(t,e,n,r){var i=t.updateQueue;cr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(h=e,f=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=Se({},d,h);break e;case 2:cr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);wi|=s,t.lanes=s,t.memoizedState=d}}function Cy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(A(191,i));i.call(r)}}}var UE=new Vw.Component().refs;function Bf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dc={isMounted:function(t){return(t=t._reactInternals)?ki(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wt(),i=br(t),o=Kn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Rr(t,o,i),e!==null&&(pn(e,t,i,r),nu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wt(),i=br(t),o=Kn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Rr(t,o,i),e!==null&&(pn(e,t,i,r),nu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wt(),r=br(t),i=Kn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rr(t,i,r),e!==null&&(pn(e,t,r,n),nu(e,t,r))}};function Ry(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Js(n,r)||!Js(i,o):!0}function BE(t,e,n){var r=!1,i=Vr,o=e.contextType;return typeof o=="object"&&o!==null?o=on(o):(i=At(e)?vi:ft.current,r=e.contextTypes,o=(r=r!=null)?Io(t,i):Vr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Py(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dc.enqueueReplaceState(e,e.state,null)}function $f(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=UE,wg(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=on(o):(o=At(e)?vi:ft.current,i.context=Io(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Bf(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dc.enqueueReplaceState(i,i.state,null),Nu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ss(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===UE&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function Pl(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function by(t){var e=t._init;return e(t._payload)}function $E(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Ar(m,p),m.index=0,m.sibling=null,m}function o(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,w){return p===null||p.tag!==6?(p=Sh(y,m.mode,w),p.return=m,p):(p=i(p,y),p.return=m,p)}function l(m,p,y,w){var T=y.type;return T===Yi?c(m,p,y.props.children,w,y.key):p!==null&&(p.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ur&&by(T)===p.type)?(w=i(p,y.props),w.ref=ss(m,p,y),w.return=m,w):(w=lu(y.type,y.key,y.props,null,m.mode,w),w.ref=ss(m,p,y),w.return=m,w)}function u(m,p,y,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Ch(y,m.mode,w),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function c(m,p,y,w,T){return p===null||p.tag!==7?(p=fi(y,m.mode,w,T),p.return=m,p):(p=i(p,y),p.return=m,p)}function d(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Sh(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ml:return y=lu(p.type,p.key,p.props,null,m.mode,y),y.ref=ss(m,null,p),y.return=m,y;case Qi:return p=Ch(p,m.mode,y),p.return=m,p;case ur:var w=p._init;return d(m,w(p._payload),y)}if(vs(p)||ts(p))return p=fi(p,m.mode,y,null),p.return=m,p;Pl(m,p)}return null}function h(m,p,y,w){var T=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:a(m,p,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ml:return y.key===T?l(m,p,y,w):null;case Qi:return y.key===T?u(m,p,y,w):null;case ur:return T=y._init,h(m,p,T(y._payload),w)}if(vs(y)||ts(y))return T!==null?null:c(m,p,y,w,null);Pl(m,y)}return null}function f(m,p,y,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,a(p,m,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ml:return m=m.get(w.key===null?y:w.key)||null,l(p,m,w,T);case Qi:return m=m.get(w.key===null?y:w.key)||null,u(p,m,w,T);case ur:var S=w._init;return f(m,p,y,S(w._payload),T)}if(vs(w)||ts(w))return m=m.get(y)||null,c(p,m,w,T,null);Pl(p,w)}return null}function g(m,p,y,w){for(var T=null,S=null,C=p,x=p=0,V=null;C!==null&&x<y.length;x++){C.index>x?(V=C,C=null):V=C.sibling;var P=h(m,C,y[x],w);if(P===null){C===null&&(C=V);break}t&&C&&P.alternate===null&&e(m,C),p=o(P,p,x),S===null?T=P:S.sibling=P,S=P,C=V}if(x===y.length)return n(m,C),we&&Zr(m,x),T;if(C===null){for(;x<y.length;x++)C=d(m,y[x],w),C!==null&&(p=o(C,p,x),S===null?T=C:S.sibling=C,S=C);return we&&Zr(m,x),T}for(C=r(m,C);x<y.length;x++)V=f(C,m,x,y[x],w),V!==null&&(t&&V.alternate!==null&&C.delete(V.key===null?x:V.key),p=o(V,p,x),S===null?T=V:S.sibling=V,S=V);return t&&C.forEach(function(N){return e(m,N)}),we&&Zr(m,x),T}function v(m,p,y,w){var T=ts(y);if(typeof T!="function")throw Error(A(150));if(y=T.call(y),y==null)throw Error(A(151));for(var S=T=null,C=p,x=p=0,V=null,P=y.next();C!==null&&!P.done;x++,P=y.next()){C.index>x?(V=C,C=null):V=C.sibling;var N=h(m,C,P.value,w);if(N===null){C===null&&(C=V);break}t&&C&&N.alternate===null&&e(m,C),p=o(N,p,x),S===null?T=N:S.sibling=N,S=N,C=V}if(P.done)return n(m,C),we&&Zr(m,x),T;if(C===null){for(;!P.done;x++,P=y.next())P=d(m,P.value,w),P!==null&&(p=o(P,p,x),S===null?T=P:S.sibling=P,S=P);return we&&Zr(m,x),T}for(C=r(m,C);!P.done;x++,P=y.next())P=f(C,m,x,P.value,w),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?x:P.key),p=o(P,p,x),S===null?T=P:S.sibling=P,S=P);return t&&C.forEach(function(O){return e(m,O)}),we&&Zr(m,x),T}function _(m,p,y,w){if(typeof y=="object"&&y!==null&&y.type===Yi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ml:e:{for(var T=y.key,S=p;S!==null;){if(S.key===T){if(T=y.type,T===Yi){if(S.tag===7){n(m,S.sibling),p=i(S,y.props.children),p.return=m,m=p;break e}}else if(S.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ur&&by(T)===S.type){n(m,S.sibling),p=i(S,y.props),p.ref=ss(m,S,y),p.return=m,m=p;break e}n(m,S);break}else e(m,S);S=S.sibling}y.type===Yi?(p=fi(y.props.children,m.mode,w,y.key),p.return=m,m=p):(w=lu(y.type,y.key,y.props,null,m.mode,w),w.ref=ss(m,p,y),w.return=m,m=w)}return s(m);case Qi:e:{for(S=y.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Ch(y,m.mode,w),p.return=m,m=p}return s(m);case ur:return S=y._init,_(m,p,S(y._payload),w)}if(vs(y))return g(m,p,y,w);if(ts(y))return v(m,p,y,w);Pl(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,y),p.return=m,m=p):(n(m,p),p=Sh(y,m.mode,w),p.return=m,m=p),s(m)):n(m,p)}return _}var So=$E(!0),jE=$E(!1),Ma={},Pn=Wr(Ma),na=Wr(Ma),ra=Wr(Ma);function si(t){if(t===Ma)throw Error(A(174));return t}function Eg(t,e){switch(fe(ra,e),fe(na,t),fe(Pn,Ma),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_f(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_f(e,t)}ve(Pn),fe(Pn,e)}function Co(){ve(Pn),ve(na),ve(ra)}function zE(t){si(ra.current);var e=si(Pn.current),n=_f(e,t.type);e!==n&&(fe(na,t),fe(Pn,n))}function Ig(t){na.current===t&&(ve(Pn),ve(na))}var Ie=Wr(0);function Ou(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yh=[];function Tg(){for(var t=0;t<yh.length;t++)yh[t]._workInProgressVersionPrimary=null;yh.length=0}var ru=ir.ReactCurrentDispatcher,_h=ir.ReactCurrentBatchConfig,_i=0,Te=null,Le=null,$e=null,Lu=!1,Ds=!1,ia=0,Ob=0;function ot(){throw Error(A(321))}function Sg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gn(t[n],e[n]))return!1;return!0}function Cg(t,e,n,r,i,o){if(_i=o,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ru.current=t===null||t.memoizedState===null?Fb:Ub,t=n(r,i),Ds){o=0;do{if(Ds=!1,ia=0,25<=o)throw Error(A(301));o+=1,$e=Le=null,e.updateQueue=null,ru.current=Bb,t=n(r,i)}while(Ds)}if(ru.current=Mu,e=Le!==null&&Le.next!==null,_i=0,$e=Le=Te=null,Lu=!1,e)throw Error(A(300));return t}function Rg(){var t=ia!==0;return ia=0,t}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Te.memoizedState=$e=t:$e=$e.next=t,$e}function sn(){if(Le===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=$e===null?Te.memoizedState:$e.next;if(e!==null)$e=e,Le=t;else{if(t===null)throw Error(A(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},$e===null?Te.memoizedState=$e=t:$e=$e.next=t}return $e}function oa(t,e){return typeof e=="function"?e(t):e}function wh(t){var e=sn(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=Le,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((_i&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Te.lanes|=c,wi|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,gn(r,e.memoizedState)||(Pt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Te.lanes|=o,wi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Eh(t){var e=sn(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);gn(o,e.memoizedState)||(Pt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function WE(){}function HE(t,e){var n=Te,r=sn(),i=e(),o=!gn(r.memoizedState,i);if(o&&(r.memoizedState=i,Pt=!0),r=r.queue,Pg(KE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,sa(9,qE.bind(null,n,r,i,e),void 0,null),je===null)throw Error(A(349));_i&30||GE(n,e,i)}return i}function GE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qE(t,e,n,r){e.value=n,e.getSnapshot=r,QE(e)&&YE(t)}function KE(t,e,n){return n(function(){QE(e)&&YE(t)})}function QE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gn(t,n)}catch{return!0}}function YE(t){var e=Jn(t,1);e!==null&&pn(e,t,1,-1)}function Ay(t){var e=wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},e.queue=t,t=t.dispatch=Vb.bind(null,Te,t),[e.memoizedState,t]}function sa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function XE(){return sn().memoizedState}function iu(t,e,n,r){var i=wn();Te.flags|=t,i.memoizedState=sa(1|e,n,void 0,r===void 0?null:r)}function kc(t,e,n,r){var i=sn();r=r===void 0?null:r;var o=void 0;if(Le!==null){var s=Le.memoizedState;if(o=s.destroy,r!==null&&Sg(r,s.deps)){i.memoizedState=sa(e,n,o,r);return}}Te.flags|=t,i.memoizedState=sa(1|e,n,o,r)}function xy(t,e){return iu(8390656,8,t,e)}function Pg(t,e){return kc(2048,8,t,e)}function JE(t,e){return kc(4,2,t,e)}function ZE(t,e){return kc(4,4,t,e)}function eI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tI(t,e,n){return n=n!=null?n.concat([t]):null,kc(4,4,eI.bind(null,e,t),n)}function bg(){}function nI(t,e){var n=sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rI(t,e){var n=sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iI(t,e,n){return _i&21?(gn(n,e)||(n=aE(),Te.lanes|=n,wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pt=!0),t.memoizedState=n)}function Lb(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=_h.transition;_h.transition={};try{t(!1),e()}finally{ue=n,_h.transition=r}}function oI(){return sn().memoizedState}function Mb(t,e,n){var r=br(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sI(t))aI(e,n);else if(n=VE(t,e,n,r),n!==null){var i=wt();pn(n,t,r,i),lI(n,e,r)}}function Vb(t,e,n){var r=br(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sI(t))aI(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,gn(a,s)){var l=e.interleaved;l===null?(i.next=i,_g(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=VE(t,e,i,r),n!==null&&(i=wt(),pn(n,t,r,i),lI(n,e,r))}}function sI(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function aI(t,e){Ds=Lu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,og(t,n)}}var Mu={readContext:on,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},Fb={readContext:on,useCallback:function(t,e){return wn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:xy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,iu(4194308,4,eI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return iu(4194308,4,t,e)},useInsertionEffect:function(t,e){return iu(4,2,t,e)},useMemo:function(t,e){var n=wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Mb.bind(null,Te,t),[r.memoizedState,t]},useRef:function(t){var e=wn();return t={current:t},e.memoizedState=t},useState:Ay,useDebugValue:bg,useDeferredValue:function(t){return wn().memoizedState=t},useTransition:function(){var t=Ay(!1),e=t[0];return t=Lb.bind(null,t[1]),wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Te,i=wn();if(we){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),je===null)throw Error(A(349));_i&30||GE(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,xy(KE.bind(null,r,o,t),[t]),r.flags|=2048,sa(9,qE.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=wn(),e=je.identifierPrefix;if(we){var n=Wn,r=zn;n=(r&~(1<<32-fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ia++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ob++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ub={readContext:on,useCallback:nI,useContext:on,useEffect:Pg,useImperativeHandle:tI,useInsertionEffect:JE,useLayoutEffect:ZE,useMemo:rI,useReducer:wh,useRef:XE,useState:function(){return wh(oa)},useDebugValue:bg,useDeferredValue:function(t){var e=sn();return iI(e,Le.memoizedState,t)},useTransition:function(){var t=wh(oa)[0],e=sn().memoizedState;return[t,e]},useMutableSource:WE,useSyncExternalStore:HE,useId:oI,unstable_isNewReconciler:!1},Bb={readContext:on,useCallback:nI,useContext:on,useEffect:Pg,useImperativeHandle:tI,useInsertionEffect:JE,useLayoutEffect:ZE,useMemo:rI,useReducer:Eh,useRef:XE,useState:function(){return Eh(oa)},useDebugValue:bg,useDeferredValue:function(t){var e=sn();return Le===null?e.memoizedState=t:iI(e,Le.memoizedState,t)},useTransition:function(){var t=Eh(oa)[0],e=sn().memoizedState;return[t,e]},useMutableSource:WE,useSyncExternalStore:HE,useId:oI,unstable_isNewReconciler:!1};function Ro(t,e){try{var n="",r=e;do n+=pP(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ih(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $b=typeof WeakMap=="function"?WeakMap:Map;function uI(t,e,n){n=Kn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fu||(Fu=!0,Jf=r),jf(t,e)},n}function cI(t,e,n){n=Kn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){jf(t,e),typeof r!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Dy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $b;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tA.bind(null,t,e,n),e.then(t,t))}function ky(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ny(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kn(-1,1),e.tag=2,Rr(n,e,1))),n.lanes|=1),t)}var jb=ir.ReactCurrentOwner,Pt=!1;function vt(t,e,n,r){e.child=t===null?jE(e,null,n,r):So(e,t.child,n,r)}function Oy(t,e,n,r,i){n=n.render;var o=e.ref;return fo(e,i),r=Cg(t,e,n,r,o,i),n=Rg(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zn(t,e,i)):(we&&n&&fg(e),e.flags|=1,vt(t,e,r,i),e.child)}function Ly(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Mg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,dI(t,e,o,r,i)):(t=lu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Js,n(s,r)&&t.ref===e.ref)return Zn(t,e,i)}return e.flags|=1,t=Ar(o,r),t.ref=e.ref,t.return=e,e.child=t}function dI(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Js(o,r)&&t.ref===e.ref)if(Pt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Pt=!0);else return e.lanes=t.lanes,Zn(t,e,i)}return zf(t,e,n,r,i)}function hI(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(so,kt),kt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(so,kt),kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,fe(so,kt),kt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,fe(so,kt),kt|=r;return vt(t,e,i,n),e.child}function fI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zf(t,e,n,r,i){var o=At(n)?vi:ft.current;return o=Io(e,o),fo(e,i),n=Cg(t,e,n,r,o,i),r=Rg(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zn(t,e,i)):(we&&r&&fg(e),e.flags|=1,vt(t,e,n,i),e.child)}function My(t,e,n,r,i){if(At(n)){var o=!0;bu(e)}else o=!1;if(fo(e,i),e.stateNode===null)ou(t,e),BE(e,n,r),$f(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=on(u):(u=At(n)?vi:ft.current,u=Io(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Py(e,s,r,u),cr=!1;var h=e.memoizedState;s.state=h,Nu(e,r,s,i),l=e.memoizedState,a!==r||h!==l||bt.current||cr?(typeof c=="function"&&(Bf(e,n,c,r),l=e.memoizedState),(a=cr||Ry(e,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,FE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:un(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=on(l):(l=At(n)?vi:ft.current,l=Io(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Py(e,s,r,l),cr=!1,h=e.memoizedState,s.state=h,Nu(e,r,s,i);var g=e.memoizedState;a!==d||h!==g||bt.current||cr?(typeof f=="function"&&(Bf(e,n,f,r),g=e.memoizedState),(u=cr||Ry(e,n,u,r,h,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Wf(t,e,n,r,o,i)}function Wf(t,e,n,r,i,o){fI(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Ey(e,n,!1),Zn(t,e,o);r=e.stateNode,jb.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=So(e,t.child,null,o),e.child=So(e,null,a,o)):vt(t,e,a,o),e.memoizedState=r.state,i&&Ey(e,n,!0),e.child}function pI(t){var e=t.stateNode;e.pendingContext?wy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wy(t,e.context,!1),Eg(t,e.containerInfo)}function Vy(t,e,n,r,i){return To(),gg(i),e.flags|=256,vt(t,e,n,r),e.child}var Hf={dehydrated:null,treeContext:null,retryLane:0};function Gf(t){return{baseLanes:t,cachePool:null,transitions:null}}function gI(t,e,n){var r=e.pendingProps,i=Ie.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),fe(Ie,i&1),t===null)return Ff(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Lc(s,r,0,null),t=fi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Gf(n),e.memoizedState=Hf,t):Ag(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return zb(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ar(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ar(a,o):(o=fi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Gf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Hf,r}return o=t.child,t=o.sibling,r=Ar(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ag(t,e){return e=Lc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bl(t,e,n,r){return r!==null&&gg(r),So(e,t.child,null,n),t=Ag(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zb(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ih(Error(A(422))),bl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Lc({mode:"visible",children:r.children},i,0,null),o=fi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&So(e,t.child,null,s),e.child.memoizedState=Gf(s),e.memoizedState=Hf,o);if(!(e.mode&1))return bl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(A(419)),r=Ih(o,r,void 0),bl(t,e,s,r)}if(a=(s&t.childLanes)!==0,Pt||a){if(r=je,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Jn(t,i),pn(r,t,i,-1))}return Lg(),r=Ih(Error(A(421))),bl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nA.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Nt=Cr(i.nextSibling),Mt=e,we=!0,dn=null,t!==null&&(Yt[Xt++]=zn,Yt[Xt++]=Wn,Yt[Xt++]=yi,zn=t.id,Wn=t.overflow,yi=e),e=Ag(e,r.children),e.flags|=4096,e)}function Fy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Uf(t.return,e,n)}function Th(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function mI(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(vt(t,e,r.children,n),r=Ie.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fy(t,n,e);else if(t.tag===19)Fy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(Ie,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ou(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Th(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ou(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Th(e,!0,n,null,o);break;case"together":Th(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ou(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Wb(t,e,n){switch(e.tag){case 3:pI(e),To();break;case 5:zE(e);break;case 1:At(e.type)&&bu(e);break;case 4:Eg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;fe(Du,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(Ie,Ie.current&1),e.flags|=128,null):n&e.child.childLanes?gI(t,e,n):(fe(Ie,Ie.current&1),t=Zn(t,e,n),t!==null?t.sibling:null);fe(Ie,Ie.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(Ie,Ie.current),r)break;return null;case 22:case 23:return e.lanes=0,hI(t,e,n)}return Zn(t,e,n)}var vI,qf,yI,_I;vI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qf=function(){};yI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,si(Pn.current);var o=null;switch(n){case"input":i=gf(t,i),r=gf(t,r),o=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),o=[];break;case"textarea":i=yf(t,i),r=yf(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ru)}wf(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ge("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};_I=function(t,e,n,r){n!==r&&(e.flags|=4)};function as(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function st(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Hb(t,e,n){var r=e.pendingProps;switch(pg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(e),null;case 1:return At(e.type)&&Pu(),st(e),null;case 3:return r=e.stateNode,Co(),ve(bt),ve(ft),Tg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dn!==null&&(tp(dn),dn=null))),qf(t,e),st(e),null;case 5:Ig(e);var i=si(ra.current);if(n=e.type,t!==null&&e.stateNode!=null)yI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return st(e),null}if(t=si(Pn.current),Rl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[En]=e,r[ta]=o,t=(e.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(i=0;i<_s.length;i++)ge(_s[i],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":qv(r,o),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ge("invalid",r);break;case"textarea":Qv(r,o),ge("invalid",r)}wf(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Cl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Cl(r.textContent,a,t),i=["children",""+a]):Hs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ge("scroll",r)}switch(n){case"input":vl(r),Kv(r,o,!0);break;case"textarea":vl(r),Yv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ru)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[En]=e,t[ta]=r,vI(t,e,!1,!1),e.stateNode=t;e:{switch(s=Ef(n,r),n){case"dialog":ge("cancel",t),ge("close",t),i=r;break;case"iframe":case"object":case"embed":ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<_s.length;i++)ge(_s[i],t);i=r;break;case"source":ge("error",t),i=r;break;case"img":case"image":case"link":ge("error",t),ge("load",t),i=r;break;case"details":ge("toggle",t),i=r;break;case"input":qv(t,r),i=gf(t,r),ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),ge("invalid",t);break;case"textarea":Qv(t,r),i=yf(t,r),ge("invalid",t);break;default:i=r}wf(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Qw(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qw(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gs(t,l):typeof l=="number"&&Gs(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ge("scroll",t):l!=null&&Zp(t,o,l,s))}switch(n){case"input":vl(t),Kv(t,r,!1);break;case"textarea":vl(t),Yv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?lo(t,!!r.multiple,o,!1):r.defaultValue!=null&&lo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ru)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return st(e),null;case 6:if(t&&e.stateNode!=null)_I(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=si(ra.current),si(Pn.current),Rl(e)){if(r=e.stateNode,n=e.memoizedProps,r[En]=e,(o=r.nodeValue!==n)&&(t=Mt,t!==null))switch(t.tag){case 3:Cl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[En]=e,e.stateNode=r}return st(e),null;case 13:if(ve(Ie),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&Nt!==null&&e.mode&1&&!(e.flags&128))ME(),To(),e.flags|=98560,o=!1;else if(o=Rl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(A(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(A(317));o[En]=e}else To(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;st(e),o=!1}else dn!==null&&(tp(dn),dn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ie.current&1?Ve===0&&(Ve=3):Lg())),e.updateQueue!==null&&(e.flags|=4),st(e),null);case 4:return Co(),qf(t,e),t===null&&Zs(e.stateNode.containerInfo),st(e),null;case 10:return yg(e.type._context),st(e),null;case 17:return At(e.type)&&Pu(),st(e),null;case 19:if(ve(Ie),o=e.memoizedState,o===null)return st(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)as(o,!1);else{if(Ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ou(t),s!==null){for(e.flags|=128,as(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(Ie,Ie.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ae()>Po&&(e.flags|=128,r=!0,as(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ou(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),as(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!we)return st(e),null}else 2*Ae()-o.renderingStartTime>Po&&n!==1073741824&&(e.flags|=128,r=!0,as(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ae(),e.sibling=null,n=Ie.current,fe(Ie,r?n&1|2:n&1),e):(st(e),null);case 22:case 23:return Og(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kt&1073741824&&(st(e),e.subtreeFlags&6&&(e.flags|=8192)):st(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function Gb(t,e){switch(pg(e),e.tag){case 1:return At(e.type)&&Pu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Co(),ve(bt),ve(ft),Tg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ig(e),null;case 13:if(ve(Ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));To()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(Ie),null;case 4:return Co(),null;case 10:return yg(e.type._context),null;case 22:case 23:return Og(),null;case 24:return null;default:return null}}var Al=!1,ut=!1,qb=typeof WeakSet=="function"?WeakSet:Set,F=null;function oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function Kf(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var Uy=!1;function Kb(t,e){if(Df=Tu,t=TE(),hg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kf={focusedElem:t,selectionRange:n},Tu=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,_=g.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:un(e.type,v),_);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(w){Pe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return g=Uy,Uy=!1,g}function ks(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Kf(e,n,o)}i=i.next}while(i!==r)}}function Nc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wI(t){var e=t.alternate;e!==null&&(t.alternate=null,wI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[En],delete e[ta],delete e[Lf],delete e[xb],delete e[Db])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EI(t){return t.tag===5||t.tag===3||t.tag===4}function By(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ru));else if(r!==4&&(t=t.child,t!==null))for(Yf(t,e,n),t=t.sibling;t!==null;)Yf(t,e,n),t=t.sibling}function Xf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xf(t,e,n),t=t.sibling;t!==null;)Xf(t,e,n),t=t.sibling}var Ye=null,cn=!1;function sr(t,e,n){for(n=n.child;n!==null;)II(t,e,n),n=n.sibling}function II(t,e,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Cc,n)}catch{}switch(n.tag){case 5:ut||oo(n,e);case 6:var r=Ye,i=cn;Ye=null,sr(t,e,n),Ye=r,cn=i,Ye!==null&&(cn?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(cn?(t=Ye,n=n.stateNode,t.nodeType===8?mh(t.parentNode,n):t.nodeType===1&&mh(t,n),Ys(t)):mh(Ye,n.stateNode));break;case 4:r=Ye,i=cn,Ye=n.stateNode.containerInfo,cn=!0,sr(t,e,n),Ye=r,cn=i;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Kf(n,e,s),i=i.next}while(i!==r)}sr(t,e,n);break;case 1:if(!ut&&(oo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pe(n,e,a)}sr(t,e,n);break;case 21:sr(t,e,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,sr(t,e,n),ut=r):sr(t,e,n);break;default:sr(t,e,n)}}function $y(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qb),e.forEach(function(r){var i=rA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,cn=!1;break e;case 3:Ye=a.stateNode.containerInfo,cn=!0;break e;case 4:Ye=a.stateNode.containerInfo,cn=!0;break e}a=a.return}if(Ye===null)throw Error(A(160));II(o,s,i),Ye=null,cn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Pe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)TI(e,t),e=e.sibling}function TI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ln(e,t),_n(t),r&4){try{ks(3,t,t.return),Nc(3,t)}catch(v){Pe(t,t.return,v)}try{ks(5,t,t.return)}catch(v){Pe(t,t.return,v)}}break;case 1:ln(e,t),_n(t),r&512&&n!==null&&oo(n,n.return);break;case 5:if(ln(e,t),_n(t),r&512&&n!==null&&oo(n,n.return),t.flags&32){var i=t.stateNode;try{Gs(i,"")}catch(v){Pe(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Ww(i,o),Ef(a,s);var u=Ef(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?Qw(i,d):c==="dangerouslySetInnerHTML"?qw(i,d):c==="children"?Gs(i,d):Zp(i,c,d,u)}switch(a){case"input":mf(i,o);break;case"textarea":Hw(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?lo(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?lo(i,!!o.multiple,o.defaultValue,!0):lo(i,!!o.multiple,o.multiple?[]:"",!1))}i[ta]=o}catch(v){Pe(t,t.return,v)}}break;case 6:if(ln(e,t),_n(t),r&4){if(t.stateNode===null)throw Error(A(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Pe(t,t.return,v)}}break;case 3:if(ln(e,t),_n(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ys(e.containerInfo)}catch(v){Pe(t,t.return,v)}break;case 4:ln(e,t),_n(t);break;case 13:ln(e,t),_n(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(kg=Ae())),r&4&&$y(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ut=(u=ut)||c,ln(e,t),ut=u):ln(e,t),_n(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(F=t,c=t.child;c!==null;){for(d=F=c;F!==null;){switch(h=F,f=h.child,h.tag){case 0:case 11:case 14:case 15:ks(4,h,h.return);break;case 1:oo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Pe(r,n,v)}}break;case 5:oo(h,h.return);break;case 22:if(h.memoizedState!==null){zy(d);continue}}f!==null?(f.return=h,F=f):zy(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Kw("display",s))}catch(v){Pe(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Pe(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ln(e,t),_n(t),r&4&&$y(t);break;case 21:break;default:ln(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EI(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gs(i,""),r.flags&=-33);var o=By(t);Xf(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=By(t);Yf(t,a,s);break;default:throw Error(A(161))}}catch(l){Pe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qb(t,e,n){F=t,SI(t)}function SI(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var i=F,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Al;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ut;a=Al;var u=ut;if(Al=s,(ut=l)&&!u)for(F=i;F!==null;)s=F,l=s.child,s.tag===22&&s.memoizedState!==null?Wy(i):l!==null?(l.return=s,F=l):Wy(i);for(;o!==null;)F=o,SI(o),o=o.sibling;F=i,Al=a,ut=u}jy(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,F=o):jy(t)}}function jy(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ut||Nc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:un(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Cy(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cy(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ys(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}ut||e.flags&512&&Qf(e)}catch(h){Pe(e,e.return,h)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function zy(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function Wy(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nc(4,e)}catch(l){Pe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Pe(e,i,l)}}var o=e.return;try{Qf(e)}catch(l){Pe(e,o,l)}break;case 5:var s=e.return;try{Qf(e)}catch(l){Pe(e,s,l)}}}catch(l){Pe(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var Yb=Math.ceil,Vu=ir.ReactCurrentDispatcher,xg=ir.ReactCurrentOwner,tn=ir.ReactCurrentBatchConfig,se=0,je=null,Ne=null,tt=0,kt=0,so=Wr(0),Ve=0,aa=null,wi=0,Oc=0,Dg=0,Ns=null,Ct=null,kg=0,Po=1/0,Un=null,Fu=!1,Jf=null,Pr=null,xl=!1,_r=null,Uu=0,Os=0,Zf=null,su=-1,au=0;function wt(){return se&6?Ae():su!==-1?su:su=Ae()}function br(t){return t.mode&1?se&2&&tt!==0?tt&-tt:Nb.transition!==null?(au===0&&(au=aE()),au):(t=ue,t!==0||(t=window.event,t=t===void 0?16:pE(t.type)),t):1}function pn(t,e,n,r){if(50<Os)throw Os=0,Zf=null,Error(A(185));Na(t,n,r),(!(se&2)||t!==je)&&(t===je&&(!(se&2)&&(Oc|=n),Ve===4&&hr(t,tt)),xt(t,r),n===1&&se===0&&!(e.mode&1)&&(Po=Ae()+500,xc&&Hr()))}function xt(t,e){var n=t.callbackNode;NP(t,e);var r=Iu(t,t===je?tt:0);if(r===0)n!==null&&Zv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Zv(n),e===1)t.tag===0?kb(Hy.bind(null,t)):NE(Hy.bind(null,t)),bb(function(){!(se&6)&&Hr()}),n=null;else{switch(lE(r)){case 1:n=ig;break;case 4:n=oE;break;case 16:n=Eu;break;case 536870912:n=sE;break;default:n=Eu}n=kI(n,CI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function CI(t,e){if(su=-1,au=0,se&6)throw Error(A(327));var n=t.callbackNode;if(po()&&t.callbackNode!==n)return null;var r=Iu(t,t===je?tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bu(t,r);else{e=r;var i=se;se|=2;var o=PI();(je!==t||tt!==e)&&(Un=null,Po=Ae()+500,hi(t,e));do try{Zb();break}catch(a){RI(t,a)}while(!0);vg(),Vu.current=o,se=i,Ne!==null?e=0:(je=null,tt=0,e=Ve)}if(e!==0){if(e===2&&(i=Rf(t),i!==0&&(r=i,e=ep(t,i))),e===1)throw n=aa,hi(t,0),hr(t,r),xt(t,Ae()),n;if(e===6)hr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Xb(i)&&(e=Bu(t,r),e===2&&(o=Rf(t),o!==0&&(r=o,e=ep(t,o))),e===1))throw n=aa,hi(t,0),hr(t,r),xt(t,Ae()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:ei(t,Ct,Un);break;case 3:if(hr(t,r),(r&130023424)===r&&(e=kg+500-Ae(),10<e)){if(Iu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Of(ei.bind(null,t,Ct,Un),e);break}ei(t,Ct,Un);break;case 4:if(hr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-fn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yb(r/1960))-r,10<r){t.timeoutHandle=Of(ei.bind(null,t,Ct,Un),r);break}ei(t,Ct,Un);break;case 5:ei(t,Ct,Un);break;default:throw Error(A(329))}}}return xt(t,Ae()),t.callbackNode===n?CI.bind(null,t):null}function ep(t,e){var n=Ns;return t.current.memoizedState.isDehydrated&&(hi(t,e).flags|=256),t=Bu(t,e),t!==2&&(e=Ct,Ct=n,e!==null&&tp(e)),t}function tp(t){Ct===null?Ct=t:Ct.push.apply(Ct,t)}function Xb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!gn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hr(t,e){for(e&=~Dg,e&=~Oc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fn(e),r=1<<n;t[n]=-1,e&=~r}}function Hy(t){if(se&6)throw Error(A(327));po();var e=Iu(t,0);if(!(e&1))return xt(t,Ae()),null;var n=Bu(t,e);if(t.tag!==0&&n===2){var r=Rf(t);r!==0&&(e=r,n=ep(t,r))}if(n===1)throw n=aa,hi(t,0),hr(t,e),xt(t,Ae()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ei(t,Ct,Un),xt(t,Ae()),null}function Ng(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(Po=Ae()+500,xc&&Hr())}}function Ei(t){_r!==null&&_r.tag===0&&!(se&6)&&po();var e=se;se|=1;var n=tn.transition,r=ue;try{if(tn.transition=null,ue=1,t)return t()}finally{ue=r,tn.transition=n,se=e,!(se&6)&&Hr()}}function Og(){kt=so.current,ve(so)}function hi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Pb(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(pg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pu();break;case 3:Co(),ve(bt),ve(ft),Tg();break;case 5:Ig(r);break;case 4:Co();break;case 13:ve(Ie);break;case 19:ve(Ie);break;case 10:yg(r.type._context);break;case 22:case 23:Og()}n=n.return}if(je=t,Ne=t=Ar(t.current,null),tt=kt=e,Ve=0,aa=null,Dg=Oc=wi=0,Ct=Ns=null,oi!==null){for(e=0;e<oi.length;e++)if(n=oi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}oi=null}return t}function RI(t,e){do{var n=Ne;try{if(vg(),ru.current=Mu,Lu){for(var r=Te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lu=!1}if(_i=0,$e=Le=Te=null,Ds=!1,ia=0,xg.current=null,n===null||n.return===null){Ve=1,aa=e,Ne=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=ky(s);if(f!==null){f.flags&=-257,Ny(f,s,a,o,e),f.mode&1&&Dy(o,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){Dy(o,u,e),Lg();break e}l=Error(A(426))}}else if(we&&a.mode&1){var _=ky(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Ny(_,s,a,o,e),gg(Ro(l,a));break e}}o=l=Ro(l,a),Ve!==4&&(Ve=2),Ns===null?Ns=[o]:Ns.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=uI(o,l,e);Sy(o,m);break e;case 1:a=l;var p=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Pr===null||!Pr.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=cI(o,a,e);Sy(o,w);break e}}o=o.return}while(o!==null)}AI(n)}catch(T){e=T,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function PI(){var t=Vu.current;return Vu.current=Mu,t===null?Mu:t}function Lg(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),je===null||!(wi&268435455)&&!(Oc&268435455)||hr(je,tt)}function Bu(t,e){var n=se;se|=2;var r=PI();(je!==t||tt!==e)&&(Un=null,hi(t,e));do try{Jb();break}catch(i){RI(t,i)}while(!0);if(vg(),se=n,Vu.current=r,Ne!==null)throw Error(A(261));return je=null,tt=0,Ve}function Jb(){for(;Ne!==null;)bI(Ne)}function Zb(){for(;Ne!==null&&!SP();)bI(Ne)}function bI(t){var e=DI(t.alternate,t,kt);t.memoizedProps=t.pendingProps,e===null?AI(t):Ne=e,xg.current=null}function AI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Gb(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ve=6,Ne=null;return}}else if(n=Hb(n,e,kt),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);Ve===0&&(Ve=5)}function ei(t,e,n){var r=ue,i=tn.transition;try{tn.transition=null,ue=1,eA(t,e,n,r)}finally{tn.transition=i,ue=r}return null}function eA(t,e,n,r){do po();while(_r!==null);if(se&6)throw Error(A(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(OP(t,o),t===je&&(Ne=je=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xl||(xl=!0,kI(Eu,function(){return po(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=tn.transition,tn.transition=null;var s=ue;ue=1;var a=se;se|=4,xg.current=null,Kb(t,n),TI(n,t),wb(kf),Tu=!!Df,kf=Df=null,t.current=n,Qb(n),CP(),se=a,ue=s,tn.transition=o}else t.current=n;if(xl&&(xl=!1,_r=t,Uu=i),o=t.pendingLanes,o===0&&(Pr=null),bP(n.stateNode),xt(t,Ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fu)throw Fu=!1,t=Jf,Jf=null,t;return Uu&1&&t.tag!==0&&po(),o=t.pendingLanes,o&1?t===Zf?Os++:(Os=0,Zf=t):Os=0,Hr(),null}function po(){if(_r!==null){var t=lE(Uu),e=tn.transition,n=ue;try{if(tn.transition=null,ue=16>t?16:t,_r===null)var r=!1;else{if(t=_r,_r=null,Uu=0,se&6)throw Error(A(331));var i=se;for(se|=4,F=t.current;F!==null;){var o=F,s=o.child;if(F.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:ks(8,c,o)}var d=c.child;if(d!==null)d.return=c,F=d;else for(;F!==null;){c=F;var h=c.sibling,f=c.return;if(wI(c),c===u){F=null;break}if(h!==null){h.return=f,F=h;break}F=f}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}F=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,F=s;else e:for(;F!==null;){if(o=F,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ks(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,F=m;break e}F=o.return}}var p=t.current;for(F=p;F!==null;){s=F;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,F=y;else e:for(s=p;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nc(9,a)}}catch(T){Pe(a,a.return,T)}if(a===s){F=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,F=w;break e}F=a.return}}if(se=i,Hr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Cc,t)}catch{}r=!0}return r}finally{ue=n,tn.transition=e}}return!1}function Gy(t,e,n){e=Ro(n,e),e=uI(t,e,1),t=Rr(t,e,1),e=wt(),t!==null&&(Na(t,1,e),xt(t,e))}function Pe(t,e,n){if(t.tag===3)Gy(t,t,n);else for(;e!==null;){if(e.tag===3){Gy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pr===null||!Pr.has(r))){t=Ro(n,t),t=cI(e,t,1),e=Rr(e,t,1),t=wt(),e!==null&&(Na(e,1,t),xt(e,t));break}}e=e.return}}function tA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wt(),t.pingedLanes|=t.suspendedLanes&n,je===t&&(tt&n)===n&&(Ve===4||Ve===3&&(tt&130023424)===tt&&500>Ae()-kg?hi(t,0):Dg|=n),xt(t,e)}function xI(t,e){e===0&&(t.mode&1?(e=wl,wl<<=1,!(wl&130023424)&&(wl=4194304)):e=1);var n=wt();t=Jn(t,e),t!==null&&(Na(t,e,n),xt(t,n))}function nA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xI(t,n)}function rA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),xI(t,n)}var DI;DI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bt.current)Pt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pt=!1,Wb(t,e,n);Pt=!!(t.flags&131072)}else Pt=!1,we&&e.flags&1048576&&OE(e,xu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ou(t,e),t=e.pendingProps;var i=Io(e,ft.current);fo(e,n),i=Cg(null,e,r,t,i,n);var o=Rg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,At(r)?(o=!0,bu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wg(e),i.updater=Dc,e.stateNode=i,i._reactInternals=e,$f(e,r,t,n),e=Wf(null,e,r,!0,o,n)):(e.tag=0,we&&o&&fg(e),vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ou(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oA(r),t=un(r,t),i){case 0:e=zf(null,e,r,t,n);break e;case 1:e=My(null,e,r,t,n);break e;case 11:e=Oy(null,e,r,t,n);break e;case 14:e=Ly(null,e,r,un(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),zf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),My(t,e,r,i,n);case 3:e:{if(pI(e),t===null)throw Error(A(387));r=e.pendingProps,o=e.memoizedState,i=o.element,FE(t,e),Nu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ro(Error(A(423)),e),e=Vy(t,e,r,n,i);break e}else if(r!==i){i=Ro(Error(A(424)),e),e=Vy(t,e,r,n,i);break e}else for(Nt=Cr(e.stateNode.containerInfo.firstChild),Mt=e,we=!0,dn=null,n=jE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(To(),r===i){e=Zn(t,e,n);break e}vt(t,e,r,n)}e=e.child}return e;case 5:return zE(e),t===null&&Ff(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Nf(r,i)?s=null:o!==null&&Nf(r,o)&&(e.flags|=32),fI(t,e),vt(t,e,s,n),e.child;case 6:return t===null&&Ff(e),null;case 13:return gI(t,e,n);case 4:return Eg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=So(e,null,r,n):vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),Oy(t,e,r,i,n);case 7:return vt(t,e,e.pendingProps,n),e.child;case 8:return vt(t,e,e.pendingProps.children,n),e.child;case 12:return vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,fe(Du,r._currentValue),r._currentValue=s,o!==null)if(gn(o.value,s)){if(o.children===i.children&&!bt.current){e=Zn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Kn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Uf(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(A(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Uf(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fo(e,n),i=on(i),r=r(i),e.flags|=1,vt(t,e,r,n),e.child;case 14:return r=e.type,i=un(r,e.pendingProps),i=un(r.type,i),Ly(t,e,r,i,n);case 15:return dI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:un(r,i),ou(t,e),e.tag=1,At(r)?(t=!0,bu(e)):t=!1,fo(e,n),BE(e,r,i),$f(e,r,i,n),Wf(null,e,r,!0,t,n);case 19:return mI(t,e,n);case 22:return hI(t,e,n)}throw Error(A(156,e.tag))};function kI(t,e){return iE(t,e)}function iA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,r){return new iA(t,e,n,r)}function Mg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oA(t){if(typeof t=="function")return Mg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tg)return 11;if(t===ng)return 14}return 2}function Ar(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Mg(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Yi:return fi(n.children,i,o,e);case eg:s=8,i|=8;break;case df:return t=Zt(12,n,e,i|2),t.elementType=df,t.lanes=o,t;case hf:return t=Zt(13,n,e,i),t.elementType=hf,t.lanes=o,t;case ff:return t=Zt(19,n,e,i),t.elementType=ff,t.lanes=o,t;case $w:return Lc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Uw:s=10;break e;case Bw:s=9;break e;case tg:s=11;break e;case ng:s=14;break e;case ur:s=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=Zt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function fi(t,e,n,r){return t=Zt(7,t,r,e),t.lanes=n,t}function Lc(t,e,n,r){return t=Zt(22,t,r,e),t.elementType=$w,t.lanes=n,t.stateNode={isHidden:!1},t}function Sh(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function Ch(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oh(0),this.expirationTimes=oh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vg(t,e,n,r,i,o,s,a,l){return t=new sA(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Zt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wg(o),t}function aA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function NI(t){if(!t)return Vr;t=t._reactInternals;e:{if(ki(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(At(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(At(n))return kE(t,n,e)}return e}function OI(t,e,n,r,i,o,s,a,l){return t=Vg(n,r,!0,t,i,o,s,a,l),t.context=NI(null),n=t.current,r=wt(),i=br(n),o=Kn(r,i),o.callback=e??null,Rr(n,o,i),t.current.lanes=i,Na(t,i,r),xt(t,r),t}function Mc(t,e,n,r){var i=e.current,o=wt(),s=br(i);return n=NI(n),e.context===null?e.context=n:e.pendingContext=n,e=Kn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rr(i,e,s),t!==null&&(pn(t,i,s,o),nu(t,i,s)),s}function $u(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fg(t,e){qy(t,e),(t=t.alternate)&&qy(t,e)}function lA(){return null}var LI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ug(t){this._internalRoot=t}Vc.prototype.render=Ug.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));Mc(t,e,null,null)};Vc.prototype.unmount=Ug.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ei(function(){Mc(null,t,null,null)}),e[Xn]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var e=dE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<dr.length&&e!==0&&e<dr[n].priority;n++);dr.splice(n,0,t),n===0&&fE(t)}};function Bg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ky(){}function uA(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=$u(s);o.call(u)}}var s=OI(e,r,t,0,null,!1,!1,"",Ky);return t._reactRootContainer=s,t[Xn]=s.current,Zs(t.nodeType===8?t.parentNode:t),Ei(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=$u(l);a.call(u)}}var l=Vg(t,0,!1,null,null,!1,!1,"",Ky);return t._reactRootContainer=l,t[Xn]=l.current,Zs(t.nodeType===8?t.parentNode:t),Ei(function(){Mc(e,l,n,r)}),l}function Uc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=$u(s);a.call(l)}}Mc(e,s,t,i)}else s=uA(n,e,t,i,r);return $u(s)}uE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ys(e.pendingLanes);n!==0&&(og(e,n|1),xt(e,Ae()),!(se&6)&&(Po=Ae()+500,Hr()))}break;case 13:Ei(function(){var r=Jn(t,1);if(r!==null){var i=wt();pn(r,t,1,i)}}),Fg(t,1)}};sg=function(t){if(t.tag===13){var e=Jn(t,134217728);if(e!==null){var n=wt();pn(e,t,134217728,n)}Fg(t,134217728)}};cE=function(t){if(t.tag===13){var e=br(t),n=Jn(t,e);if(n!==null){var r=wt();pn(n,t,e,r)}Fg(t,e)}};dE=function(){return ue};hE=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};Tf=function(t,e,n){switch(e){case"input":if(mf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ac(r);if(!i)throw Error(A(90));zw(r),mf(r,i)}}}break;case"textarea":Hw(t,n);break;case"select":e=n.value,e!=null&&lo(t,!!n.multiple,e,!1)}};Jw=Ng;Zw=Ei;var cA={usingClientEntryPoint:!1,Events:[La,eo,Ac,Yw,Xw,Ng]},ls={findFiberByHostInstance:ii,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},dA={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nE(t),t===null?null:t.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||lA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{Cc=Dl.inject(dA),Rn=Dl}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cA;jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bg(e))throw Error(A(200));return aA(t,e,null,n)};jt.createRoot=function(t,e){if(!Bg(t))throw Error(A(299));var n=!1,r="",i=LI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vg(t,1,!1,null,null,n,!1,r,i),t[Xn]=e.current,Zs(t.nodeType===8?t.parentNode:t),new Ug(e)};jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=nE(e),t=t===null?null:t.stateNode,t};jt.flushSync=function(t){return Ei(t)};jt.hydrate=function(t,e,n){if(!Fc(e))throw Error(A(200));return Uc(null,t,e,!0,n)};jt.hydrateRoot=function(t,e,n){if(!Bg(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=LI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=OI(e,null,t,1,n??null,i,!1,o,s),t[Xn]=e.current,Zs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Vc(e)};jt.render=function(t,e,n){if(!Fc(e))throw Error(A(200));return Uc(null,t,e,!1,n)};jt.unmountComponentAtNode=function(t){if(!Fc(t))throw Error(A(40));return t._reactRootContainer?(Ei(function(){Uc(null,null,t,!1,function(){t._reactRootContainer=null,t[Xn]=null})}),!0):!1};jt.unstable_batchedUpdates=Ng;jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fc(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return Uc(t,e,n,!1,r)};jt.version="18.2.0-next-9e3b772b8-20220608";function MI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MI)}catch(t){console.error(t)}}MI(),Ow.exports=jt;var $g=Ow.exports;const hA=Gp($g);var Qy=$g;uf.createRoot=Qy.createRoot,uf.hydrateRoot=Qy.hydrateRoot;var VI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Yy=Z.createContext&&Z.createContext(VI),fA=["attr","size","title"];function pA(t,e){if(t==null)return{};var n=gA(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ju.apply(this,arguments)}function Xy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xy(Object(n),!0).forEach(function(r){mA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mA(t,e,n){return e=vA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vA(t){var e=yA(t,"string");return typeof e=="symbol"?e:String(e)}function yA(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FI(t){return t&&t.map((e,n)=>Z.createElement(e.tag,zu({key:n},e.attr),FI(e.child)))}function or(t){return e=>Z.createElement(_A,ju({attr:zu({},t.attr)},e),FI(t.child))}function _A(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=pA(t,fA),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Z.createElement("svg",ju({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:zu(zu({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&Z.createElement("title",null,o),t.children)};return Yy!==void 0?Z.createElement(Yy.Consumer,null,n=>e(n)):e(VI)}function wA(t){return or({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function EA(t){return or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464.5 240.9h-6.2c-3.3-21.1-13.3-40.5-28.5-55.2-17.3-16.6-39.8-25.8-63.4-25.8-20.5 0-40 6.7-56.2 19.4-13.8 10.8-24.2 25.1-30.5 41.7-7-4.6-15.4-7.3-23.7-7.3-8.3 0-16.7 2.6-23.7 7.3-6.2-16.6-16.6-30.9-30.5-41.7-16.2-12.7-35.7-19.4-56.2-19.4-23.6 0-46.1 9.1-63.4 25.6C67 200.4 57 219.9 53.7 241h-6.2c-8 0-14.5 6.7-14.5 15s6.5 15 14.5 15h6.2c3.3 21.2 13.3 40.6 28.5 55.3 17.3 16.6 39.8 25.8 63.4 25.8 51.3 0 93.1-43 93.1-95.9v-.2c0-5.9 6.9-14.9 17.3-14.9s17.3 9 17.3 14.9v.1c0 52.9 41.8 95.9 93.1 95.9 23.7 0 46.2-9.1 63.4-25.8 15.2-14.7 25.2-34.2 28.5-55.4h6.2c8 0 14.5-6.7 14.5-15 0-8.1-6.5-14.9-14.5-14.9z"},child:[]}]})(t)}function IA(t){return or({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"152",cy:"184",r:"72"},child:[]},{tag:"path",attr:{d:"M234 296c-28.16-14.3-59.24-20-82-20-44.58 0-136 27.34-136 82v42h150v-16.07c0-19 8-38.05 22-53.93 11.17-12.68 26.81-24.45 46-34z"},child:[]},{tag:"path",attr:{d:"M340 288c-52.07 0-156 32.16-156 96v48h312v-48c0-63.84-103.93-96-156-96z"},child:[]},{tag:"circle",attr:{cx:"340",cy:"168",r:"88"},child:[]}]})(t)}function TA(t){return or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.52.359A.5.5 0 0 1 6 0h4a.5.5 0 0 1 .474.658L8.694 6H12.5a.5.5 0 0 1 .395.807l-7 9a.5.5 0 0 1-.873-.454L6.823 9.5H3.5a.5.5 0 0 1-.48-.641l2.5-8.5z"},child:[]}]})(t)}function SA(t){return or({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"},child:[]}]})(t)}function CA(t){return or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}function RA(t){return or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 8V7l-3 2-3-2v1l3 2 3-2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zM8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1zm8-6h-8V6h8v6z"},child:[]}]})(t)}function PA(t){return or({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"},child:[]}]})(t)}function bA(t){return or({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"},child:[]}]})(t)}var Jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},AA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},BI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,s||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new xA;const h=o<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DA=function(t){const e=UI(t);return BI.encodeByteArray(e,!0)},Wu=function(t){return DA(t).replace(/\./g,"")},$I=function(t){try{return BI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=()=>kA().__FIREBASE_DEFAULTS__,OA=()=>{if(typeof process>"u"||typeof Jy>"u")return;const t=Jy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$I(t[1]);return e&&JSON.parse(e)},Bc=()=>{try{return NA()||OA()||LA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jI=t=>{var e,n;return(n=(e=Bc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zI=t=>{const e=jI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WI=()=>{var t;return(t=Bc())===null||t===void 0?void 0:t.config},HI=t=>{var e;return(e=Bc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wu(JSON.stringify(n)),Wu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function FA(){var t;const e=(t=Bc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $A(){const t=Oe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jA(){return!FA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qI(){try{return typeof indexedDB=="object"}catch{return!1}}function zA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="FirebaseError";class Vn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WA,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Va.prototype.create)}}class Va{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?HA(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Vn(i,a,r)}}function HA(t,e){return t.replace(GA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const GA=/\{\$([^}]+)}/g;function qA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Zy(o)&&Zy(s)){if(!Hu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Zy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ws(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Es(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function KA(t,e){const n=new QA(t,e);return n.subscribe.bind(n)}class QA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rh),i.error===void 0&&(i.error=Rh),i.complete===void 0&&(i.complete=Rh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t){return t&&t._delegate?t._delegate:t}class Fr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XA=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZA(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JA(t){return t===ti?void 0:t}function ZA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const tx={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},nx=ne.INFO,rx={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},ix=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jg{constructor(e){this.name=e,this._logLevel=nx,this._logHandler=ix,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}const ox=(t,e)=>e.some(n=>t instanceof n);let e_,t_;function sx(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ax(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KI=new WeakMap,np=new WeakMap,QI=new WeakMap,Ph=new WeakMap,zg=new WeakMap;function lx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&KI.set(n,t)}).catch(()=>{}),zg.set(e,t),e}function ux(t){if(np.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});np.set(t,e)}let rp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return np.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cx(t){rp=t(rp)}function dx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bh(this),e,...n);return QI.set(r,e.sort?e.sort():[e]),xr(r)}:ax().includes(t)?function(...e){return t.apply(bh(this),e),xr(KI.get(this))}:function(...e){return xr(t.apply(bh(this),e))}}function hx(t){return typeof t=="function"?dx(t):(t instanceof IDBTransaction&&ux(t),ox(t,sx())?new Proxy(t,rp):t)}function xr(t){if(t instanceof IDBRequest)return lx(t);if(Ph.has(t))return Ph.get(t);const e=hx(t);return e!==t&&(Ph.set(t,e),zg.set(e,t)),e}const bh=t=>zg.get(t);function fx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=xr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(xr(s.result),l.oldVersion,l.newVersion,xr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const px=["get","getKey","getAll","getAllKeys","count"],gx=["put","add","delete","clear"],Ah=new Map;function n_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ah.get(e))return Ah.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||px.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ah.set(e,o),o}cx(t=>({...t,get:(e,n,r)=>n_(e,n)||t.get(e,n,r),has:(e,n)=>!!n_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ip="@firebase/app",r_="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new jg("@firebase/app"),yx="@firebase/app-compat",_x="@firebase/analytics-compat",wx="@firebase/analytics",Ex="@firebase/app-check-compat",Ix="@firebase/app-check",Tx="@firebase/auth",Sx="@firebase/auth-compat",Cx="@firebase/database",Rx="@firebase/database-compat",Px="@firebase/functions",bx="@firebase/functions-compat",Ax="@firebase/installations",xx="@firebase/installations-compat",Dx="@firebase/messaging",kx="@firebase/messaging-compat",Nx="@firebase/performance",Ox="@firebase/performance-compat",Lx="@firebase/remote-config",Mx="@firebase/remote-config-compat",Vx="@firebase/storage",Fx="@firebase/storage-compat",Ux="@firebase/firestore",Bx="@firebase/firestore-compat",$x="firebase",jx="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",zx={[ip]:"fire-core",[yx]:"fire-core-compat",[wx]:"fire-analytics",[_x]:"fire-analytics-compat",[Ix]:"fire-app-check",[Ex]:"fire-app-check-compat",[Tx]:"fire-auth",[Sx]:"fire-auth-compat",[Cx]:"fire-rtdb",[Rx]:"fire-rtdb-compat",[Px]:"fire-fn",[bx]:"fire-fn-compat",[Ax]:"fire-iid",[xx]:"fire-iid-compat",[Dx]:"fire-fcm",[kx]:"fire-fcm-compat",[Nx]:"fire-perf",[Ox]:"fire-perf-compat",[Lx]:"fire-rc",[Mx]:"fire-rc-compat",[Vx]:"fire-gcs",[Fx]:"fire-gcs-compat",[Ux]:"fire-fst",[Bx]:"fire-fst-compat","fire-js":"fire-js",[$x]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Map,sp=new Map;function Wx(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ti(t){const e=t.name;if(sp.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;sp.set(e,t);for(const n of Gu.values())Wx(n,t);return!0}function $c(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Dr=new Va("app","Firebase",Hx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=jx;function YI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:op,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=WI()),!n)throw Dr.create("no-options");const o=Gu.get(i);if(o){if(Hu(n,o.options)&&Hu(r,o.config))return o;throw Dr.create("duplicate-app",{appName:i})}const s=new ex(i);for(const l of sp.values())s.addComponent(l);const a=new Gx(n,r,s);return Gu.set(i,a),a}function Wg(t=op){const e=Gu.get(t);if(!e&&t===op&&WI())return YI();if(!e)throw Dr.create("no-app",{appName:t});return e}function bn(t,e,n){var r;let i=(r=zx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(a.join(" "));return}Ti(new Fr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="firebase-heartbeat-database",Kx=1,la="firebase-heartbeat-store";let xh=null;function XI(){return xh||(xh=fx(qx,Kx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(la)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),xh}async function Qx(t){try{const n=(await XI()).transaction(la),r=await n.objectStore(la).get(JI(t));return await n.done,r}catch(e){if(e instanceof Vn)Ii.warn(e.message);else{const n=Dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function i_(t,e){try{const r=(await XI()).transaction(la,"readwrite");await r.objectStore(la).put(e,JI(t)),await r.done}catch(n){if(n instanceof Vn)Ii.warn(n.message);else{const r=Dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(r.message)}}}function JI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=1024,Xx=30*24*60*60*1e3;class Jx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=o_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Xx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=o_(),{heartbeatsToSend:r,unsentEntries:i}=Zx(this._heartbeatsCache.heartbeats),o=Wu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function o_(){return new Date().toISOString().substring(0,10)}function Zx(t,e=Yx){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),s_(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),s_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qI()?zA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Qx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return i_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return i_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function s_(t){return Wu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){Ti(new Fr("platform-logger",e=>new mx(e),"PRIVATE")),Ti(new Fr("heartbeat",e=>new Jx(e),"PRIVATE")),bn(ip,r_,t),bn(ip,r_,"esm2017"),bn("fire-js","")}tD("");var nD="firebase",rD="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn(nD,rD,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="firebasestorage.googleapis.com",e1="storageBucket",iD=2*60*1e3,oD=10*60*1e3,sD=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re extends Vn{constructor(e,n,r=0){super(Dh(e),`Firebase Storage: ${n} (${Dh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Re.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ye;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ye||(ye={}));function Dh(t){return"storage/"+t}function Hg(){const t="An unknown error occurred, please check the error payload for server response.";return new Re(ye.UNKNOWN,t)}function aD(t){return new Re(ye.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function lD(t){return new Re(ye.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Re(ye.UNAUTHENTICATED,t)}function cD(){return new Re(ye.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dD(t){return new Re(ye.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function t1(){return new Re(ye.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function n1(){return new Re(ye.CANCELED,"User canceled the upload/download.")}function hD(t){return new Re(ye.INVALID_URL,"Invalid URL '"+t+"'.")}function fD(t){return new Re(ye.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function pD(){return new Re(ye.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+e1+"' property when initializing the app?")}function r1(){return new Re(ye.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gD(){return new Re(ye.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function mD(){return new Re(ye.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vD(t){return new Re(ye.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ap(t){return new Re(ye.INVALID_ARGUMENT,t)}function i1(){return new Re(ye.APP_DELETED,"The Firebase app was deleted.")}function yD(t){return new Re(ye.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ls(t,e){return new Re(ye.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function us(t){throw new Re(ye.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yt.makeFromUrl(e,n)}catch{return new yt(e,"")}if(r.path==="")return r;throw fD(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},v=n===ZI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",m=new RegExp(`^https?://${v}/${i}/${_}`,"i"),y=[{regex:a,indices:l,postModify:o},{regex:f,indices:g,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<y.length;w++){const T=y[w],S=T.regex.exec(e);if(S){const C=S[T.indices.bucket];let x=S[T.indices.path];x||(x=""),r=new yt(C,x),T.postModify(r);break}}if(r==null)throw hD(e);return r}}class _D{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(..._){u||(u=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(f,l())},_)}function h(){o&&clearTimeout(o)}function f(_,...m){if(u){h();return}if(_){h(),c.call(null,_,...m);return}if(l()||s){h(),c.call(null,_,...m);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,d(y)}let g=!1;function v(_){g||(g=!0,h(),!u&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,v(!0)},n),v}function ED(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){return t!==void 0}function TD(t){return typeof t=="function"}function SD(t){return typeof t=="object"&&!Array.isArray(t)}function jc(t){return typeof t=="string"||t instanceof String}function a_(t){return Gg()&&t instanceof Blob}function Gg(){return typeof Blob<"u"}function lp(t,e,n,r){if(r<e)throw ap(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ap(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function o1(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(pi||(pi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,r,i,o,s,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,g)=>{this.resolve_=f,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new kl(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===pi.NO_ERROR,l=o.getStatus();if(!a||s1(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===pi.ABORT;r(!1,new kl(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new kl(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());ID(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=Hg();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?i1():n1();s(l)}else{const l=t1();s(l)}};this.canceled_?n(!1,new kl(!1,null,!0)):this.backoffId_=wD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ED(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function RD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function PD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function AD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xD(t,e,n,r,i,o,s=!0){const a=o1(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return bD(u,e),RD(u,n),PD(u,o),AD(u,r),new CD(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kD(...t){const e=DD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Gg())return new Blob(t);throw new Re(ye.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ND(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){if(typeof atob>"u")throw vD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kh{constructor(e,n){this.data=e,this.contentType=n||null}}function LD(t,e){switch(t){case Tn.RAW:return new kh(a1(e));case Tn.BASE64:case Tn.BASE64URL:return new kh(l1(t,e));case Tn.DATA_URL:return new kh(VD(e),FD(e))}throw Hg()}function a1(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function MD(t){let e;try{e=decodeURIComponent(t)}catch{throw Ls(Tn.DATA_URL,"Malformed data URL.")}return a1(e)}function l1(t,e){switch(t){case Tn.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Ls(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Tn.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Ls(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=OD(e)}catch(i){throw i.message.includes("polyfill")?i:Ls(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class u1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ls(Tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=UD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function VD(t){const e=new u1(t);return e.base64?l1(Tn.BASE64,e.rest):MD(e.rest)}function FD(t){return new u1(t).contentType}function UD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){let r=0,i="";a_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(a_(this.data_)){const r=this.data_,i=ND(r,e,n);return i===null?null:new fr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new fr(r,!0)}}static getBlob(...e){if(Gg()){const n=e.map(r=>r instanceof fr?r.data_:r);return new fr(kD.apply(null,n))}else{const n=e.map(s=>jc(s)?LD(Tn.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new fr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t){let e;try{e=JSON.parse(t)}catch{return null}return SD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $D(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function c1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t,e){return e}class gt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||jD}}let Nl=null;function zD(t){return!jc(t)||t.length<2?t:c1(t)}function d1(){if(Nl)return Nl;const t=[];t.push(new gt("bucket")),t.push(new gt("generation")),t.push(new gt("metageneration")),t.push(new gt("name","fullPath",!0));function e(o,s){return zD(s)}const n=new gt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new gt("size");return i.xform=r,t.push(i),t.push(new gt("timeCreated")),t.push(new gt("updated")),t.push(new gt("md5Hash",null,!0)),t.push(new gt("cacheControl",null,!0)),t.push(new gt("contentDisposition",null,!0)),t.push(new gt("contentEncoding",null,!0)),t.push(new gt("contentLanguage",null,!0)),t.push(new gt("contentType",null,!0)),t.push(new gt("metadata","customMetadata",!0)),Nl=t,Nl}function WD(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new yt(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function HD(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return WD(r,t),r}function h1(t,e,n){const r=qg(e);return r===null?null:HD(t,r,n)}function GD(t,e,n,r){const i=qg(e);if(i===null||!jc(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+s(c)+"/o/"+s(d),f=Oi(h,n,r),g=o1({alt:"media",token:u});return f+g})[0]}function f1(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="prefixes",u_="items";function qD(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[l_])for(const i of n[l_]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new yt(e,o));r.prefixes.push(s)}if(n[u_])for(const i of n[u_]){const o=t._makeStorageReference(new yt(e,i.name));r.items.push(o)}return r}function KD(t,e,n){const r=qg(n);return r===null?null:qD(t,e,r)}class Gr{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){if(!t)throw Hg()}function Kg(t,e){function n(r,i){const o=h1(t,i,e);return An(o!==null),o}return n}function QD(t,e){function n(r,i){const o=KD(t,e,i);return An(o!==null),o}return n}function YD(t,e){function n(r,i){const o=h1(t,i,e);return An(o!==null),GD(o,i,t.host,t._protocol)}return n}function zo(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=cD():i=uD():n.getStatus()===402?i=lD(t.bucket):n.getStatus()===403?i=dD(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Qg(t){const e=zo(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=aD(t.path)),o.serverResponse=i.serverResponse,o}return n}function XD(t,e,n){const r=e.fullServerUrl(),i=Oi(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Gr(i,o,Kg(t,n),s);return a.errorHandler=Qg(e),a}function JD(t,e,n,r,i){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=e.bucketOnlyServerUrl(),a=Oi(s,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,c=new Gr(a,l,QD(t,e.bucket),u);return c.urlParams=o,c.errorHandler=zo(e),c}function ZD(t,e,n){const r=e.fullServerUrl(),i=Oi(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Gr(i,o,YD(t,n),s);return a.errorHandler=Qg(e),a}function ek(t,e){const n=e.fullServerUrl(),r=Oi(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(l,u){}const a=new Gr(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=Qg(e),a}function tk(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function p1(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=tk(null,e)),r}function nk(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let w=0;w<2;w++)y=y+Math.random().toString().slice(2);return y}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=p1(e,r,i),c=f1(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=fr.getBlob(d,r,h);if(f===null)throw r1();const g={name:u.fullPath},v=Oi(o,t.host,t._protocol),_="POST",m=t.maxUploadRetryTime,p=new Gr(v,_,Kg(t,n),m);return p.urlParams=g,p.headers=s,p.body=f.uploadData(),p.errorHandler=zo(e),p}class qu{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Yg(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{An(!1)}return An(!!n&&(e||["active"]).indexOf(n)!==-1),n}function rk(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=p1(e,r,i),a={name:s.fullPath},l=Oi(o,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},d=f1(s,n),h=t.maxUploadRetryTime;function f(v){Yg(v);let _;try{_=v.getResponseHeader("X-Goog-Upload-URL")}catch{An(!1)}return An(jc(_)),_}const g=new Gr(l,u,f,h);return g.urlParams=a,g.headers=c,g.body=d,g.errorHandler=zo(e),g}function ik(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function o(u){const c=Yg(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{An(!1)}d||An(!1);const h=Number(d);return An(!isNaN(h)),new qu(h,r.size(),c==="final")}const s="POST",a=t.maxUploadRetryTime,l=new Gr(n,s,o,a);return l.headers=i,l.errorHandler=zo(e),l}const c_=256*1024;function ok(t,e,n,r,i,o,s,a){const l=new qu(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw gD();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let f="";c===0?f="finalize":u===c?f="upload, finalize":f="upload";const g={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},v=r.slice(d,h);if(v===null)throw r1();function _(w,T){const S=Yg(w,["active","final"]),C=l.current+c,x=r.size();let V;return S==="final"?V=Kg(e,o)(w,T):V=null,new qu(C,x,S==="final",V)}const m="POST",p=e.maxUploadRetryTime,y=new Gr(n,m,_,p);return y.headers=g,y.body=v.uploadData(),y.progressCallback=a||null,y.errorHandler=zo(t),y}const St={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Nh(t){switch(t){case"running":case"pausing":case"canceling":return St.RUNNING;case"paused":return St.PAUSED;case"success":return St.SUCCESS;case"canceled":return St.CANCELED;case"error":return St.ERROR;default:return St.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,r){if(TD(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class ak{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw us("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw us("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw us("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw us("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw us("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class lk extends ak{initXhr(){this.xhr_.responseType="text"}}function pr(){return new lk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=d1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ye.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(s1(i.status,[]))if(o)i=t1();else{this.sleepTime=Math.max(this.sleepTime*2,sD),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ye.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=rk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,pr,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=ik(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,pr,n,r);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=c_*this._chunkMultiplier,n=new qu(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=ok(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(s,pr,i,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){c_*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=XD(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,pr,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=nk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,pr,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=n1(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Nh(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new sk(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Nh(this._state)){case St.SUCCESS:ji(this._resolve.bind(null,this.snapshot))();break;case St.CANCELED:case St.ERROR:const n=this._reject;ji(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Nh(this._state)){case St.RUNNING:case St.PAUSED:e.next&&ji(e.next.bind(e,this.snapshot))();break;case St.SUCCESS:e.complete&&ji(e.complete.bind(e))();break;case St.CANCELED:case St.ERROR:e.error&&ji(e.error.bind(e,this._error))();break;default:e.error&&ji(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n){this._service=e,n instanceof yt?this._location=n:this._location=yt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Si(e,n)}get root(){const e=new yt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return c1(this._location.path)}get storage(){return this._service}get parent(){const e=BD(this._location.path);if(e===null)return null;const n=new yt(this._location.bucket,e);return new Si(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yD(e)}}function ck(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new uk(t,new fr(e),n)}function dk(t){const e={prefixes:[],items:[]};return g1(t,e).then(()=>e)}async function g1(t,e,n){const i=await hk(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await g1(t,e,i.nextPageToken)}function hk(t,e){e!=null&&typeof e.maxResults=="number"&&lp("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=JD(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,pr)}function fk(t){t._throwIfRoot("getDownloadURL");const e=ZD(t.storage,t._location,d1());return t.storage.makeRequestWithTokens(e,pr).then(n=>{if(n===null)throw mD();return n})}function pk(t){t._throwIfRoot("deleteObject");const e=ek(t.storage,t._location);return t.storage.makeRequestWithTokens(e,pr)}function gk(t,e){const n=$D(t._location.path,e),r=new yt(t._location.bucket,n);return new Si(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t){return/^[A-Za-z]+:\/\//.test(t)}function vk(t,e){return new Si(t,e)}function m1(t,e){if(t instanceof Xg){const n=t;if(n._bucket==null)throw pD();const r=new Si(n,n._bucket);return e!=null?m1(r,e):r}else return e!==void 0?gk(t,e):t}function yk(t,e){if(e&&mk(e)){if(t instanceof Xg)return vk(t,e);throw ap("To use ref(service, url), the first argument must be a Storage instance.")}else return m1(t,e)}function d_(t,e){const n=e==null?void 0:e[e1];return n==null?null:yt.makeFromBucketSpec(n,t)}function _k(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:GI(i,t.app.options.projectId))}class Xg{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=ZI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iD,this._maxUploadRetryTime=oD,this._requests=new Set,i!=null?this._bucket=yt.makeFromBucketSpec(i,this._host):this._bucket=d_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yt.makeFromBucketSpec(this._url,e):this._bucket=d_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Si(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new _D(i1());{const s=xD(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const h_="@firebase/storage",f_="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="storage";function wk(t,e,n){return t=xe(t),ck(t,e,n)}function Ek(t){return t=xe(t),dk(t)}function Ik(t){return t=xe(t),fk(t)}function p_(t){return t=xe(t),pk(t)}function Ol(t,e){return t=xe(t),yk(t,e)}function Tk(t=Wg(),e){t=xe(t);const r=$c(t,v1).getImmediate({identifier:e}),i=zI("storage");return i&&Sk(r,...i),r}function Sk(t,e,n,r={}){_k(t,e,n,r)}function Ck(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Xg(n,r,i,e,Ni)}function Rk(){Ti(new Fr(v1,Ck,"PUBLIC").setMultipleInstances(!0)),bn(h_,f_,""),bn(h_,f_,"esm2017")}Rk();var Pk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,Jg=Jg||{},Y=Pk||self;function zc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ua(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function bk(t){return Object.prototype.hasOwnProperty.call(t,Oh)&&t[Oh]||(t[Oh]=++Ak)}var Oh="closure_uid_"+(1e9*Math.random()>>>0),Ak=0;function xk(t,e,n){return t.call.apply(t.bind,arguments)}function Dk(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dt=xk:dt=Dk,dt.apply(null,arguments)}function Ll(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ge(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function qr(){this.s=this.s,this.o=this.o}var kk=0;qr.prototype.s=!1;qr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),kk!=0)&&bk(this)};qr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const y1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Zg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function g_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(zc(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var Nk=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Y.addEventListener("test",n,e),Y.removeEventListener("test",n,e)}catch{}return t}();function ua(t){return/^[\s\xa0]*$/.test(t)}function Wc(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function In(t){return Wc().indexOf(t)!=-1}function em(t){return em[" "](t),t}em[" "]=function(){};function Ok(t,e){var n=RN;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Lk=In("Opera"),bo=In("Trident")||In("MSIE"),_1=In("Edge"),up=_1||bo,w1=In("Gecko")&&!(Wc().toLowerCase().indexOf("webkit")!=-1&&!In("Edge"))&&!(In("Trident")||In("MSIE"))&&!In("Edge"),Mk=Wc().toLowerCase().indexOf("webkit")!=-1&&!In("Edge");function E1(){var t=Y.document;return t?t.documentMode:void 0}var cp;e:{var Lh="",Mh=function(){var t=Wc();if(w1)return/rv:([^\);]+)(\)|;)/.exec(t);if(_1)return/Edge\/([\d\.]+)/.exec(t);if(bo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Mk)return/WebKit\/(\S+)/.exec(t);if(Lk)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Mh&&(Lh=Mh?Mh[1]:""),bo){var Vh=E1();if(Vh!=null&&Vh>parseFloat(Lh)){cp=String(Vh);break e}}cp=Lh}var dp;if(Y.document&&bo){var m_=E1();dp=m_||parseInt(cp,10)||void 0}else dp=void 0;var Vk=dp;function ca(t,e){if(ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(w1){e:{try{em(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Fk[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ca.$.h.call(this)}}Ge(ca,ht);var Fk={2:"touch",3:"pen",4:"mouse"};ca.prototype.h=function(){ca.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ba="closure_listenable_"+(1e6*Math.random()|0),Uk=0;function Bk(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Uk,this.fa=this.ia=!1}function Hc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function tm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function $k(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function I1(t){const e={};for(const n in t)e[n]=t[n];return e}const v_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T1(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<v_.length;o++)n=v_[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Gc(t){this.src=t,this.g={},this.h=0}Gc.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=fp(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new Bk(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function hp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=y1(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Hc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function fp(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var nm="closure_lm_"+(1e6*Math.random()|0),Fh={};function S1(t,e,n,r,i){if(r&&r.once)return R1(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)S1(t,e[o],n,r,i);return null}return n=om(n),t&&t[Ba]?t.O(e,n,Ua(r)?!!r.capture:!!r,i):C1(t,e,n,!1,r,i)}function C1(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ua(i)?!!i.capture:!!i,a=im(t);if(a||(t[nm]=a=new Gc(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=jk(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Nk||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(b1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function jk(){function t(n){return e.call(t.src,t.listener,n)}const e=zk;return t}function R1(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)R1(t,e[o],n,r,i);return null}return n=om(n),t&&t[Ba]?t.P(e,n,Ua(r)?!!r.capture:!!r,i):C1(t,e,n,!0,r,i)}function P1(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)P1(t,e[o],n,r,i);else r=Ua(r)?!!r.capture:!!r,n=om(n),t&&t[Ba]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=fp(o,n,r,i),-1<n&&(Hc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=im(t))&&(e=t.g[e.toString()],t=-1,e&&(t=fp(e,n,r,i)),(n=-1<t?e[t]:null)&&rm(n))}function rm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ba])hp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(b1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=im(e))?(hp(n,t),n.h==0&&(n.src=null,e[nm]=null)):Hc(t)}}}function b1(t){return t in Fh?Fh[t]:Fh[t]="on"+t}function zk(t,e){if(t.fa)t=!0;else{e=new ca(e,this);var n=t.listener,r=t.la||t.src;t.ia&&rm(t),t=n.call(r,e)}return t}function im(t){return t=t[nm],t instanceof Gc?t:null}var Uh="__closure_events_fn_"+(1e9*Math.random()>>>0);function om(t){return typeof t=="function"?t:(t[Uh]||(t[Uh]=function(e){return t.handleEvent(e)}),t[Uh])}function We(){qr.call(this),this.i=new Gc(this),this.S=this,this.J=null}Ge(We,qr);We.prototype[Ba]=!0;We.prototype.removeEventListener=function(t,e,n,r){P1(this,t,e,n,r)};function nt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ht(e,t);else if(e instanceof ht)e.target=e.target||t;else{var i=e;e=new ht(r,t),T1(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Ml(s,r,!0,e)&&i}if(s=e.g=t,i=Ml(s,r,!0,e)&&i,i=Ml(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Ml(s,r,!1,e)&&i}We.prototype.N=function(){if(We.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hc(n[r]);delete t.g[e],t.h--}}this.J=null};We.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};We.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ml(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&hp(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var sm=Y.JSON.stringify;class Wk{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Hk(){var t=am;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Gk{constructor(){this.h=this.g=null}add(e,n){const r=A1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var A1=new Wk(()=>new qk,t=>t.reset());class qk{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Kk(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Qk(t){Y.setTimeout(()=>{throw t},0)}let da,ha=!1,am=new Gk,x1=()=>{const t=Y.Promise.resolve(void 0);da=()=>{t.then(Yk)}};var Yk=()=>{for(var t;t=Hk();){try{t.h.call(t.g)}catch(n){Qk(n)}var e=A1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ha=!1};function qc(t,e){We.call(this),this.h=t||1,this.g=e||Y,this.j=dt(this.qb,this),this.l=Date.now()}Ge(qc,We);M=qc.prototype;M.ga=!1;M.T=null;M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),nt(this,"tick"),this.ga&&(lm(this),this.start()))}};M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function lm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}M.N=function(){qc.$.N.call(this),lm(this),delete this.g};function um(t,e,n){if(typeof t=="function")n&&(t=dt(t,n));else if(t&&typeof t.handleEvent=="function")t=dt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function D1(t){t.g=um(()=>{t.g=null,t.i&&(t.i=!1,D1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Xk extends qr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:D1(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fa(t){qr.call(this),this.h=t,this.g={}}Ge(fa,qr);var y_=[];function k1(t,e,n,r){Array.isArray(n)||(n&&(y_[0]=n.toString()),n=y_);for(var i=0;i<n.length;i++){var o=S1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function N1(t){tm(t.g,function(e,n){this.g.hasOwnProperty(n)&&rm(e)},t),t.g={}}fa.prototype.N=function(){fa.$.N.call(this),N1(this)};fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Kc(){this.g=!0}Kc.prototype.Ea=function(){this.g=!1};function Jk(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function Zk(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function ao(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+tN(t,n)+(r?" "+r:"")})}function eN(t,e){t.info(function(){return"TIMEOUT: "+e})}Kc.prototype.info=function(){};function tN(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return sm(n)}catch{return e}}var Li={},__=null;function Qc(){return __=__||new We}Li.Ta="serverreachability";function O1(t){ht.call(this,Li.Ta,t)}Ge(O1,ht);function pa(t){const e=Qc();nt(e,new O1(e))}Li.STAT_EVENT="statevent";function L1(t,e){ht.call(this,Li.STAT_EVENT,t),this.stat=e}Ge(L1,ht);function _t(t){const e=Qc();nt(e,new L1(e,t))}Li.Ua="timingevent";function M1(t,e){ht.call(this,Li.Ua,t),this.size=e}Ge(M1,ht);function $a(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}var Yc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},V1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cm(){}cm.prototype.h=null;function w_(t){return t.h||(t.h=t.i())}function F1(){}var ja={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dm(){ht.call(this,"d")}Ge(dm,ht);function hm(){ht.call(this,"c")}Ge(hm,ht);var pp;function Xc(){}Ge(Xc,cm);Xc.prototype.g=function(){return new XMLHttpRequest};Xc.prototype.i=function(){return{}};pp=new Xc;function za(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new fa(this),this.P=nN,t=up?125:void 0,this.V=new qc(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new U1}function U1(){this.i=null,this.g="",this.h=!1}var nN=45e3,B1={},gp={};M=za.prototype;M.setTimeout=function(t){this.P=t};function mp(t,e,n){t.L=1,t.A=Zc(er(e)),t.u=n,t.S=!0,$1(t,null)}function $1(t,e){t.G=Date.now(),Wa(t),t.B=er(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),Q1(n.i,"t",r),t.o=0,n=t.l.J,t.h=new U1,t.g=mT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Xk(dt(t.Pa,t,t.g),t.O)),k1(t.U,t.g,"readystatechange",t.nb),e=t.I?I1(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),pa(),Jk(t.j,t.v,t.B,t.m,t.W,t.u)}M.nb=function(t){t=t.target;const e=this.M;e&&Sn(t)==3?e.l():this.Pa(t)};M.Pa=function(t){try{if(t==this.g)e:{const c=Sn(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||up||this.g&&(this.h.h||this.g.ja()||S_(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?pa(3):pa(2)),Jc(this);var n=this.g.da();this.ca=n;t:if(j1(this)){var r=S_(this.g);t="";var i=r.length,o=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ai(this),Ms(this);var s="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,Zk(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ua(a)){var u=a;break t}}u=null}if(n=u)ao(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vp(this,n);else{this.i=!1,this.s=3,_t(12),ai(this),Ms(this);break e}}this.S?(z1(this,c,s),up&&this.i&&c==3&&(k1(this.U,this.V,"tick",this.mb),this.V.start())):(ao(this.j,this.m,s,null),vp(this,s)),c==4&&ai(this),this.i&&!this.J&&(c==4?hT(this.l,this):(this.i=!1,Wa(this)))}else TN(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),ai(this),Ms(this)}}}catch{}finally{}};function j1(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function z1(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=rN(t,n),i==gp){e==4&&(t.s=4,_t(14),r=!1),ao(t.j,t.m,null,"[Incomplete Response]");break}else if(i==B1){t.s=4,_t(15),ao(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ao(t.j,t.m,i,null),vp(t,i);j1(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,_t(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ym(e),e.M=!0,_t(11))):(ao(t.j,t.m,n,"[Invalid Chunked Response]"),ai(t),Ms(t))}M.mb=function(){if(this.g){var t=Sn(this.g),e=this.g.ja();this.o<e.length&&(Jc(this),z1(this,t,e),this.i&&t!=4&&Wa(this))}};function rN(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?gp:(n=Number(e.substring(n,r)),isNaN(n)?B1:(r+=1,r+n>e.length?gp:(e=e.slice(r,r+n),t.o=r+n,e)))}M.cancel=function(){this.J=!0,ai(this)};function Wa(t){t.Y=Date.now()+t.P,W1(t,t.P)}function W1(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=$a(dt(t.lb,t),e)}function Jc(t){t.C&&(Y.clearTimeout(t.C),t.C=null)}M.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(eN(this.j,this.B),this.L!=2&&(pa(),_t(17)),ai(this),this.s=2,Ms(this)):W1(this,this.Y-t)};function Ms(t){t.l.H==0||t.J||hT(t.l,t)}function ai(t){Jc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,lm(t.V),N1(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function vp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||yp(n.i,t))){if(!t.K&&yp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Yu(n),rd(n);else break e;vm(n),_t(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=$a(dt(n.ib,n),6e3));if(1>=J1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else li(n,11)}else if((t.K||n.g==t)&&Yu(n),!ua(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var o=r.i;o.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(fm(o,o.h),o.h=null))}if(r.F){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,me(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=gT(r,r.J?r.pa:null,r.Y),s.K){Z1(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Jc(a),Wa(a)),r.g=s}else cT(r);0<n.j.length&&id(n)}else u[0]!="stop"&&u[0]!="close"||li(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?li(n,7):mm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}pa(4)}catch{}}function iN(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(zc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function oN(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(zc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function H1(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(zc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=oN(t),r=iN(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var G1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sN(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function gi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof gi){this.h=t.h,Ku(this,t.j),this.s=t.s,this.g=t.g,Qu(this,t.m),this.l=t.l;var e=t.i,n=new ga;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),E_(this,n),this.o=t.o}else t&&(e=String(t).match(G1))?(this.h=!1,Ku(this,e[1]||"",!0),this.s=Is(e[2]||""),this.g=Is(e[3]||"",!0),Qu(this,e[4]),this.l=Is(e[5]||"",!0),E_(this,e[6]||"",!0),this.o=Is(e[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}gi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ts(e,I_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ts(e,I_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ts(n,n.charAt(0)=="/"?uN:lN,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ts(n,dN)),t.join("")};function er(t){return new gi(t)}function Ku(t,e,n){t.j=n?Is(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Qu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function E_(t,e,n){e instanceof ga?(t.i=e,hN(t.i,t.h)):(n||(e=Ts(e,cN)),t.i=new ga(e,t.h))}function me(t,e,n){t.i.set(e,n)}function Zc(t){return me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Is(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ts(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,aN),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function aN(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var I_=/[#\/\?@]/g,lN=/[#\?:]/g,uN=/[#\?]/g,cN=/[#\?@]/g,dN=/#/g;function ga(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Kr(t){t.g||(t.g=new Map,t.h=0,t.i&&sN(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}M=ga.prototype;M.add=function(t,e){Kr(this),this.i=null,t=Wo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function q1(t,e){Kr(t),e=Wo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function K1(t,e){return Kr(t),e=Wo(t,e),t.g.has(e)}M.forEach=function(t,e){Kr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};M.ta=function(){Kr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};M.Z=function(t){Kr(this);let e=[];if(typeof t=="string")K1(this,t)&&(e=e.concat(this.g.get(Wo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};M.set=function(t,e){return Kr(this),this.i=null,t=Wo(this,t),K1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};M.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Q1(t,e,n){q1(t,e),0<n.length&&(t.i=null,t.g.set(Wo(t,e),Zg(n)),t.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Wo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function hN(t,e){e&&!t.j&&(Kr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(q1(this,r),Q1(this,i,n))},t)),t.j=e}var fN=class{constructor(t,e){this.g=t,this.map=e}};function Y1(t){this.l=t||pN,Y.PerformanceNavigationTiming?(t=Y.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pN=10;function X1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function J1(t){return t.h?1:t.g?t.g.size:0}function yp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function fm(t,e){t.g?t.g.add(e):t.h=e}function Z1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Y1.prototype.cancel=function(){if(this.i=eT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function eT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Zg(t.i)}var gN=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function mN(){this.g=new gN}function vN(t,e,n){const r=n||"";try{H1(t,function(i,o){let s=i;Ua(i)&&(s=sm(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yN(t,e){const n=new Kc;if(Y.Image){const r=new Image;r.onload=Ll(Vl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ll(Vl,n,r,"TestLoadImage: error",!1,e),r.onabort=Ll(Vl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ll(Vl,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Vl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ed(t){this.l=t.ec||null,this.j=t.ob||!1}Ge(ed,cm);ed.prototype.g=function(){return new td(this.l,this.j)};ed.prototype.i=function(t){return function(){return t}}({});function td(t,e){We.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=pm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ge(td,We);var pm=0;M=td.prototype;M.open=function(t,e){if(this.readyState!=pm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ma(this)};M.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=pm};M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function tT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ha(this):ma(this),this.readyState==3&&tT(this)}};M.Za=function(t){this.g&&(this.response=this.responseText=t,Ha(this))};M.Ya=function(t){this.g&&(this.response=t,Ha(this))};M.ka=function(){this.g&&Ha(this)};function Ha(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ma(t)}M.setRequestHeader=function(t,e){this.v.append(t,e)};M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ma(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(td.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var _N=Y.JSON.parse;function be(t){We.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=nT,this.L=this.M=!1}Ge(be,We);var nT="",wN=/^https?$/i,EN=["POST","PUT"];M=be.prototype;M.Oa=function(t){this.M=t};M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pp.g(),this.C=this.u?w_(this.u):w_(pp),this.g.onreadystatechange=dt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){T_(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Y.FormData&&t instanceof Y.FormData,!(0<=y1(EN,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{oT(this),0<this.B&&((this.L=IN(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dt(this.ua,this)):this.A=um(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){T_(this,o)}};function IN(t){return bo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}M.ua=function(){typeof Jg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nt(this,"timeout"),this.abort(8))};function T_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,rT(t),nd(t)}function rT(t){t.F||(t.F=!0,nt(t,"complete"),nt(t,"error"))}M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,nt(this,"complete"),nt(this,"abort"),nd(this))};M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nd(this,!0)),be.$.N.call(this)};M.La=function(){this.s||(this.G||this.v||this.l?iT(this):this.kb())};M.kb=function(){iT(this)};function iT(t){if(t.h&&typeof Jg<"u"&&(!t.C[1]||Sn(t)!=4||t.da()!=2)){if(t.v&&Sn(t)==4)um(t.La,0,t);else if(nt(t,"readystatechange"),Sn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(G1)[1]||null;!i&&Y.self&&Y.self.location&&(i=Y.self.location.protocol.slice(0,-1)),r=!wN.test(i?i.toLowerCase():"")}n=r}if(n)nt(t,"complete"),nt(t,"success");else{t.m=6;try{var o=2<Sn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",rT(t)}}finally{nd(t)}}}}function nd(t,e){if(t.g){oT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||nt(t,"ready");try{n.onreadystatechange=r}catch{}}}function oT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}M.isActive=function(){return!!this.g};function Sn(t){return t.g?t.g.readyState:0}M.da=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}};M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),_N(e)}};function S_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case nT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function TN(t){const e={};t=(t.g&&2<=Sn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ua(t[r]))continue;var n=Kk(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}$k(e,function(r){return r.join(", ")})}M.Ia=function(){return this.m};M.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function sT(t){let e="";return tm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function gm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=sT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):me(t,e,n))}function cs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function aT(t){this.Ga=0,this.j=[],this.l=new Kc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cs("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cs("baseRetryDelayMs",5e3,t),this.hb=cs("retryDelaySeedMs",1e4,t),this.eb=cs("forwardChannelMaxRetries",2,t),this.xa=cs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Y1(t&&t.concurrentRequestLimit),this.Ja=new mN,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}M=aT.prototype;M.ra=8;M.H=1;function mm(t){if(lT(t),t.H==3){var e=t.W++,n=er(t.I);if(me(n,"SID",t.K),me(n,"RID",e),me(n,"TYPE","terminate"),Ga(t,n),e=new za(t,t.l,e),e.L=2,e.A=Zc(er(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Y.Image&&(new Image().src=e.A,n=!0),n||(e.g=mT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Wa(e)}pT(t)}function rd(t){t.g&&(ym(t),t.g.cancel(),t.g=null)}function lT(t){rd(t),t.u&&(Y.clearTimeout(t.u),t.u=null),Yu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Y.clearTimeout(t.m),t.m=null)}function id(t){if(!X1(t.i)&&!t.m){t.m=!0;var e=t.Na;da||x1(),ha||(da(),ha=!0),am.add(e,t),t.C=0}}function SN(t,e){return J1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=$a(dt(t.Na,t,e),fT(t,t.C)),t.C++,!0)}M.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new za(this,this.l,t);let o=this.s;if(this.U&&(o?(o=I1(o),T1(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=uT(this,i,e),n=er(this.I),me(n,"RID",t),me(n,"CVER",22),this.F&&me(n,"X-HTTP-Session-Id",this.F),Ga(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(sT(o)))+"&"+e:this.o&&gm(n,this.o,o)),fm(this.i,i),this.bb&&me(n,"TYPE","init"),this.P?(me(n,"$req",e),me(n,"SID","null"),i.aa=!0,mp(i,n,null)):mp(i,n,e),this.H=2}}else this.H==3&&(t?C_(this,t):this.j.length==0||X1(this.i)||C_(this))};function C_(t,e){var n;e?n=e.m:n=t.W++;const r=er(t.I);me(r,"SID",t.K),me(r,"RID",n),me(r,"AID",t.V),Ga(t,r),t.o&&t.s&&gm(r,t.o,t.s),n=new za(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=uT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),fm(t.i,n),mp(n,r,e)}function Ga(t,e){t.na&&tm(t.na,function(n,r){me(e,r,n)}),t.h&&H1({},function(n,r){me(e,r,n)})}function uT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{vN(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function cT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;da||x1(),ha||(da(),ha=!0),am.add(e,t),t.A=0}}function vm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=$a(dt(t.Ma,t),fT(t,t.A)),t.A++,!0)}M.Ma=function(){if(this.u=null,dT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=$a(dt(this.jb,this),t)}};M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_t(10),rd(this),dT(this))};function ym(t){t.B!=null&&(Y.clearTimeout(t.B),t.B=null)}function dT(t){t.g=new za(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=er(t.wa);me(e,"RID","rpc"),me(e,"SID",t.K),me(e,"AID",t.V),me(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&me(e,"TO",t.qa),me(e,"TYPE","xmlhttp"),Ga(t,e),t.o&&t.s&&gm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Zc(er(e)),n.u=null,n.S=!0,$1(n,t)}M.ib=function(){this.v!=null&&(this.v=null,rd(this),vm(this),_t(19))};function Yu(t){t.v!=null&&(Y.clearTimeout(t.v),t.v=null)}function hT(t,e){var n=null;if(t.g==e){Yu(t),ym(t),t.g=null;var r=2}else if(yp(t.i,e))n=e.F,Z1(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Qc(),nt(r,new M1(r,n)),id(t)}else cT(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&SN(t,e)||r==2&&vm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:li(t,5);break;case 4:li(t,10);break;case 3:li(t,6);break;default:li(t,2)}}}function fT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function li(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=dt(t.pb,t);n||(n=new gi("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||Ku(n,"https"),Zc(n)),yN(n.toString(),r)}else _t(2);t.H=0,t.h&&t.h.za(e),pT(t),lT(t)}M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),_t(2)):(this.l.info("Failed to ping google.com"),_t(1))};function pT(t){if(t.H=0,t.ma=[],t.h){const e=eT(t.i);(e.length!=0||t.j.length!=0)&&(g_(t.ma,e),g_(t.ma,t.j),t.i.i.length=0,Zg(t.j),t.j.length=0),t.h.ya()}}function gT(t,e,n){var r=n instanceof gi?er(n):new gi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Qu(r,r.m);else{var i=Y.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new gi(null);r&&Ku(o,r),e&&(o.g=e),i&&Qu(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&me(r,n,e),me(r,"VER",t.ra),Ga(t,r),r}function mT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new be(new ed({ob:n})):new be(t.va),e.Oa(t.J),e}M.isActive=function(){return!!this.h&&this.h.isActive(this)};function vT(){}M=vT.prototype;M.Ba=function(){};M.Aa=function(){};M.za=function(){};M.ya=function(){};M.isActive=function(){return!0};M.Va=function(){};function Xu(){if(bo&&!(10<=Number(Vk)))throw Error("Environmental error: no available transport.")}Xu.prototype.g=function(t,e){return new $t(t,e)};function $t(t,e){We.call(this),this.g=new aT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ua(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ua(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ho(this)}Ge($t,We);$t.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;_t(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=gT(t,null,t.Y),id(t)};$t.prototype.close=function(){mm(this.g)};$t.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=sm(t),t=n);e.j.push(new fN(e.fb++,t)),e.H==3&&id(e)};$t.prototype.N=function(){this.g.h=null,delete this.j,mm(this.g),delete this.g,$t.$.N.call(this)};function yT(t){dm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ge(yT,dm);function _T(){hm.call(this),this.status=1}Ge(_T,hm);function Ho(t){this.g=t}Ge(Ho,vT);Ho.prototype.Ba=function(){nt(this.g,"a")};Ho.prototype.Aa=function(t){nt(this.g,new yT(t))};Ho.prototype.za=function(t){nt(this.g,new _T)};Ho.prototype.ya=function(){nt(this.g,"b")};function CN(){this.blockSize=-1}function mn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ge(mn,CN);mn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Bh(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}mn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Bh(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Bh(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Bh(this,r),i=0;break}}this.h=i,this.i+=e};mn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var RN={};function _m(t){return-128<=t&&128>t?Ok(t,function(e){return new ce([e|0],0>e?-1:0)}):new ce([t|0],0>t?-1:0)}function Cn(t){if(isNaN(t)||!isFinite(t))return go;if(0>t)return Je(Cn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=_p;return new ce(e,0)}function wT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Je(wT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Cn(Math.pow(e,8)),r=go,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Cn(Math.pow(e,o)),r=r.R(o).add(Cn(s))):(r=r.R(n),r=r.add(Cn(s)))}return r}var _p=4294967296,go=_m(0),wp=_m(1),R_=_m(16777216);M=ce.prototype;M.ea=function(){if(Jt(this))return-Je(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:_p+r)*e,e*=_p}return t};M.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Hn(this))return"0";if(Jt(this))return"-"+Je(this).toString(t);for(var e=Cn(Math.pow(t,6)),n=this,r="";;){var i=Zu(n,e).g;n=Ju(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Hn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Hn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Jt(t){return t.h==-1}M.X=function(t){return t=Ju(this,t),Jt(t)?-1:Hn(t)?0:1};function Je(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ce(n,~t.h).add(wp)}M.abs=function(){return Jt(this)?Je(this):this};M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new ce(n,n[n.length-1]&-2147483648?-1:0)};function Ju(t,e){return t.add(Je(e))}M.R=function(t){if(Hn(this)||Hn(t))return go;if(Jt(this))return Jt(t)?Je(this).R(Je(t)):Je(Je(this).R(t));if(Jt(t))return Je(this.R(Je(t)));if(0>this.X(R_)&&0>t.X(R_))return Cn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Fl(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Fl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Fl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Fl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ce(n,0)};function Fl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ds(t,e){this.g=t,this.h=e}function Zu(t,e){if(Hn(e))throw Error("division by zero");if(Hn(t))return new ds(go,go);if(Jt(t))return e=Zu(Je(t),e),new ds(Je(e.g),Je(e.h));if(Jt(e))return e=Zu(t,Je(e)),new ds(Je(e.g),e.h);if(30<t.g.length){if(Jt(t)||Jt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=wp,r=e;0>=r.X(t);)n=P_(n),r=P_(r);var i=zi(n,1),o=zi(r,1);for(r=zi(r,2),n=zi(n,2);!Hn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=zi(r,1),n=zi(n,1)}return e=Ju(t,i.R(e)),new ds(i,e)}for(i=go;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Cn(n),s=o.R(e);Jt(s)||0<s.X(t);)n-=r,o=Cn(n),s=o.R(e);Hn(o)&&(o=wp),i=i.add(o),t=Ju(t,s)}return new ds(i,t)}M.gb=function(t){return Zu(this,t).h};M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ce(n,this.h&t.h)};M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ce(n,this.h|t.h)};M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ce(n,this.h^t.h)};function P_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ce(n,t.h)}function zi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new ce(i,t.h)}Xu.prototype.createWebChannel=Xu.prototype.g;$t.prototype.send=$t.prototype.u;$t.prototype.open=$t.prototype.m;$t.prototype.close=$t.prototype.close;Yc.NO_ERROR=0;Yc.TIMEOUT=8;Yc.HTTP_ERROR=6;V1.COMPLETE="complete";F1.EventType=ja;ja.OPEN="a";ja.CLOSE="b";ja.ERROR="c";ja.MESSAGE="d";We.prototype.listen=We.prototype.O;be.prototype.listenOnce=be.prototype.P;be.prototype.getLastError=be.prototype.Sa;be.prototype.getLastErrorCode=be.prototype.Ia;be.prototype.getStatus=be.prototype.da;be.prototype.getResponseJson=be.prototype.Wa;be.prototype.getResponseText=be.prototype.ja;be.prototype.send=be.prototype.ha;be.prototype.setWithCredentials=be.prototype.Oa;mn.prototype.digest=mn.prototype.l;mn.prototype.reset=mn.prototype.reset;mn.prototype.update=mn.prototype.j;ce.prototype.add=ce.prototype.add;ce.prototype.multiply=ce.prototype.R;ce.prototype.modulo=ce.prototype.gb;ce.prototype.compare=ce.prototype.X;ce.prototype.toNumber=ce.prototype.ea;ce.prototype.toString=ce.prototype.toString;ce.prototype.getBits=ce.prototype.D;ce.fromNumber=Cn;ce.fromString=wT;var PN=function(){return new Xu},bN=function(){return Qc()},$h=Yc,AN=V1,xN=Li,b_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ul=F1,DN=be,kN=mn,mo=ce;const A_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new jg("@firebase/firestore");function hs(){return Ci.logLevel}function L(t,...e){if(Ci.logLevel<=ne.DEBUG){const n=e.map(wm);Ci.debug(`Firestore (${Go}): ${t}`,...n)}}function On(t,...e){if(Ci.logLevel<=ne.ERROR){const n=e.map(wm);Ci.error(`Firestore (${Go}): ${t}`,...n)}}function Ao(t,...e){if(Ci.logLevel<=ne.WARN){const n=e.map(wm);Ci.warn(`Firestore (${Go}): ${t}`,...n)}}function wm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+t;throw On(e),new Error(e)}function pe(t,e){t||Q()}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends Vn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}}class ON{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LN{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string"),new ET(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string"),new lt(e)}}class MN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class VN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new MN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string"),this.R=n.token,new FN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=BN(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.timestamp=e}static fromTimestamp(e){return new X(e)}static min(){return new X(new Fe(0,0))}static max(){return new X(new Fe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return va.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof va?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ee extends va{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new U(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const $N=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends va{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return $N.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new U(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new U(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new U(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.path=e}static fromPath(e){return new z(Ee.fromString(e))}static fromName(e){return new z(Ee.fromString(e).popFirst(5))}static empty(){return new z(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new Ee(e.slice()))}}function jN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new Ur(i,z.empty(),e)}function zN(t){return new Ur(t.readTime,t.key,-1)}class Ur{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ur(X.min(),z.empty(),-1)}static max(){return new Ur(X.max(),z.empty(),-1)}}function WN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==HN)throw t;L("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new R((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Qn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Vs(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Im(r.target.error);this.V.reject(new Vs(e,i))}}static open(e,n,r,i){try{return new Em(n,e.transaction(i,r))}catch(o){throw new Vs(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(L("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new KN(n)}}class ui{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ui.S(Oe())===12.2&&On("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return L("SimpleDb","Removing database:",e),ri(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!qI())return!1;if(ui.C())return!0;const e=Oe(),n=ui.S(e),r=0<n&&n<10,i=ui.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(L("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new Vs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new U(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new U(b.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Vs(e,s))},i.onupgradeneeded=o=>{L("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{L("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=Em.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),R.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(L("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class qN{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ri(this.k.delete())}}class Vs extends U{constructor(e,n){super(b.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ka(t){return t.name==="IndexedDbTransactionError"}class KN{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(L("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(L("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ri(r)}add(e){return L("SimpleDb","ADD",this.store.name,e,e),ri(this.store.add(e))}get(e){return ri(this.store.get(e)).next(n=>(n===void 0&&(n=null),L("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return L("SimpleDb","DELETE",this.store.name,e),ri(this.store.delete(e))}count(){return L("SimpleDb","COUNT",this.store.name),ri(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new R((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new R((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){L("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new R((r,i)=>{n.onerror=o=>{const s=Im(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new R((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new qN(a),u=n(a.primaryKey,a.value,l);if(u instanceof R){const c=u.catch(d=>(l.done(),R.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>R.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ri(t){return new R((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Im(r.target.error);n(i)}})}let x_=!1;function Im(t){const e=ui.S(Oe());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new U("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return x_||(x_=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Tm._e=-1;function od(t){return t==null}function ec(t){return t===0&&1/t==-1/0}function QN(t){return typeof t=="number"&&Number.isInteger(t)&&!ec(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){this.comparator=e,this.root=n||Xe.EMPTY}insert(e,n){return new Ce(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(e){return new Ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bl(this.root,e,this.comparator,!0)}}class Bl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xe{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Xe.RED,this.left=i??Xe.EMPTY,this.right=o??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Xe(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Xe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Xe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new Ot([])}unionWith(e){let n=new rt(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ot(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ST("Invalid base64 string: "+o):o}}(e);return new pt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const YN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(t){if(pe(!!t),typeof t=="string"){let e=0;const n=YN.exec(t);if(pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ri(t){return typeof t=="string"?pt.fromBase64String(t):pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Cm(t){const e=t.mapValue.fields.__previous_value__;return Sm(e)?Cm(e):e}function ya(t){const e=Br(t.mapValue.fields.__local_write_time__.timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class _a{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _a("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _a&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sm(t)?4:JN(t)?9007199254740991:10:Q()}function Ln(t,e){if(t===e)return!0;const n=Pi(t);if(n!==Pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ya(t).isEqual(ya(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Br(i.timestampValue),a=Br(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ri(i.bytesValue).isEqual(Ri(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ke(i.doubleValue),a=ke(o.doubleValue);return s===a?ec(s)===ec(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return xo(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(D_(s)!==D_(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Ln(s[l],a[l])))return!1;return!0}(t,e);default:return Q()}}function wa(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function Do(t,e){if(t===e)return 0;const n=Pi(t),r=Pi(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ke(o.integerValue||o.doubleValue),l=ke(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return N_(t.timestampValue,e.timestampValue);case 4:return N_(ya(t),ya(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ri(o),l=Ri(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=le(a[u],l[u]);if(c!==0)return c}return le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=le(ke(o.latitude),ke(s.latitude));return a!==0?a:le(ke(o.longitude),ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Do(a[u],l[u]);if(c)return c}return le(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===$l.mapValue&&s===$l.mapValue)return 0;if(o===$l.mapValue)return 1;if(s===$l.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=le(l[d],c[d]);if(h!==0)return h;const f=Do(a[l[d]],u[c[d]]);if(f!==0)return f}return le(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Q()}}function N_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=Br(t),r=Br(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function ko(t){return Ep(t)}function Ep(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Br(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ri(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Ep(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Ep(n.fields[s])}`;return i+"}"}(t.mapValue):Q()}function Ip(t){return!!t&&"integerValue"in t}function Rm(t){return!!t&&"arrayValue"in t}function O_(t){return!!t&&"nullValue"in t}function L_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uu(t){return!!t&&"mapValue"in t}function Fs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Mi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function JN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fs(n)}setAll(e){let n=Ze.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Fs(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];uu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Mi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Rt(Fs(this.value))}}function CT(t){const e=[];return Mi(t.fields,(n,r)=>{const i=new Ze([n]);if(uu(r)){const o=CT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ot(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ct(e,0,X.min(),X.min(),X.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,i){return new ct(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new ct(e,2,n,X.min(),X.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new ct(e,3,n,X.min(),X.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.position=e,this.inclusive=n}}function M_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=Do(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function V_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{}class Me extends RT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new tO(e,n,r):n==="array-contains"?new iO(e,r):n==="in"?new oO(e,r):n==="not-in"?new sO(e,r):n==="array-contains-any"?new aO(e,r):new Me(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new nO(e,r):new rO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Do(n,this.value)):n!==null&&Pi(this.value)===Pi(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends RT{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Mn(e,n)}matches(e){return PT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function PT(t){return t.op==="and"}function bT(t){return eO(t)&&PT(t)}function eO(t){for(const e of t.filters)if(e instanceof Mn)return!1;return!0}function Tp(t){if(t instanceof Me)return t.field.canonicalString()+t.op.toString()+ko(t.value);if(bT(t))return t.filters.map(e=>Tp(e)).join(",");{const e=t.filters.map(n=>Tp(n)).join(",");return`${t.op}(${e})`}}function AT(t,e){return t instanceof Me?function(r,i){return i instanceof Me&&r.op===i.op&&r.field.isEqual(i.field)&&Ln(r.value,i.value)}(t,e):t instanceof Mn?function(r,i){return i instanceof Mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&AT(s,i.filters[a]),!0):!1}(t,e):void Q()}function xT(t){return t instanceof Me?function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`}(t):t instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map(xT).join(" ,")+"}"}(t):"Filter"}class tO extends Me{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){const n=z.comparator(e.key,this.key);return this.matchesComparison(n)}}class nO extends Me{constructor(e,n){super(e,"in",n),this.keys=DT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rO extends Me{constructor(e,n){super(e,"not-in",n),this.keys=DT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}class iO extends Me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rm(n)&&wa(n.arrayValue,this.value)}}class oO extends Me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wa(this.value.arrayValue,n)}}class sO extends Me{constructor(e,n){super(e,"not-in",n)}matches(e){if(wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wa(this.value.arrayValue,n)}}class aO extends Me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function F_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new lO(t,e,n,r,i,o,s)}function Pm(t){const e=J(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Tp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ko(r)).join(",")),e.ce=n}return e.ce}function bm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V_(t.startAt,e.startAt)&&V_(t.endAt,e.endAt)}function Sp(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function uO(t,e,n,r,i,o,s,a){return new sd(t,e,n,r,i,o,s,a)}function kT(t){return new sd(t)}function U_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cO(t){return t.collectionGroup!==null}function Us(t){const e=J(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new rt(Ze.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new nc(o,r))}),n.has(Ze.keyField().canonicalString())||e.le.push(new nc(Ze.keyField(),r))}return e.le}function xn(t){const e=J(t);return e.he||(e.he=dO(e,Us(t))),e.he}function dO(t,e){if(t.limitType==="F")return F_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new nc(i.field,o)});const n=t.endAt?new tc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tc(t.startAt.position,t.startAt.inclusive):null;return F_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cp(t,e,n){return new sd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ad(t,e){return bm(xn(t),xn(e))&&t.limitType===e.limitType}function NT(t){return`${Pm(xn(t))}|lt:${t.limitType}`}function Hi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xT(i)).join(", ")}]`),od(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ko(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ko(i)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function ld(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Us(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=M_(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Us(r),i)||r.endAt&&!function(s,a,l){const u=M_(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Us(r),i))}(t,e)}function hO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OT(t){return(e,n)=>{let r=!1;for(const i of Us(t)){const o=fO(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function fO(t,e,n){const r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Do(l,u):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return TT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new Ce(z.comparator);function tr(){return pO}const LT=new Ce(z.comparator);function Ss(...t){let e=LT;for(const n of t)e=e.insert(n.key,n);return e}function MT(t){let e=LT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ci(){return Bs()}function VT(){return Bs()}function Bs(){return new qo(t=>t.toString(),(t,e)=>t.isEqual(e))}const gO=new Ce(z.comparator),mO=new rt(z.comparator);function ee(...t){let e=mO;for(const n of t)e=e.add(n);return e}const vO=new rt(le);function yO(){return vO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function UT(t){return{integerValue:""+t}}function _O(t,e){return QN(e)?UT(e):FT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this._=void 0}}function wO(t,e,n){return t instanceof rc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Sm(o)&&(o=Cm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ea?$T(t,e):t instanceof Ia?jT(t,e):function(i,o){const s=BT(i,o),a=B_(s)+B_(i.Ie);return Ip(s)&&Ip(i.Ie)?UT(a):FT(i.serializer,a)}(t,e)}function EO(t,e,n){return t instanceof Ea?$T(t,e):t instanceof Ia?jT(t,e):n}function BT(t,e){return t instanceof ic?function(r){return Ip(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class rc extends ud{}class Ea extends ud{constructor(e){super(),this.elements=e}}function $T(t,e){const n=zT(e);for(const r of t.elements)n.some(i=>Ln(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ia extends ud{constructor(e){super(),this.elements=e}}function jT(t,e){let n=zT(e);for(const r of t.elements)n=n.filter(i=>!Ln(i,r));return{arrayValue:{values:n}}}class ic extends ud{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function B_(t){return ke(t.integerValue||t.doubleValue)}function zT(t){return Rm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function IO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ea&&i instanceof Ea||r instanceof Ia&&i instanceof Ia?xo(r.elements,i.elements,Ln):r instanceof ic&&i instanceof ic?Ln(r.Ie,i.Ie):r instanceof rc&&i instanceof rc}(t.transform,e.transform)}class TO{constructor(e,n){this.version=e,this.transformResults=n}}class nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nn}static exists(e){return new nn(void 0,e)}static updateTime(e){return new nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cd{}function WT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Am(t.key,nn.none()):new Qa(t.key,t.data,nn.none());{const n=t.data,r=Rt.empty();let i=new rt(Ze.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Qr(t.key,r,new Ot(i.toArray()),nn.none())}}function SO(t,e,n){t instanceof Qa?function(i,o,s){const a=i.value.clone(),l=j_(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Qr?function(i,o,s){if(!cu(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=j_(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(HT(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function $s(t,e,n,r){return t instanceof Qa?function(o,s,a,l){if(!cu(o.precondition,s))return a;const u=o.value.clone(),c=z_(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qr?function(o,s,a,l){if(!cu(o.precondition,s))return a;const u=z_(o.fieldTransforms,l,s),c=s.data;return c.setAll(HT(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return cu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function CO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=BT(r.transform,i||null);o!=null&&(n===null&&(n=Rt.empty()),n.set(r.field,o))}return n||null}function $_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xo(r,i,(o,s)=>IO(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qa extends cd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qr extends cd{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function HT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function j_(t,e,n){const r=new Map;pe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,EO(s,a,n[i]))}return r}function z_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,wO(o,s,e))}return r}class Am extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RO extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&SO(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$s(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$s(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=WT(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,r)=>$_(n,r))&&xo(this.baseMutations,e.baseMutations,(n,r)=>$_(n,r))}}class xm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pe(e.mutations.length===r.length);let i=function(){return gO}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new xm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,ie;function xO(t){switch(t){default:return Q();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function GT(t){if(t===void 0)return On("GRPC error has no .code"),b.UNKNOWN;switch(t){case De.OK:return b.OK;case De.CANCELLED:return b.CANCELLED;case De.UNKNOWN:return b.UNKNOWN;case De.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case De.INTERNAL:return b.INTERNAL;case De.UNAVAILABLE:return b.UNAVAILABLE;case De.UNAUTHENTICATED:return b.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case De.NOT_FOUND:return b.NOT_FOUND;case De.ALREADY_EXISTS:return b.ALREADY_EXISTS;case De.PERMISSION_DENIED:return b.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case De.ABORTED:return b.ABORTED;case De.OUT_OF_RANGE:return b.OUT_OF_RANGE;case De.UNIMPLEMENTED:return b.UNIMPLEMENTED;case De.DATA_LOSS:return b.DATA_LOSS;default:return Q()}}(ie=De||(De={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new mo([4294967295,4294967295],0);function W_(t){const e=DO().encode(t),n=new kN;return n.update(e),new Uint8Array(n.digest())}function H_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mo([n,r],0),new mo([i,o],0)]}class Dm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cs(`Invalid padding: ${n}`);if(r<0)throw new Cs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cs(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=mo.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(mo.fromNumber(r)));return i.compare(kO)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=W_(e),[r,i]=H_(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Dm(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=W_(e),[r,i]=H_(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ya.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dd(X.min(),i,new Ce(le),tr(),ee())}}class Ya{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ya(r,n,ee(),ee(),ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class qT{constructor(e,n){this.targetId=e,this.fe=n}}class KT{constructor(e,n,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class G_{constructor(){this.ge=0,this.pe=K_(),this.ye=pt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ee(),n=ee(),r=ee();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new Ya(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=K_()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,pe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class NO{constructor(e){this.Le=e,this.ke=new Map,this.qe=tr(),this.Qe=q_(),this.Ke=new Ce(le)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Sp(o))if(r===0){const s=new z(o.path);this.We(n,s,ct.newNoDocument(s,X.min()))}else pe(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ri(r).toUint8Array()}catch(l){if(l instanceof ST)return Ao("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Dm(s,i,o)}catch(l){return Ao(l instanceof Cs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Sp(a.target)){const l=new z(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,ct.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ee();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new dd(e,n,this.Ke,this.qe,r);return this.qe=tr(),this.Qe=q_(),this.Ke=new Ce(le),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new G_,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new rt(le),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new G_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function q_(){return new Ce(z.comparator)}function K_(){return new Ce(z.comparator)}const OO={asc:"ASCENDING",desc:"DESCENDING"},LO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MO={and:"AND",or:"OR"};class VO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rp(t,e){return t.useProto3Json||od(e)?e:{value:e}}function oc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FO(t,e){return oc(t,e.toTimestamp())}function Dn(t){return pe(!!t),X.fromTimestamp(function(n){const r=Br(n);return new Fe(r.seconds,r.nanos)}(t))}function km(t,e){return Pp(t,e).canonicalString()}function Pp(t,e){const n=function(i){return new Ee(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function YT(t){const e=Ee.fromString(t);return pe(tS(e)),e}function bp(t,e){return km(t.databaseId,e.path)}function jh(t,e){const n=YT(e);if(n.get(1)!==t.databaseId.projectId)throw new U(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(JT(n))}function XT(t,e){return km(t.databaseId,e)}function UO(t){const e=YT(t);return e.length===4?Ee.emptyPath():JT(e)}function Ap(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JT(t){return pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Q_(t,e,n){return{name:bp(t,e),fields:n.value.mapValue.fields}}function BO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(pe(c===void 0||typeof c=="string"),pt.fromBase64String(c||"")):(pe(c===void 0||c instanceof Uint8Array),pt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?b.UNKNOWN:GT(u.code);return new U(c,u.message||"")}(s);n=new KT(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jh(t,r.document.name),o=Dn(r.document.updateTime),s=r.document.createTime?Dn(r.document.createTime):X.min(),a=new Rt({mapValue:{fields:r.document.fields}}),l=ct.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new du(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jh(t,r.document),o=r.readTime?Dn(r.readTime):X.min(),s=ct.newNoDocument(i,o),a=r.removedTargetIds||[];n=new du([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jh(t,r.document),o=r.removedTargetIds||[];n=new du([],o,i,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new AO(i,o),a=r.targetId;n=new qT(a,s)}}return n}function $O(t,e){let n;if(e instanceof Qa)n={update:Q_(t,e.key,e.value)};else if(e instanceof Am)n={delete:bp(t,e.key)};else if(e instanceof Qr)n={update:Q_(t,e.key,e.data),updateMask:YO(e.fieldMask)};else{if(!(e instanceof RO))return Q();n={verify:bp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof rc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ea)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ia)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ic)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:FO(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(t,e.precondition)),n}function jO(t,e){return t&&t.length>0?(pe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Dn(i.updateTime):Dn(o);return s.isEqual(X.min())&&(s=Dn(o)),new TO(s,i.transformResults||[])}(n,e))):[]}function zO(t,e){return{documents:[XT(t,e.path)]}}function WO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XT(t,i);const o=function(u){if(u.length!==0)return eS(Mn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Gi(h.field),direction:qO(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Rp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function HO(t){let e=UO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=ZT(d);return h instanceof Mn&&bT(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(g){return new nc(qi(g.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,od(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new tc(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new tc(f,h)}(n.endAt)),uO(e,i,s,o,a,"F",l,u)}function GO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qi(n.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qi(n.unaryFilter.field);return Me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qi(n.unaryFilter.field);return Me.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qi(n.unaryFilter.field);return Me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return Me.create(qi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(r=>ZT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function qO(t){return OO[t]}function KO(t){return LO[t]}function QO(t){return MO[t]}function Gi(t){return{fieldPath:t.canonicalString()}}function qi(t){return Ze.fromServerFormat(t.fieldPath)}function eS(t){return t instanceof Me?function(n){if(n.op==="=="){if(L_(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NAN"}};if(O_(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(L_(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NOT_NAN"}};if(O_(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gi(n.field),op:KO(n.op),value:n.value}}}(t):t instanceof Mn?function(n){const r=n.getFilters().map(i=>eS(i));return r.length===1?r[0]:{compositeFilter:{op:QO(n.op),filters:r}}}(t):Q()}function YO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n,r,i,o=X.min(),s=X.min(),a=pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.ct=e}}function JO(t){const e=HO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this._n=new e2}addToCollectionParentIndex(e,n){return this._n.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(Ur.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class e2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rt(Ee.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rt(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new No(0)}static Bn(){return new No(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.changes=new qo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$s(r.mutation,i,Ot.empty(),Fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const i=ci();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ss();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=tr();const s=Bs(),a=function(){return Bs()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Qr)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),$s(c.mutation,u,c.mutation.getFieldMask(),Fe.now())):s.set(u.key,Ot.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new n2(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Bs();let i=new Ce((s,a)=>s-a),o=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ot.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ee()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=VT();c.forEach(h=>{if(!o.has(h)){const f=WT(n.get(h),r.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return R.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):R.resolve(ci());let a=-1,l=o;return s.next(u=>R.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?R.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ee())).next(c=>({batchId:a,changes:MT(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=Ss();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ss();return this.indexManager.getCollectionParents(e,o).next(a=>R.forEach(a,l=>{const u=function(d,h){return new sd(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,ct.newInvalidDocument(c)))});let a=Ss();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&$s(c.mutation,u,Ot.empty(),Fe.now()),ld(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return R.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Dn(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:JO(i.bundledQuery),readTime:Dn(i.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.overlays=new Ce(z.comparator),this.hr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ci();return R.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=ci(),o=n.length+1,s=new z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ce((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=ci(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ci(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return R.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new bO(n,r));let o=this.hr.get(n);o===void 0&&(o=ee(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this.Pr=new rt(Be.Ir),this.Tr=new rt(Be.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Be(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Be(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new z(new Ee([])),r=new Be(n,e),i=new Be(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new z(new Ee([])),r=new Be(n,e),i=new Be(n,e+1);let o=ee();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Be(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Be{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return z.comparator(e.key,n.key)||le(e.pr,n.pr)}static Er(e,n){return le(e.pr,n.pr)||z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new rt(Be.Ir)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new PO(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Be(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(s)}lookupMutationBatch(e,n){return R.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(le);return n.forEach(i=>{const o=new Be(i,0),s=new Be(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),R.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;z.isDocumentKey(o)||(o=o.child(""));const s=new Be(new z(o),0);let a=new rt(le);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),R.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return R.forEach(n.mutations,i=>{const o=new Be(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Be(n,0),i=this.wr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.vr=e,this.docs=function(){return new Ce(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():ct.newInvalidDocument(n))}getEntries(e,n){let r=tr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ct.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=tr();const s=n.path,a=new z(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||WN(zN(c),r)<=0||(i.has(c.key)||ld(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q()}Fr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new l2(this)}getSize(e){return R.resolve(this.size)}}class l2 extends t2{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.persistence=e,this.Mr=new qo(n=>Pm(n),bm),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Nm,this.targetCount=0,this.Br=No.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),R.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new No(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.qn(n),R.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(o).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Tm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new u2(this),this.indexManager=new ZO,this.remoteDocumentCache=function(i){return new a2(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new XO(n),this.$r=new i2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new o2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new s2(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);const i=new d2(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return R.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class d2 extends GN{constructor(e){super(),this.currentSequenceNumber=e}}class Om{constructor(e){this.persistence=e,this.zr=new Nm,this.jr=null}static Hr(e){return new Om(e)}get Jr(){if(this.jr)return this.jr;throw Q()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),R.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Jr,r=>{const i=z.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,X.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return R.or([()=>R.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ee(),i=ee();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Lm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return jA()?8:ui.v(Oe())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new h2;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(hs()<=ne.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Hi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),R.resolve()):(hs()<=ne.DEBUG&&L("QueryEngine","Query:",Hi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(hs()<=ne.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Hi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):R.resolve())}ji(e,n){if(U_(n))return R.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cp(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ee(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,Cp(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return U_(n)||i.isEqual(X.min())?R.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?R.resolve(null):(hs()<=ne.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hi(n)),this.es(e,s,n,jN(i,-1)).next(a=>a))})}Zi(e,n){let r=new rt(OT(e));return n.forEach((i,o)=>{ld(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return hs()<=ne.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Hi(n)),this.zi.getDocumentsMatchingQuery(e,n,Ur.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ce(le),this.rs=new qo(o=>Pm(o),bm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function g2(t,e,n,r){return new p2(t,e,n,r)}async function nS(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ee();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function m2(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=R.resolve();return h.forEach(g=>{f=f.next(()=>c.getEntry(l,g)).next(v=>{const _=u.docVersions.get(g);pe(_!==null),v.version.compareTo(_)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rS(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function v2(t,e){const n=J(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(pt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(v,_,m){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&a.push(n.Qr.updateTargetData(o,f))});let l=tr(),u=ee();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(y2(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(X.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return R.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function y2(t,e,n){let r=ee(),i=ee();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=tr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(X.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function _2(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function w2(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,R.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new wr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function xp(t,e,n){const r=J(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ka(s))throw s;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Y_(t,e,n){const r=J(t);let i=X.min(),o=ee();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=J(l),h=d.rs.get(c);return h!==void 0?R.resolve(d.ns.get(h)):d.Qr.getTargetData(u,c)}(r,s,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:X.min(),n?o:ee())).next(a=>(E2(r,hO(e),a),{documents:a,hs:o})))}function E2(t,e,n){let r=t.ss.get(e)||X.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class X_{constructor(){this.activeTargetIds=yO()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I2{constructor(){this.no=new X_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new X_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl=null;function zh(){return jl===null?jl=function(){return 268435456+Math.round(2147483648*Math.random())}():jl++,"0x"+jl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at="WebChannelConnection";class R2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=zh(),l=this.bo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(L("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ao("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=S2[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=zh();return new Promise((s,a)=>{const l=new DN;l.setWithCredentials(!0),l.listenOnce(AN.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case $h.NO_ERROR:const c=l.getResponseJson();L(at,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case $h.TIMEOUT:L(at,`RPC '${e}' ${o} timed out`),a(new U(b.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const d=l.getStatus();if(L(at,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const g=function(_){const m=_.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(m)>=0?m:b.UNKNOWN}(f.status);a(new U(g,f.message))}else a(new U(b.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new U(b.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{L(at,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);L(at,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=zh(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=PN(),a=bN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");L(at,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,f=!1;const g=new C2({lo:_=>{f?L(at,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(L(at,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),L(at,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),v=(_,m,p)=>{_.listen(m,y=>{try{p(y)}catch(w){setTimeout(()=>{throw w},0)}})};return v(d,Ul.EventType.OPEN,()=>{f||L(at,`RPC '${e}' stream ${i} transport opened.`)}),v(d,Ul.EventType.CLOSE,()=>{f||(f=!0,L(at,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),v(d,Ul.EventType.ERROR,_=>{f||(f=!0,Ao(at,`RPC '${e}' stream ${i} transport errored:`,_),g.Vo(new U(b.UNAVAILABLE,"The operation could not be completed")))}),v(d,Ul.EventType.MESSAGE,_=>{var m;if(!f){const p=_.data[0];pe(!!p);const y=p,w=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(w){L(at,`RPC '${e}' stream ${i} received error:`,w);const T=w.status;let S=function(V){const P=De[V];if(P!==void 0)return GT(P)}(T),C=w.message;S===void 0&&(S=b.INTERNAL,C="Unknown error status: "+T+" with message "+w.message),f=!0,g.Vo(new U(S,C)),d.close()}else L(at,`RPC '${e}' stream ${i} received:`,p),g.mo(p)}}),v(a,xN.STAT_EVENT,_=>{_.stat===b_.PROXY?L(at,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===b_.NOPROXY&&L(at,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function Wh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t){return new VO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new iS(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(On(n.toString()),On("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new U(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P2 extends oS{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=BO(this.serializer,e),r=function(o){if(!("targetChange"in o))return X.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?Dn(s.readTime):X.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Ap(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Sp(l)?{documents:zO(o,l)}:{query:WO(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=QT(o,s.resumeToken);const u=Rp(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(X.min())>0){a.readTime=oc(o,s.snapshotVersion.toTimestamp());const u=Rp(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=GO(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Ap(this.serializer),n.removeTarget=e,this.t_(n)}}class b2 extends oS{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=jO(e.writeResults,e.commitTime),r=Dn(e.commitTime);return this.listener.T_(r,n)}return pe(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Ap(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$O(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new U(b.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Pp(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(b.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,Pp(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(b.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class x2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(On(n),this.g_=!1):L("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{Vi(this)&&(L("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=J(l);u.v_.add(4),await Xa(u),u.x_.set("Unknown"),u.v_.delete(4),await fd(u)}(this))})}),this.x_=new x2(r,i)}}async function fd(t){if(Vi(t))for(const e of t.F_)await e(!0)}async function Xa(t){for(const e of t.F_)await e(!1)}function sS(t,e){const n=J(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Fm(n)?Vm(n):Ko(n).Jo()&&Mm(n,e))}function aS(t,e){const n=J(t),r=Ko(n);n.C_.delete(e),r.Jo()&&lS(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Vi(n)&&n.x_.set("Unknown"))}function Mm(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ko(t).c_(e)}function lS(t,e){t.O_.Oe(e),Ko(t).l_(e)}function Vm(t){t.O_=new NO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ko(t).start(),t.x_.p_()}function Fm(t){return Vi(t)&&!Ko(t).Ho()&&t.C_.size>0}function Vi(t){return J(t).v_.size===0}function uS(t){t.O_=void 0}async function k2(t){t.C_.forEach((e,n)=>{Mm(t,e)})}async function N2(t,e){uS(t),Fm(t)?(t.x_.S_(e),Vm(t)):t.x_.set("Unknown")}async function O2(t,e,n){if(t.x_.set("Online"),e instanceof KT&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sc(t,r)}else if(e instanceof du?t.O_.$e(e):e instanceof qT?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(X.min()))try{const r=await rS(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(pt.EMPTY_BYTE_STRING,c.snapshotVersion)),lS(o,l);const d=new wr(c.target,l,u,c.sequenceNumber);Mm(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){L("RemoteStore","Failed to raise snapshot:",r),await sc(t,r)}}async function sc(t,e,n){if(!Ka(e))throw e;t.v_.add(1),await Xa(t),t.x_.set("Offline"),n||(n=()=>rS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{L("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await fd(t)})}function cS(t,e){return e().catch(n=>sc(t,n,e))}async function pd(t){const e=J(t),n=$r(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;L2(e);)try{const i=await _2(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,M2(e,i)}catch(i){await sc(e,i)}dS(e)&&hS(e)}function L2(t){return Vi(t)&&t.D_.length<10}function M2(t,e){t.D_.push(e);const n=$r(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function dS(t){return Vi(t)&&!$r(t).Ho()&&t.D_.length>0}function hS(t){$r(t).start()}async function V2(t){$r(t).d_()}async function F2(t){const e=$r(t);for(const n of t.D_)e.I_(n.mutations)}async function U2(t,e,n){const r=t.D_.shift(),i=xm.from(r,e,n);await cS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await pd(t)}async function B2(t,e){e&&$r(t).P_&&await async function(r,i){if(function(s){return xO(s)&&s!==b.ABORTED}(i.code)){const o=r.D_.shift();$r(r).Zo(),await cS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await pd(r)}}(t,e),dS(t)&&hS(t)}async function Z_(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const r=Vi(n);n.v_.add(3),await Xa(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await fd(n)}async function $2(t,e){const n=J(t);e?(n.v_.delete(2),await fd(n)):e||(n.v_.add(2),await Xa(n),n.x_.set("Unknown"))}function Ko(t){return t.N_||(t.N_=function(n,r,i){const o=J(n);return o.R_(),new P2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:k2.bind(null,t),To:N2.bind(null,t),u_:O2.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Fm(t)?Vm(t):t.x_.set("Unknown")):(await t.N_.stop(),uS(t))})),t.N_}function $r(t){return t.B_||(t.B_=function(n,r,i){const o=J(n);return o.R_(),new b2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:V2.bind(null,t),To:B2.bind(null,t),E_:F2.bind(null,t),T_:U2.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await pd(t)):(await t.B_.stop(),t.D_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Um(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(t,e){if(On("AsyncQueue",`${e}: ${t}`),Ka(t))return new U(b.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=Ss(),this.sortedSet=new Ce(this.comparator)}static emptySet(e){return new vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this.L_=new Ce(z.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Q():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Oo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Oo(e,n,vo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.q_=void 0,this.Q_=[]}}class z2{constructor(){this.queries=new qo(e=>NT(e),ad),this.onlineState="Unknown",this.K_=new Set}}async function W2(t,e){const n=J(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new j2),i)try{o.q_=await n.onListen(r)}catch(s){const a=Bm(s,`Initialization of query '${Hi(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&$m(n)}async function H2(t,e){const n=J(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function G2(t,e){const n=J(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&$m(n)}function q2(t,e,n){const r=J(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function $m(t){t.K_.forEach(e=>{e.next()})}class K2{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.key=e}}class pS{constructor(e){this.key=e}}class Q2{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ee(),this.mutatedKeys=ee(),this.ua=OT(e),this.ca=new vo(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new e0,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=ld(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?g!==v&&(r.track({type:3,doc:f}),_=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.ua(f,l)>0||u&&this.ua(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(f?(s=s.add(f),o=v?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((c,d)=>function(f,g){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return v(f)-v(g)}(c.type,d.type)||this.ua(c.doc,d.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new Oo(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new e0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ee(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new pS(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new fS(r))}),n}Ra(e){this.oa=e.hs,this.aa=ee();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Oo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class Y2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class X2{constructor(e){this.key=e,this.ma=!1}}class J2{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new qo(a=>NT(a),ad),this.pa=new Map,this.ya=new Set,this.wa=new Ce(z.comparator),this.Sa=new Map,this.ba=new Nm,this.Da={},this.Ca=new Map,this.va=No.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function Z2(t,e){const n=uL(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await w2(n.localStore,xn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await eL(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&sS(n.remoteStore,s)}return i}async function eL(t,e,n,r,i){t.Ma=(d,h,f)=>async function(v,_,m,p){let y=_.view.ha(m);y.Xi&&(y=await Y_(v.localStore,_.query,!1).then(({documents:C})=>_.view.ha(C,y)));const w=p&&p.targetChanges.get(_.targetId),T=p&&p.targetMismatches.get(_.targetId)!=null,S=_.view.applyChanges(y,v.isPrimaryClient,w,T);return n0(v,_.targetId,S.da),S.snapshot}(t,d,h,f);const o=await Y_(t.localStore,e,!0),s=new Q2(e,o.hs),a=s.ha(o.documents),l=Ya.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);n0(t,n,u.da);const c=new Y2(e,n,s);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function tL(t,e){const n=J(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!ad(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await xp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),aS(n.remoteStore,r.targetId),Dp(n,r.targetId)}).catch(qa)):(Dp(n,r.targetId),await xp(n.localStore,r.targetId,!0))}async function nL(t,e,n){const r=cL(t);try{const i=await function(s,a){const l=J(s),u=Fe.now(),c=a.reduce((f,g)=>f.add(g.key),ee());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=tr(),v=ee();return l.os.getEntries(f,c).next(_=>{g=_,g.forEach((m,p)=>{p.isValidDocument()||(v=v.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(_=>{d=_;const m=[];for(const p of a){const y=CO(p,d.get(p.key).overlayedDocument);y!=null&&m.push(new Qr(p.key,y,CT(y.value.mapValue),nn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(_=>{h=_;const m=_.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(f,_.batchId,m)})}).then(()=>({batchId:h.batchId,changes:MT(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new Ce(le)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await Ja(r,i.changes),await pd(r.remoteStore)}catch(i){const o=Bm(i,"Failed to persist write");n.reject(o)}}async function gS(t,e){const n=J(t);try{const r=await v2(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?pe(s.ma):i.removedDocuments.size>0&&(pe(s.ma),s.ma=!1))}),await Ja(n,r,e)}catch(r){await qa(r)}}function t0(t,e,n){const r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=J(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Q_)h.U_(a)&&(u=!0)}),u&&$m(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rL(t,e,n){const r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new Ce(z.comparator);s=s.insert(o,ct.newNoDocument(o,X.min()));const a=ee().add(o),l=new dd(X.min(),new Map,new Ce(le),s,a);await gS(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),jm(r)}else await xp(r.localStore,e,!1).then(()=>Dp(r,e,n)).catch(qa)}async function iL(t,e){const n=J(t),r=e.batch.batchId;try{const i=await m2(n.localStore,e);vS(n,r,null),mS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ja(n,i)}catch(i){await qa(i)}}async function oL(t,e,n){const r=J(t);try{const i=await function(s,a){const l=J(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(pe(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);vS(r,e,n),mS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ja(r,i)}catch(i){await qa(i)}}function mS(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function vS(t,e,n){const r=J(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Dp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||yS(t,r)})}function yS(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(aS(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),jm(t))}function n0(t,e,n){for(const r of n)r instanceof fS?(t.ba.addReference(r.key,e),sL(t,r)):r instanceof pS?(L("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||yS(t,r.key)):Q()}function sL(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(L("SyncEngine","New document in limbo: "+n),t.ya.add(r),jm(t))}function jm(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new z(Ee.fromString(e)),r=t.va.next();t.Sa.set(r,new X2(n)),t.wa=t.wa.insert(n,r),sS(t.remoteStore,new wr(xn(kT(n.path)),r,"TargetPurposeLimboResolution",Tm._e))}}async function Ja(t,e,n){const r=J(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Lm.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const c=J(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>R.forEach(u,h=>R.forEach(h.qi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>R.forEach(h.Qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ka(d))throw d;L("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ns.get(h),g=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(g);c.ns=c.ns.insert(h,v)}}}(r.localStore,o))}async function aL(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());const r=await nS(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new U(b.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ja(n,r.us)}}function lL(t,e){const n=J(t),r=n.Sa.get(e);if(r&&r.ma)return ee().add(r.key);{let i=ee();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function uL(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rL.bind(null,e),e.fa.u_=G2.bind(null,e.eventManager),e.fa.xa=q2.bind(null,e.eventManager),e}function cL(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oL.bind(null,e),e}class r0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=hd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return g2(this.persistence,new f2,e.initialUser,this.serializer)}createPersistence(e){return new c2(Om.Hr,this.serializer)}createSharedClientState(e){return new I2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class dL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>t0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aL.bind(null,this.syncEngine),await $2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z2}()}createDatastore(e){const n=hd(e.databaseInfo.databaseId),r=function(o){return new R2(o)}(e.databaseInfo);return function(o,s,a,l){return new A2(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new D2(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>t0(this.syncEngine,n,0),function(){return J_.D()?new J_:new T2}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new J2(i,o,s,a,l,u);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=J(r);L("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Xa(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):On("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=IT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{L("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Bm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hh(t,e){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function i0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gL(t);L("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Z_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Z_(e.remoteStore,i)),t._onlineComponents=e}function pL(t){return t.name==="FirebaseError"?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function gL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!pL(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await Hh(t,new r0)}}else L("FirestoreClient","Using default OfflineComponentProvider"),await Hh(t,new r0);return t._offlineComponents}async function _S(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),await i0(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),await i0(t,new dL))),t._onlineComponents}function mL(t){return _S(t).then(e=>e.syncEngine)}async function vL(t){const e=await _S(t),n=e.eventManager;return n.onListen=Z2.bind(null,e.syncEngine),n.onUnlisten=tL.bind(null,e.syncEngine),n}function yL(t,e,n={}){const r=new Qn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new hL({next:h=>{s.enqueueAndForget(()=>H2(o,d)),h.fromCache&&l.source==="server"?u.reject(new U(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new K2(a,c,{includeMetadataChanges:!0,Z_:!0});return W2(o,d)}(await vL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t,e,n){if(!n)throw new U(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _L(t,e,n,r){if(e===!0&&r===!0)throw new U(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function s0(t){if(!z.isDocumentKey(t))throw new U(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function a0(t){if(z.isDocumentKey(t))throw new U(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zm(t);throw new U(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_L("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new U(b.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(b.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(b.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new NN;switch(r.type){case"firstParty":return new VN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=o0.get(n);r&&(L("ComponentProvider","Removing Datastore"),o0.delete(n),r.terminate())}(this),Promise.resolve()}}function wL(t,e,n,r={}){var i;const o=(t=nr(t,gd))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=lt.MOCK_USER;else{a=GI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new U(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new lt(u)}t._authCredentials=new ON(new ET(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new md(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}}class kr extends md{constructor(e,n,r){super(e,n,kT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new z(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function Qt(t,e,...n){if(t=xe(t),ES("collection","path",e),t instanceof gd){const r=Ee.fromString(e,...n);return a0(r),new kr(t,null,r)}{if(!(t instanceof Vt||t instanceof kr))throw new U(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return a0(r),new kr(t.firestore,null,r)}}function Ki(t,e,...n){if(t=xe(t),arguments.length===1&&(e=IT.newId()),ES("doc","path",e),t instanceof gd){const r=Ee.fromString(e,...n);return s0(r),new Vt(t,null,new z(r))}{if(!(t instanceof Vt||t instanceof kr))throw new U(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return s0(r),new Vt(t.firestore,t instanceof kr?t.converter:null,new z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new iS(this,"async_queue_retry"),this._u=()=>{const n=Wh();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Wh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Wh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Qn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Ka(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw On("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=Um.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&Q()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class Qo extends gd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new EL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||TS(this),this._firestoreClient.terminate()}}function IL(t,e){const n=typeof t=="object"?t:Wg(),r=typeof t=="string"?t:e||"(default)",i=$c(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=zI("firestore");o&&wL(i,...o)}return i}function IS(t){return t._firestoreClient||TS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function TS(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new XN(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,wS(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new fL(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lo(pt.fromBase64String(e))}catch(n){throw new U(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lo(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=/^__.*__$/;class SL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qa(e,this.data,n,this.fieldTransforms)}}class SS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class Gm{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Gm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return ac(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(CS(this.du)&&TL.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class CL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hd(e)}Su(e,n,r,i=!1){return new Gm({du:e,methodName:n,wu:r,path:Ze.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qm(t){const e=t._freezeSettings(),n=hd(t._databaseId);return new CL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RS(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);Km("Data must be an object, but it was:",s,r);const a=PS(r,s);let l,u;if(o.merge)l=new Ot(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=kp(e,d,n);if(!s.contains(h))throw new U(b.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);AS(c,h)||c.push(h)}l=new Ot(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new SL(new Rt(a),l,u)}class yd extends Wm{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yd}}function RL(t,e,n,r){const i=t.Su(1,e,n);Km("Data must be an object, but it was:",i,r);const o=[],s=Rt.empty();Mi(r,(l,u)=>{const c=Qm(e,l,n);u=xe(u);const d=i.fu(c);if(u instanceof yd)o.push(c);else{const h=_d(u,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new Ot(o);return new SS(s,a,i.fieldTransforms)}function PL(t,e,n,r,i,o){const s=t.Su(1,e,n),a=[kp(e,r,n)],l=[i];if(o.length%2!=0)throw new U(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(kp(e,o[h])),l.push(o[h+1]);const u=[],c=Rt.empty();for(let h=a.length-1;h>=0;--h)if(!AS(u,a[h])){const f=a[h];let g=l[h];g=xe(g);const v=s.fu(f);if(g instanceof yd)u.push(f);else{const _=_d(g,v);_!=null&&(u.push(f),c.set(f,_))}}const d=new Ot(u);return new SS(c,d,s.fieldTransforms)}function _d(t,e){if(bS(t=xe(t)))return Km("Unsupported field value:",e,t),PS(t,e);if(t instanceof Wm)return function(r,i){if(!CS(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=_d(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _O(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Fe.fromDate(r);return{timestampValue:oc(i.serializer,o)}}if(r instanceof Fe){const o=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oc(i.serializer,o)}}if(r instanceof Hm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lo)return{bytesValue:QT(i.serializer,r._byteString)};if(r instanceof Vt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:km(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${zm(r)}`)}(t,e)}function PS(t,e){const n={};return TT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mi(t,(r,i)=>{const o=_d(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function bS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof Hm||t instanceof Lo||t instanceof Vt||t instanceof Wm)}function Km(t,e,n){if(!bS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=zm(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function kp(t,e,n){if((e=xe(e))instanceof vd)return e._internalPath;if(typeof e=="string")return Qm(t,e);throw ac("Field path arguments must be of type string or ",t,!1,void 0,n)}const bL=new RegExp("[~\\*/\\[\\]]");function Qm(t,e,n){if(e.search(bL)>=0)throw ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vd(...e.split("."))._internalPath}catch{throw ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ac(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new U(b.INVALID_ARGUMENT,a+t+l)}function AS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(DS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AL extends xS{data(){return super.data()}}function DS(t,e){return typeof e=="string"?Qm(t,e):e instanceof vd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DL{convertValue(e,n="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Hm(ke(e.latitude),ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ya(e));default:return null}}convertTimestamp(e){const n=Br(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);pe(tS(r));const i=new _a(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||On(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kL extends xS{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(DS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hu extends kL{data(e={}){return super.data(e)}}class NL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hu(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new hu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new hu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:OL(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function OL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}class LL extends DL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function Bn(t){t=nr(t,md);const e=nr(t.firestore,Qo),n=IS(e),r=new LL(e);return xL(t._query),yL(n,t._query).then(i=>new NL(e,r,t,i))}function Gh(t,e,n){t=nr(t,Vt);const r=nr(t.firestore,Qo),i=kS(t.converter,e,n);return wd(r,[RS(qm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,nn.none())])}function ML(t,e,n,...r){t=nr(t,Vt);const i=nr(t.firestore,Qo),o=qm(i);let s;return s=typeof(e=xe(e))=="string"||e instanceof vd?PL(o,"updateDoc",t._key,e,n,r):RL(o,"updateDoc",t._key,e),wd(i,[s.toMutation(t._key,nn.exists(!0))])}function VL(t){return wd(nr(t.firestore,Qo),[new Am(t._key,nn.none())])}function Ym(t,e){const n=nr(t.firestore,Qo),r=Ki(t),i=kS(t.converter,e);return wd(n,[RS(qm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nn.exists(!1))]).then(()=>r)}function wd(t,e){return function(r,i){const o=new Qn;return r.asyncQueue.enqueueAndForget(async()=>nL(await mL(r),i,o)),o.promise}(IS(t),e)}(function(e,n=!0){(function(i){Go=i})(Ni),Ti(new Fr("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Qo(new LN(r.getProvider("auth-internal")),new UN(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new U(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),bn(A_,"4.4.2",e),bn(A_,"4.4.2","esm2017")})();function Xm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function NS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FL=NS,OS=new Va("auth","Firebase",NS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new jg("@firebase/auth");function UL(t,...e){lc.logLevel<=ne.WARN&&lc.warn(`Auth (${Ni}): ${t}`,...e)}function fu(t,...e){lc.logLevel<=ne.ERROR&&lc.error(`Auth (${Ni}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,...e){throw Jm(t,...e)}function kn(t,...e){return Jm(t,...e)}function LS(t,e,n){const r=Object.assign(Object.assign({},FL()),{[e]:n});return new Va("auth","Firebase",r).create(e,{appName:t.name})}function BL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&an(t,"argument-error"),LS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OS.create(t,...e)}function K(t,e,...n){if(!t)throw Jm(e,...n)}function Gn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fu(e),new Error(e)}function rr(t,e){t||Gn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $L(){return u0()==="http:"||u0()==="https:"}function u0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($L()||UA()||"connection"in navigator)?navigator.onLine:!0}function zL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=VA()||BA()}get(){return jL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t,e){rr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=new Za(3e4,6e4);function Fi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yr(t,e,n,r,i={}){return VS(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Fa(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),MS.fetch()(FS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function VS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},WL),e);try{const i=new qL(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Wl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wl(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Wl(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Wl(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw LS(t,c,u);an(t,c)}}catch(i){if(i instanceof Vn)throw i;an(t,"network-request-failed",{message:String(i)})}}async function Ed(t,e,n,r,i={}){const o=await Yr(t,e,n,r,i);return"mfaPendingCredential"in o&&an(t,"multi-factor-auth-required",{_serverResponse:o}),o}function FS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Zm(t.config,i):`${t.config.apiScheme}://${i}`}function GL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kn(this.auth,"network-request-failed")),HL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kn(t,e,r);return i.customData._tokenResponse=n,i}function c0(t){return t!==void 0&&t.enterprise!==void 0}class KL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function QL(t,e){return Yr(t,"GET","/v2/recaptchaConfig",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t,e){return Yr(t,"POST","/v1/accounts:delete",e)}async function XL(t,e){return Yr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JL(t,e=!1){const n=xe(t),r=await n.getIdToken(e),i=ev(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:js(qh(i.auth_time)),issuedAtTime:js(qh(i.iat)),expirationTime:js(qh(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function qh(t){return Number(t)*1e3}function ev(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fu("JWT malformed, contained fewer than 3 sections"),null;try{const i=$I(n);return i?JSON.parse(i):(fu("Failed to decode base64 JWT payload"),null)}catch(i){return fu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ZL(t){const e=ev(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vn&&eM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function eM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=js(this.lastLoginAt),this.creationTime=js(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ta(t,XL(n,{idToken:r}));K(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?iM(o.providerUserInfo):[],a=rM(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new US(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function nM(t){const e=xe(t);await uc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iM(t){return t.map(e=>{var{providerId:n}=e,r=Xm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e){const n=await VS(t,{},async()=>{const r=Fa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=FS(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",MS.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sM(t,e){return Yr(t,"POST","/v2/accounts:revokeToken",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return K(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await oM(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Sa;return r&&(K(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(K(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sa,this.toJSON())}_performRefresh(){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Xm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new US(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ta(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JL(this,e)}reload(){return nM(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ta(this,YL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:w,isAnonymous:T,providerData:S,stsTokenManager:C}=n;K(y&&C,e,"internal-error");const x=Sa.fromJSON(this.name,C);K(typeof y=="string",e,"internal-error"),ar(d,e.name),ar(h,e.name),K(typeof w=="boolean",e,"internal-error"),K(typeof T=="boolean",e,"internal-error"),ar(f,e.name),ar(g,e.name),ar(v,e.name),ar(_,e.name),ar(m,e.name),ar(p,e.name);const V=new mi({uid:y,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:T,photoURL:g,phoneNumber:f,tenantId:v,stsTokenManager:x,createdAt:m,lastLoginAt:p});return S&&Array.isArray(S)&&(V.providerData=S.map(P=>Object.assign({},P))),_&&(V._redirectEventId=_),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new Sa;i.updateFromServerResponse(n);const o=new mi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;function qn(t){rr(t instanceof Function,"Expected a class definition");let e=d0.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BS.type="NONE";const h0=BS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t,e,n){return`firebase:${t}:${e}:${n}`}class yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=pu(this.userKey,i.apiKey,o),this.fullPersistenceKey=pu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yo(qn(h0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||qn(h0);const s=pu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=mi._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new yo(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new yo(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($S(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HS(e))return"Blackberry";if(GS(e))return"Webos";if(tv(e))return"Safari";if((e.includes("chrome/")||jS(e))&&!e.includes("edge/"))return"Chrome";if(WS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $S(t=Oe()){return/firefox\//i.test(t)}function tv(t=Oe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jS(t=Oe()){return/crios\//i.test(t)}function zS(t=Oe()){return/iemobile/i.test(t)}function WS(t=Oe()){return/android/i.test(t)}function HS(t=Oe()){return/blackberry/i.test(t)}function GS(t=Oe()){return/webos/i.test(t)}function Id(t=Oe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aM(t=Oe()){var e;return Id(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lM(){return $A()&&document.documentMode===10}function qS(t=Oe()){return Id(t)||WS(t)||GS(t)||HS(t)||/windows phone/i.test(t)||zS(t)}function uM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e=[]){let n;switch(t){case"Browser":n=f0(Oe());break;case"Worker":n=`${f0(Oe())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ni}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e={}){return Yr(t,"GET","/v2/passwordPolicy",Fi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=6;class fM{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:hM,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new cM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?xe(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dM(this),n=new fM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Va("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&UL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ui(t){return xe(t)}class p0{constructor(e){this.auth=e,this.observer=null,this.addObserver=KA(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gM(t){Td=t}function QS(t){return Td.loadJS(t)}function mM(){return Td.recaptchaEnterpriseScript}function vM(){return Td.gapiScript}function yM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _M="recaptcha-enterprise",wM="NO_RECAPTCHA";class EM{constructor(e){this.type=_M,this.auth=Ui(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{QL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new KL(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;c0(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(wM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&c0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=mM();l.length!==0&&(l+=a),QS(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function g0(t,e,n,r=!1){const i=new EM(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function m0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await g0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await g0(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t,e){const n=$c(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Hu(o,e??{}))return i;an(i,"already-initialized")}return n.initialize({options:e})}function TM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function SM(t,e,n){const r=Ui(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=YS(e),{host:s,port:a}=CM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||RM()}function YS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CM(t){const e=YS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:v0(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:v0(s)}}}function v0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,n){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}}async function PM(t,e){return Yr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,e){return Ed(t,"POST","/v1/accounts:signInWithPassword",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(t,e){return Ed(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))}async function xM(t,e){return Ed(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends nv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ca(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ca(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m0(e,n,"signInWithPassword",bM);case"emailLink":return AM(e,{email:this._email,oobCode:this._password});default:an(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m0(e,r,"signUpPassword",PM);case"emailLink":return xM(e,{idToken:n,email:this._email,oobCode:this._password});default:an(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(t,e){return Ed(t,"POST","/v1/accounts:signInWithIdp",Fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="http://localhost";class bi extends nv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):an("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Xm(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new bi(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_o(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:DM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NM(t){const e=ws(Es(t)).link,n=e?ws(Es(e)).deep_link_id:null,r=ws(Es(t)).deep_link_id;return(r?ws(Es(r)).link:null)||r||n||e||t}class rv{constructor(e){var n,r,i,o,s,a;const l=ws(Es(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=kM((i=l.mode)!==null&&i!==void 0?i:null);K(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=NM(e);try{return new rv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,n){return Ca._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=rv.parseLink(n);return K(r,"argument-error"),Ca._fromEmailAndCode(e,r.code,r.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends iv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends el{constructor(){super("facebook.com")}static credential(e){return bi._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn extends el{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bi._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jn.credentialFromTaggedObject(e)}static credentialFromError(e){return jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jn.credential(n,r)}catch{return null}}}jn.GOOGLE_SIGN_IN_METHOD="google.com";jn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends el{constructor(){super("github.com")}static credential(e){return bi._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends el{constructor(){super("twitter.com")}static credential(e,n){return bi._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await mi._fromIdTokenResponse(e,r,i),s=y0(r);return new Mo({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=y0(r);return new Mo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function y0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Vn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new cc(e,n,r,i)}}function XS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?cc._fromErrorAndOperation(t,o,e,r):o})}async function OM(t,e,n=!1){const r=await Ta(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Ta(t,XS(r,i,e,t),n);K(o.idToken,r,"internal-error");const s=ev(o.idToken);K(s,r,"internal-error");const{sub:a}=s;return K(t.uid===a,r,"user-mismatch"),Mo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&an(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(t,e,n=!1){const r="signIn",i=await XS(t,r,e),o=await Mo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function MM(t,e){return JS(Ui(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(t){const e=Ui(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function FM(t,e,n){return MM(xe(t),Yo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VM(t),r})}function UM(t,e,n,r){return xe(t).onIdTokenChanged(e,n,r)}function BM(t,e,n){return xe(t).beforeAuthStateChanged(e,n)}const dc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dc,"1"),this.storage.removeItem(dc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(){const t=Oe();return tv(t)||Id(t)}const jM=1e3,zM=10;class eC extends ZS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$M()&&uM(),this.fallbackToPolling=qS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);lM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eC.type="LOCAL";const WM=eC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC extends ZS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tC.type="SESSION";const nC=tC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Sd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await HM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=ov("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return window}function qM(t){Nn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){return typeof Nn().WorkerGlobalScope<"u"&&typeof Nn().importScripts=="function"}async function KM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function YM(){return rC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="firebaseLocalStorageDb",XM=1,hc="firebaseLocalStorage",oC="fbase_key";class tl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cd(t,e){return t.transaction([hc],e?"readwrite":"readonly").objectStore(hc)}function JM(){const t=indexedDB.deleteDatabase(iC);return new tl(t).toPromise()}function Op(){const t=indexedDB.open(iC,XM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hc,{keyPath:oC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hc)?e(r):(r.close(),await JM(),e(await Op()))})})}async function _0(t,e,n){const r=Cd(t,!0).put({[oC]:e,value:n});return new tl(r).toPromise()}async function ZM(t,e){const n=Cd(t,!1).get(e),r=await new tl(n).toPromise();return r===void 0?null:r.value}function w0(t,e){const n=Cd(t,!0).delete(e);return new tl(n).toPromise()}const eV=800,tV=3;class sC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Op(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sd._getInstance(YM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await KM(),!this.activeServiceWorker)return;this.sender=new GM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Op();return await _0(e,dc,"1"),await w0(e,dc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ZM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Cd(i,!1).getAll();return new tl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sC.type="LOCAL";const nV=sC;new Za(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t,e){return e?qn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv extends nv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rV(t){return JS(t.auth,new sv(t),t.bypassAuthState)}function iV(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),LM(n,new sv(t),t.bypassAuthState)}async function oV(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),OM(n,new sv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rV;case"linkViaPopup":case"linkViaRedirect":return oV;case"reauthViaPopup":case"reauthViaRedirect":return iV;default:an(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new Za(2e3,1e4);async function uC(t,e,n){const r=Ui(t);BL(t,e,iv);const i=aC(r,n);return new di(r,"signInViaPopup",e,i).executeNotNull()}class di extends lC{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,di.currentPopupAction&&di.currentPopupAction.cancel(),di.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,di.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sV.get())};e()}}di.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="pendingRedirect",gu=new Map;class lV extends lC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gu.get(this.auth._key());if(!e){try{const r=await uV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gu.set(this.auth._key(),e)}return this.bypassAuthState||gu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uV(t,e){const n=hV(e),r=dV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function cV(t,e){gu.set(t._key(),e)}function dV(t){return qn(t._redirectPersistence)}function hV(t){return pu(aV,t.config.apiKey,t.name)}async function fV(t,e,n=!1){const r=Ui(t),i=aC(r,e),s=await new lV(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=10*60*1e3;class gV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pV&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(e))}saveEventToCache(e){this.cachedEventUids.add(E0(e)),this.lastProcessedEventTime=Date.now()}}function E0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(t,e={}){return Yr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_V=/^https?/;async function wV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vV(t);for(const n of e)try{if(EV(n))return}catch{}an(t,"unauthorized-domain")}function EV(t){const e=Np(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!_V.test(n))return!1;if(yV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new Za(3e4,6e4);function I0(){const t=Nn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function TV(t){return new Promise((e,n)=>{var r,i,o;function s(){I0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I0(),n(kn(t,"network-request-failed"))},timeout:IV.get()})}if(!((i=(r=Nn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Nn().gapi)===null||o===void 0)&&o.load)s();else{const a=yM("iframefcb");return Nn()[a]=()=>{gapi.load?s():n(kn(t,"network-request-failed"))},QS(`${vM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw mu=null,e})}let mu=null;function SV(t){return mu=mu||TV(t),mu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new Za(5e3,15e3),RV="__/auth/iframe",PV="emulator/auth/iframe",bV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xV(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zm(e,PV):`https://${t.config.authDomain}/${RV}`,r={apiKey:e.apiKey,appName:t.name,v:Ni},i=AV.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Fa(r).slice(1)}`}async function DV(t){const e=await SV(t),n=Nn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:xV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bV,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=kn(t,"network-request-failed"),a=Nn().setTimeout(()=>{o(s)},CV.get());function l(){Nn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NV=500,OV=600,LV="_blank",MV="http://localhost";class T0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VV(t,e,n,r=NV,i=OV){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},kV),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Oe().toLowerCase();n&&(a=jS(u)?LV:n),$S(u)&&(e=e||MV,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(aM(u)&&a!=="_self")return FV(e||"",a),new T0(null);const d=window.open(e||"",a,c);K(d,t,"popup-blocked");try{d.focus()}catch{}return new T0(d)}function FV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="__/auth/handler",BV="emulator/auth/handler",$V=encodeURIComponent("fac");async function S0(t,e,n,r,i,o){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ni,eventId:i};if(e instanceof iv){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",qA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))s[c]=d}if(e instanceof el){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${$V}=${encodeURIComponent(l)}`:"";return`${jV(t)}?${Fa(a).slice(1)}${u}`}function jV({config:t}){return t.emulator?Zm(t,BV):`https://${t.authDomain}/${UV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="webStorageSupport";class zV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nC,this._completeRedirectFn=fV,this._overrideRedirectResult=cV}async _openPopup(e,n,r,i){var o;rr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await S0(e,n,r,Np(),i);return VV(e,s,ov())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await S0(e,n,r,Np(),i);return qM(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(rr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DV(e),r=new gV(e);return n.register("authEvent",i=>(K(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kh,{type:Kh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Kh];s!==void 0&&n(!!s),an(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qS()||tv()||Id()}}const WV=zV;var C0="@firebase/auth",R0="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qV(t){Ti(new Fr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KS(t)},u=new pM(r,i,o,l);return TM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ti(new Fr("auth-internal",e=>{const n=Ui(e.getProvider("auth").getImmediate());return(r=>new HV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(C0,R0,GV(t)),bn(C0,R0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=5*60,QV=HI("authIdTokenMaxAge")||KV;let P0=null;const YV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QV)return;const i=n==null?void 0:n.token;P0!==i&&(P0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XV(t=Wg()){const e=$c(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IM(t,{popupRedirectResolver:WV,persistence:[nV,WM,nC]}),r=HI("authTokenSyncURL");if(r){const o=YV(r);BM(n,o,()=>o(n.currentUser)),UM(n,s=>o(s))}const i=jI("auth");return i&&SM(n,`http://${i}`),n}function JV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}gM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=kn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",JV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qV("Browser");const ZV={apiKey:"AIzaSyCt7V3W9gKJWN_zBX80Pl54zt8QI7FX5DM",authDomain:"shop-tohlechces.firebaseapp.com",databaseURL:"https://shop-tohlechces-default-rtdb.europe-west1.firebasedatabase.app",projectId:"shop-tohlechces",storageBucket:"shop-tohlechces.appspot.com",messagingSenderId:"37475032521",appId:"1:37475032521:web:d3f3a314f8d0716bd31c18",measurementId:"G-6ZTHR91WD8"},av=YI(ZV),Qe=IL(av),Hl=Tk(av),Lp=XV(av),dC=new jn,hC=I.createContext(),fC=({children:t})=>{let e={id:0,name:"",price:0,images:[{url:"",id:0}],description:"testingXYZ"};const[n,r]=I.useState([e]),[i,o]=I.useState({editor:!0,nickname:"Honza",newspaper:!1,email:"email",uid:"x"}),s=I.useRef(""),a=I.useRef(),l=I.useRef(localStorage.getItem("uid")),u=I.useRef();I.useEffect(()=>{c(),g()},[]);const c=async()=>{(await Bn(Qt(Qe,"users"))).forEach(N=>{N.data().uid===l.current&&h(N.data(),N._key.path.segments[6])})};function d(P,N,O){return new Promise(async(G,B)=>{P===void 0&&G(),await T();const re=Ol(Hl,N!==void 0?N+"/"+O:(u.current[0]!==void 0?u.current[0]:n[0].description==="testingXYZ"?0:n.length)+"/0"),_e=wk(re,P);let Ue="";_e.on("state_changed",D=>{Ue="Upload "+D.bytesTransferred/D.totalBytes*100+"% done"},D=>{Ue="Error: "+D.message,B(Ue)},()=>{Ik(_e.snapshot.ref).then(D=>{let j=D;Ue="Added",G({downloadURL:j,uploadText:Ue})}).catch(D=>{B(D)})})})}function h(P,N){s.current=N,o(O=>({...O,...P})),f()}function f(){i.editor&&v("editorLogin",new Date().toString())}const g=async()=>{let N=(await Bn(Qt(Qe,"catalog"))).docs.map(O=>O.data());N.length!==0?r(N):r([e])},v=async(P,N)=>{const O=Ki(Qe,"users",s.current);await ML(O,{[P]:N})},_=async({name:P,price:N,images:O,description:G})=>{await T();const B={id:n[0].description!=="testingXYZ"?u.current.length===0?n.length:u.current[0]:0,name:P,price:N,images:O,description:G};await Ym(Qt(Qe,"catalog"),B),g()};async function m(P,N){let O=[];await y(P),(await Bn(Qt(Qe,"catalog"))).forEach(q=>{q.data().id===P&&(O=q.data())});let B=[],re=[],_e=[];for(let q=0;q<O.images.length;q++)B.push(q);let Ue=await Bn(Qt(Qe,"catalog")),D=[];Ue.forEach(q=>{q.data().id===P&&(D=q.data().images)}),console.log(D),console.log(D.length),D.length>0&&D.forEach(q=>{re.push(q.id)}),B.map(q=>{re.includes(q)||_e.push(q)});let j=_e[0]!==void 0?_e[0]:O.images.length,ae=(await d(N,P,j)).downloadURL;O.images.push({url:ae,id:j}),await Gh(Ki(Qe,"catalog",a.current),O),g()}async function p(P,N){let O=[];await y(P),(await Bn(Qt(Qe,"catalog"))).forEach(re=>{re.data().id===P&&(O=re.data())}),O.images=O.images.filter(re=>re.id!==N?re:null),await Gh(Ki(Qe,"catalog",a.current),O);const B=await S(P);await Promise.all(B.map(re=>{Number(re.split("/")[1])===N&&p_(Ol(Hl,re))})),g()}async function y(P){(await Bn(Qt(Qe,"catalog"))).forEach(O=>{if(O.data().id===P){a.current=O._key.path.segments[6];return}})}async function w(P,{name:N,price:O,images:G,description:B}){await y(P);const re={id:P,name:N,price:O,images:G,description:B};await Gh(Ki(Qe,"catalog",a.current),re),g()}async function T(){let P=[],N=[],O=[];for(let B=0;B<n.length;B++)P.push(B);(await Bn(Qt(Qe,"catalog"))).forEach(B=>{N.push(B.data().id)}),P.map(B=>{N.includes(B)||O.push(B)}),u.current=O}async function S(P){const N=Ol(Hl,P+"/"),O=[];return await Ek(N).then(G=>{G.items.forEach(B=>{O.push(B._location.path_)})}).catch(G=>{}),O}async function C(P){await y(P),await VL(Ki(Qe,"catalog",a.current));const N=await S(P);await Promise.all(N.map(O=>{p_(Ol(Hl,O))})),g()}const V={catalog:n,addToCatalog:_,updateCatalog:w,deleteFromCatalog:C,uploadImage:d,addImageToCatalog:m,deleteImageFromCatalog:p,profile:i,updateProfile:(P,N)=>{o(O=>({...O,[P]:N})),v(P,N)}};return E.jsx(hC.Provider,{value:V,children:t})},Ai=()=>I.useContext(hC);function e4(){const{profile:t}=Ai(),{editor:e,nickname:n,uid:r}=t,i=localStorage.getItem("uid")!=="x";return E.jsxs("div",{className:"flex justify-between bg-gray-100 shadow-md",children:[E.jsx("div",{className:"ml-5 flex w-64 items-center",children:E.jsx("a",{href:"/",children:E.jsx("img",{className:"h-20",src:"logo2.png"})})}),E.jsxs("div",{className:`flex h-20 w-[600px] justify-center\r
        rounded-b-xl bg-gray-200 font-bold text-white `,children:[E.jsx(Gl,{icon:E.jsx(wA,{size:"30"}),href:"/",text:"Úvod"}),E.jsx(Gl,{icon:E.jsx(EA,{size:"30"}),href:"/products",text:"Brýle"}),E.jsx(Gl,{icon:E.jsx(IA,{size:"30"}),href:"/about-us",text:"O nás"}),E.jsx(Gl,{icon:E.jsx(RA,{size:"30"}),href:"/contact",text:"Kontakt",width:"long"})]}),E.jsxs("div",{className:"mr-5 flex w-64 items-center justify-end",children:[i&&E.jsxs("p",{className:"mr-5 whitespace-nowrap font-bold",children:["Hello ",n]}),e&&E.jsx("p",{className:"mr-5 flex flex-col font-bold",children:"Editor Mode"}),E.jsxs("a",{className:"group mr-5 flex flex-col items-center",href:"/cart",children:[E.jsx(SA,{className:"scale-75 duration-150 group-hover:translate-y-2 group-hover:scale-100",size:"40"}),E.jsx("p",{className:"text-center font-bold duration-150 group-hover:translate-y-4 group-hover:text-transparent",children:"košík"})]}),E.jsxs("a",{className:"group flex flex-col items-center",href:"/account",children:[E.jsx(bA,{className:"scale-75 duration-150 group-hover:translate-y-2 group-hover:scale-100",size:"40"}),E.jsx("p",{className:"text-center font-bold duration-150 group-hover:translate-y-4 group-hover:text-transparent",children:"účet"})]})]})]})}const Gl=({icon:t,href:e,text:n="Produkty",width:r="short"})=>{let i={short:"w-[90px]",medium:"w-[105px]",long:"w-[115px]"};return E.jsx("div",{className:"flex w-[120px] items-center justify-center ",children:E.jsxs("a",{className:"group relative flex items-center justify-center",href:e,children:[E.jsx("div",{className:`absolute left-[2.5px] flex
                        items-center
                        justify-end rounded-xl text-xl text-transparent group-hover:left-[5px] group-hover:text-white
                        ${i[r]}
                        h-12 transition-all duration-150 group-hover:bg-black`,children:E.jsx("p",{className:" mr-3 whitespace-nowrap",children:n})}),E.jsxs("div",{className:"navbar-icon flex flex-col",children:[E.jsxs("div",{className:"duration-150 group-hover:translate-y-2 group-hover:text-black",children:[t," "]}),E.jsx("div",{className:"text-xs text-white duration-150 group-hover:scale-0",children:n})]})]})})};function t4(){return E.jsx("div",{children:E.jsxs("div",{className:"flex flex-col items-center justify-items",children:[E.jsx("p",{className:"font-bold mt-32",children:"This is home bro"}),E.jsx("p",{children:"AHOJ"}),E.jsx(TA,{size:"20"})]})})}/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fc.apply(this,arguments)}var Er;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Er||(Er={}));const b0="popstate";function n4(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Mp("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:pC(i)}return i4(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r4(){return Math.random().toString(36).substr(2,8)}function A0(t,e){return{usr:t.state,key:t.key,idx:e}}function Mp(t,e,n,r){return n===void 0&&(n=null),fc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Rd(e):e,{state:n,key:e&&e.key||r||r4()})}function pC(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Rd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function i4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Er.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(fc({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=Er.Pop;let _=c(),m=_==null?null:_-u;u=_,l&&l({action:a,location:v.location,delta:m})}function h(_,m){a=Er.Push;let p=Mp(v.location,_,m);n&&n(p,_),u=c()+1;let y=A0(p,u),w=v.createHref(p);try{s.pushState(y,"",w)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(w)}o&&l&&l({action:a,location:v.location,delta:1})}function f(_,m){a=Er.Replace;let p=Mp(v.location,_,m);n&&n(p,_),u=c();let y=A0(p,u),w=v.createHref(p);s.replaceState(y,"",w),o&&l&&l({action:a,location:v.location,delta:0})}function g(_){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof _=="string"?_:pC(_);return Dt(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let v={get action(){return a},get location(){return t(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(b0,d),l=_,()=>{i.removeEventListener(b0,d),l=null}},createHref(_){return e(i,_)},createURL:g,encodeLocation(_){let m=g(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(_){return s.go(_)}};return v}var x0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(x0||(x0={}));function o4(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Rd(e):e,i=vC(r.pathname||"/",n);if(i==null)return null;let o=gC(t);s4(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=g4(o[a],y4(i));return s}function gC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Dt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=wo([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Dt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gC(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:f4(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of mC(o.path))i(o,s,l)}),e}function mC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=mC(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function s4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:p4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const a4=/^:[\w-]+$/,l4=3,u4=2,c4=1,d4=10,h4=-2,D0=t=>t==="*";function f4(t,e){let n=t.split("/"),r=n.length;return n.some(D0)&&(r+=h4),e&&(r+=u4),n.filter(i=>!D0(i)).reduce((i,o)=>i+(a4.test(o)?l4:o===""?c4:d4),r)}function p4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function g4(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=m4({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:wo([i,c.pathname]),pathnameBase:w4(wo([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=wo([i,c.pathnameBase]))}return o}function m4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=v4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let v=a[d]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[d];return f&&!g?u[h]=void 0:u[h]=_4(g||"",h),u},{}),pathname:o,pathnameBase:s,pattern:t}}function v4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function y4(t){try{return decodeURI(t)}catch(e){return lv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _4(t,e){try{return decodeURIComponent(t)}catch(n){return lv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function vC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const wo=t=>t.join("/").replace(/\/\/+/g,"/"),w4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function E4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yC=["post","put","patch","delete"];new Set(yC);const I4=["get",...yC];new Set(I4);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(this,arguments)}const T4=I.createContext(null),S4=I.createContext(null),_C=I.createContext(null),Pd=I.createContext(null),bd=I.createContext({outlet:null,matches:[],isDataRoute:!1}),wC=I.createContext(null);function uv(){return I.useContext(Pd)!=null}function C4(){return uv()||Dt(!1),I.useContext(Pd).location}function R4(t,e){return P4(t,e)}function P4(t,e,n,r){uv()||Dt(!1);let{navigator:i}=I.useContext(_C),{matches:o}=I.useContext(bd),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=C4(),c;if(e){var d;let _=typeof e=="string"?Rd(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||Dt(!1),c=_}else c=u;let h=c.pathname||"/",f=l==="/"?h:h.slice(l.length)||"/",g=o4(t,{pathname:f}),v=k4(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:wo([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:wo([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&v?I.createElement(Pd.Provider,{value:{location:pc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Er.Pop}},v):v}function b4(){let t=M4(),e=E4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,null)}const A4=I.createElement(b4,null);class x4 extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(bd.Provider,{value:this.props.routeContext},I.createElement(wC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D4(t){let{routeContext:e,match:n,children:r}=t,i=I.useContext(T4);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(bd.Provider,{value:e},r)}function k4(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||Dt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let f,g=!1,v=null,_=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||A4,l&&(u<0&&h===0?(V4("route-fallback",!1),g=!0,_=null):u===h&&(g=!0,_=d.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,h+1)),p=()=>{let y;return f?y=v:g?y=_:d.route.Component?y=I.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,I.createElement(D4,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?I.createElement(x4,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Vp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vp||{});function N4(t){let e=I.useContext(S4);return e||Dt(!1),e}function O4(t){let e=I.useContext(bd);return e||Dt(!1),e}function L4(t){let e=O4(),n=e.matches[e.matches.length-1];return n.route.id||Dt(!1),n.route.id}function M4(){var t;let e=I.useContext(wC),n=N4(Vp.UseRouteError),r=L4(Vp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const k0={};function V4(t,e,n){!e&&!k0[t]&&(k0[t]=!0)}function lr(t){Dt(!1)}function F4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Er.Pop,navigator:o,static:s=!1,future:a}=t;uv()&&Dt(!1);let l=e.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:l,navigator:o,static:s,future:pc({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Rd(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:g="default"}=r,v=I.useMemo(()=>{let _=vC(c,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:f,key:g},navigationType:i}},[l,c,d,h,f,g,i]);return v==null?null:I.createElement(_C.Provider,{value:u},I.createElement(Pd.Provider,{children:n,value:v}))}function U4(t){let{children:e,location:n}=t;return R4(Fp(e),n)}new Promise(()=>{});function Fp(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let o=[...e,i];if(r.type===I.Fragment){n.push.apply(n,Fp(r.props.children,o));return}r.type!==lr&&Dt(!1),!r.props.index||!r.props.children||Dt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Fp(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const B4="6";try{window.__reactRouterVersion=B4}catch{}const $4="startTransition",N0=nP[$4];function j4(t){let{basename:e,children:n,future:r,window:i}=t,o=I.useRef();o.current==null&&(o.current=n4({window:i,v5Compat:!0}));let s=o.current,[a,l]=I.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=I.useCallback(d=>{u&&N0?N0(()=>l(d)):l(d)},[l,u]);return I.useLayoutEffect(()=>s.listen(c),[s,c]),I.createElement(F4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var O0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(O0||(O0={}));var L0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(L0||(L0={}));function z4(t){const[e,n]=I.useState({email:"",password:""}),[r,i]=I.useState([{id:777,name:"success",state:!1,message:"Success"},{id:1,name:"duplicate",state:!1,message:"This email address already exists"},{id:2,name:"badFormat",state:!1,message:"Your email is not in right format"},{id:3,name:"notSamePassword",state:!1,message:"Your passwords are not the same"},{id:4,name:"tooShort",state:!1,message:"Your password is too short (at least 6 characters)"},{id:5,name:"already",state:!1,message:"This email is already registered"},{id:6,name:"upperCaseEmail",state:!1,message:"Your email has to be lower case"},{id:7,name:"incorrectData",state:!1,message:"You have entered incorrect data"}]),[o,s]=I.useState(""),[a,l]=I.useState(!1);function u(v){const{name:_,value:m,type:p,checked:y}=v.target;n(w=>({...w,[_]:p==="checkbox"?y:m}))}I.useEffect(()=>{const v=["!","@","#","$","%","^","&","*","(",")","-","_","+","=","{","}","[","]","|","\\",";",":","'",'"',"<",">",",",".","/","?","1","2","3","4","5","6","7","8","9"];e.email.split("").some(_=>!v.includes(_)&&_.toUpperCase()===_)?c(6,!0):c(6,!1)},[e]),I.useEffect(()=>{!e.email.includes("@")&&e.email!==""&&e.password!==""?c(2,!0):c(2,!1),c(5,!1),c(7,!1),e.email!==""&&c(777,!1)},[e]);function c(v,_){i(v===777&&_===!0?m=>m.map(p=>p.id===777?{...p,state:!0}:{...p,state:!1}):m=>m.map(p=>p.id===v?{...p,state:_}:p))}I.useEffect(()=>{let v="",_=!1;r.map(m=>{m.state===!0&&(_===!0?v+=" | "+String(m.message):(v+=String(m.message),_=!0))}),r[0].state===!0?l(!0):l(!1),s(v)},[r]);function d(v){uC(Lp,dC).then(_=>g(_))}function h(v){v.preventDefault();const{email:_,password:m}=e;if(o!==""){console.log("RETURNING");return}FM(Lp,_,m).then(p=>typeof p!==null?g(p):c(7,!0)).catch(p=>(console.log(p),p!==null?c(7,!0):null))}function f(){n({email:"",password:""}),c(777,!0)}const g=async v=>{const _=v.user.uid,m=v.user.email;localStorage.setItem("uid",_),localStorage.setItem("logged",!0);let p=!1;(await Bn(Qt(Qe,"users"))).forEach(w=>{w.data().uid===_?p=!0:console.log(w.data().uid+" "+_)}),p?console.log("EXISTING PROFILE LOADED"):(await Ym(Qt(Qe,"users"),{uid:_,nickname:m.split("@")[0],email:m,newspaper:!1}),console.log("CREATING NEW PROFILE")),f(),setTimeout(()=>{window.location.href="/"},700)};return E.jsx("div",{children:E.jsx("div",{className:"login",children:E.jsxs("div",{className:"container",children:[E.jsx("h1",{className:"headline",children:"Log in"}),E.jsx("input",{type:"text",className:"input input__normal mt-5",name:"email",placeholder:"Email Address",value:e.email,onChange:u}),E.jsx("input",{type:"text",className:"input input__normal",name:"password",placeholder:"Password",value:e.password,onChange:u}),E.jsx("p",{className:`error bold ${r[0].state?"green":"red"}`,children:o}),E.jsx("button",{className:"button button__normal button__submit mt-10",onClick:h,children:"Sign up"}),E.jsxs("button",{className:"google",onClick:d,children:[E.jsx("p",{className:"google--text",children:"Log in with Google"}),E.jsx("img",{className:"google--logo",src:"../../google_logo.png",alt:"Google Authentication"})]}),E.jsxs("div",{className:"endText flex items-center",children:[E.jsx("p",{className:"mr-1",children:"Still don't have an account?"}),E.jsx("button",{className:"link",onClick:t.changeLoginSwitch,children:"Sign up"})]})]})})})}function W4(t){const[e,n]=I.useState({email:"",nickname:"",password:"",confirmPassword:"",newspaper:!1}),[r,i]=I.useState([{id:777,name:"success",state:!1,message:"Success"},{id:1,name:"duplicate",state:!1,message:"This email address already exists"},{id:2,name:"badFormat",state:!1,message:"Your email is not in right format"},{id:3,name:"notSamePassword",state:!1,message:"Your passwords are not the same"},{id:4,name:"tooShort",state:!1,message:"Your password is too short (at least 6 characters)"},{id:5,name:"already",state:!1,message:"This email is already registered"},{id:6,name:"upperCaseEmail",state:!1,message:"Your email has to be lower case"},{id:7,name:"incorrectData",state:!1,message:"You have entered incorrect data"}]),[o,s]=I.useState(""),[a,l]=I.useState(!1);function u(g){const{name:v,value:_,type:m,checked:p}=g.target;n(y=>({...y,[v]:m==="checkbox"?p:_}))}Z.useEffect(()=>{const g=["!","@","#","$","%","^","&","*","(",")","-","_","+","=","{","}","[","]","|","\\",";",":","'",'"',"<",">",",",".","/","?","1","2","3","4","5","6","7","8","9"];e.email.split("").some(v=>!g.includes(v)&&v.toUpperCase()===v)?c(6,!0):c(6,!1)},[e]),Z.useEffect(()=>{!e.email.includes("@")&&e.email!==""&&e.password!==""?c(2,!0):c(2,!1),e.password.length>=6&&c(4,!1),c(3,!1),c(5,!1),c(7,!1),e.email!==""&&c(777,!1)},[e]);function c(g,v){i(g===777&&v===!0?_=>_.map(m=>m.id===777?{...m,state:!0}:{...m,state:!1}):_=>_.map(m=>m.id===g?{...m,state:v}:m))}Z.useEffect(()=>{let g="",v=!1;r.map(_=>{_.state===!0&&(v===!0?g+=" | "+String(_.message):(g+=String(_.message),v=!0))}),r[0].state===!0?l(!0):l(!1),s(g)},[r]);function d(g){uC(Lp,dC).then(v=>f(v))}function h(){n({email:"",nickname:"",password:"",confirmPassword:"",newspaper:!1}),c(777,!0)}const f=async g=>{const v=g.user.uid,_=g.user.email;localStorage.setItem("uid",g.user.uid),localStorage.setItem("logged",!0);let m=!1;(await Bn(Qt(Qe,"users"))).forEach(y=>{y.data().uid===v&&(m=!0)}),m?console.log("EXISTING PROFILE LOADED"):(await Ym(Qt(Qe,"users"),{uid:v,nickname:_.split("@")[0],email:_,newspaper:e.newspaper}),console.log("CREATING NEW PROFILE")),h(),setTimeout(()=>{window.location.href="/"},700)};return E.jsx("div",{className:"signup",children:E.jsxs("div",{className:"container",children:[E.jsx("h1",{className:"headline",children:"Sign up"}),E.jsx("input",{type:"text",className:"input input__normal mt-5",name:"email",placeholder:"Email Address",value:e.email,onChange:u}),E.jsx("input",{type:"text",className:"input input__normal",name:"password",placeholder:"Password",value:e.password,onChange:u}),E.jsx("input",{type:"text",className:"input input__normal",name:"confirmPassword",placeholder:"Confirm Password",value:e.confirmPassword,onChange:u}),E.jsxs("div",{className:"marketing",children:[E.jsx("input",{id:"newspaper",className:"mr-2",type:"checkbox",name:"newspaper",onChange:u,checked:e.newspaper}),E.jsx("label",{htmlFor:"newspaper",children:"I want to receive newsletter with exclusive bonuses"})]}),E.jsx("label",{className:`error bold ${a===!1?"red":"green"}`,children:o}),E.jsx("button",{className:"button button__normal button__submit mt-10",children:"Sign up"}),E.jsxs("button",{type:"button",className:"google",onClick:d,children:[E.jsx("p",{className:"google--text",children:"Sign up with Google"}),E.jsx("img",{className:"google--logo",src:"../../google_logo.png",alt:"Google Authentication"})]}),E.jsxs("div",{className:"endText flex items-center",children:[E.jsx("p",{className:"mr-1",children:"Already have an account?"}),E.jsx("button",{className:"link",onClick:t.changeLoginSwitch,children:"Log in"})]})]})})}function H4(){Ai().updateProfile;const t=localStorage.getItem("uid")!=="x",[e,n]=I.useState(!0);return E.jsxs("div",{className:"mt-20 flex flex-col items-center",children:[!t&&e&&E.jsx(z4,{changeLoginSwitch:()=>(console.log("hello"),n(!e))}),!t&&!e&&E.jsx(W4,{changeLoginSwitch:()=>n(!e)}),t&&E.jsx("div",{children:E.jsx("button",{className:"mt-5 rounded-xl bg-sky-700 px-4 py-2 text-white hover:bg-sky-800 sm:px-8 sm:py-3",onClick:()=>{localStorage.setItem("uid","x"),window.location.reload()},children:"Log out"})})]})}function G4({name:t="Brýle",price:e=399,images:n=[{id:0,url:"logo2.png"}]}){return console.log("name: "+t),console.log("price: "+e),console.log("images: ",n),E.jsx("a",{href:"/schick-glaser",children:E.jsxs("div",{className:"min-w-15 mx-3 mt-5 flex w-64 flex-initial flex-col items-center rounded-xl bg-white ",children:[E.jsx("p",{className:"text-xl font-bold",children:t}),E.jsx("img",{className:"h-20 w-max",src:n[0].url}),E.jsxs("p",{children:["cena: ",e,"Kč"]})]})})}function q4(){const{catalog:t}=Ai(),e=t.map(n=>(console.log(n),E.jsx(G4,{name:n.name,price:n.price,images:n.images},n.id)));return E.jsxs("div",{className:"mx-24 flex flex-col items-start",children:[E.jsx("p",{className:"mt-5 text-3xl font-bold",children:"Sluneční brýle"}),E.jsx("div",{className:"mt-3 flex flex-wrap justify-center rounded-xl bg-gray-100 p-5",children:e}),E.jsx("p",{className:"mt-5 text-3xl font-bold",children:"Jezdecké brýle"}),E.jsx("div",{className:"mt-3 flex flex-wrap justify-center rounded-xl bg-gray-100 p-5",children:e})]})}function K4(){return E.jsx("div",{children:E.jsx("p",{children:"This is about us page"})})}function Q4(){return E.jsx("div",{children:E.jsx("p",{children:"This is Contact page"})})}function Y4(t){return E.jsxs("div",{children:[E.jsx("p",{children:"Schick Glasses"}),E.jsx("img",{src:"logo2.png"})]})}function X4(t){const e=t.catalog.map((n,r)=>E.jsx("option",{children:n.id+" "+n.name},n.id));return E.jsx("div",{children:E.jsx("select",{value:t.value,onChange:n=>{t.update(n.target.value)},children:e})})}function Qh(t){return E.jsx("div",{children:E.jsx("input",{name:t.name,value:t.value,onChange:t.onChange,className:"rounded-md border-2 border-blue-500",type:"text"})})}function J4(t){const[e,n]=I.useState("Upload to catalog"),[r,i]=I.useState(""),{profile:o,catalog:s,addToCatalog:a,deleteFromCatalog:l,updateCatalog:u,uploadImage:c}=Ai(),d=o.editor,h=I.useRef(),f=I.useRef(),[g,v]=I.useState({name:"",price:0,description:"",images:""}),[_,m]=I.useState({name:"",price:0,description:"",images:[]}),[p,y]=I.useState({name:"",price:0,description:"",images:[]});I.useState("testingXYZ");const w=I.useRef("testingXYZ"),T=I.useRef({});function S(O){let G=O.target.name,B=O.target.value;G==="price"&&(B=Number(B),B=String(B)==="NaN"?0:B),v(re=>({...re,[G]:B})),x("reset"),i("")}function C(O){let G=O.target.value,B=O.target.name;(B==="price"||B==="id")&&(G=Number(G),G=String(G)==="NaN"?0:G),m(re=>({...re,[O.target.name]:G}))}function x(O){let G="";switch(O){case"reset":G="Upload to catalog";break;case"added":G="Added!"}n(G)}function V(){w.current=s[0].id}async function P(){try{let O=!0;if(h.current){let G=await c(h.current);f.current=G.downloadURL}else O=!1;a({...g,images:h.current?[{url:f.current,id:0}]:[]}),x("added"),i(O?"All data uploaded successfully":"uploaded successfully without Image")}catch(O){console.error("Error uploading image:",O)}}I.useEffect(()=>{w.current==="testingXYZ"?(m(s[0]),y(s[0])):N()},[s]);function N(){s.map(O=>{O.id===w.current&&(T.current=O)}),m(T.current),y(T.current)}return I.useEffect(()=>{},[p]),E.jsx("div",{className:"mt-5 flex justify-center",children:d&&E.jsxs("div",{className:"w-128 mt-5 flex flex-col  items-center rounded-xl border-4 p-5",children:[E.jsx("p",{className:"font-bold",children:"Editor mode"}),E.jsx("p",{children:"name"}),E.jsx(Qh,{type:"text",value:g.name,name:"name",onChange:S}),E.jsx("p",{children:"price"}),E.jsx(Qh,{value:g.price,name:"price",onChange:S}),E.jsx("p",{children:"description"}),E.jsx(Qh,{value:g.description,name:"description",onChange:S}),E.jsx("input",{type:"file",className:"mt-3",onChange:O=>{let G=O.target.files[0];h.current=G,x("reset"),i("")}}),E.jsx("button",{className:"mt-5 rounded-xl bg-sky-700 px-4 py-2 text-white hover:bg-sky-800 sm:px-8 sm:py-3",onClick:P,children:e}),E.jsx("div",{className:"mt-2 flex",children:E.jsx("p",{className:"mr-1",children:r})}),E.jsxs("div",{className:"mt-8 flex items-center",children:[E.jsx("p",{className:"mr-4 text-2xl font-bold",children:"Dev Catalog"}),E.jsx(X4,{catalog:s,update:O=>{t.setSelected(O),w.current=Number(O.substring(0,1)),N()},value:t.selected})]}),E.jsx("div",{className:"flex",children:E.jsx("div",{className:"flex flex-wrap",children:s[0].description!=="testingXYZ"&&E.jsx("div",{className:"mt-8 flex flex-col items-center",children:E.jsxs("div",{className:"flex",children:[E.jsxs("div",{className:"min-w-15 mx-3 mt-5 flex w-64 flex-initial flex-col items-center rounded-xl bg-white text-center ",children:[E.jsx("p",{className:"text-xl font-bold",children:"For Updating"}),E.jsx("p",{children:"------------------------------------"}),E.jsx("input",{type:"text",name:"name",className:"text-center text-xl font-bold",value:_.name,onChange:C}),E.jsxs("div",{className:"mt-2 flex justify-center",children:[E.jsx("a",{className:"mr-1 flex h-20 w-20",href:"/schick-glaser",children:E.jsx("img",{className:"h-20 w-max",src:_.images[0]&&_.images[0].url})}),E.jsxs("div",{className:"flex flex-col justify-center",children:[E.jsx("button",{title:"delete",onClick:()=>{w.current==="testingXYZ"&&V(),l(w.current),w.current="testingXYZ"},children:E.jsx(CA,{size:"25"})}),E.jsx("button",{className:"mt-1",title:"update",onClick:()=>{w.current==="testingXYZ"&&V(),u(Number(w.current),_)},children:E.jsx(PA,{size:"25"})})]})]}),E.jsxs("div",{className:"mt-3 flex",children:[E.jsx("p",{className:"w-[80px] text-left",children:"price:"}),E.jsx("input",{type:"text",name:"price",className:"text-center",title:"price",value:_.price,onChange:C})]}),E.jsxs("div",{className:"flex",children:[E.jsx("p",{children:"description:"}),E.jsx("input",{type:"text",name:"description",className:"text-center",title:"description",value:_.description,onChange:C})]})]}),E.jsxs("div",{className:"min-w-15 mx-3 mt-5 flex w-64 flex-initial flex-col items-center rounded-xl bg-white ",children:[E.jsx("p",{className:"text-xl font-bold",children:"Actual look"}),E.jsx("p",{children:"------------------------------------"}),E.jsx("p",{className:"text-xl font-bold",children:p.name}),E.jsx("a",{className:"mt-2 flex justify-center",href:"/schick-glaser",children:E.jsx("img",{className:"h-20 w-max",src:p.images[0]&&p.images[0].url})}),E.jsxs("p",{className:"mt-3",children:[p.price,"Kč"]}),E.jsx("p",{children:p.description})]})]})})})}),E.jsx("p",{children:"Images"}),E.jsx("p",{children:"Products"})]})})}function Up(t,e){return Up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Up(t,e)}function EC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Up(t,e)}function H(){return H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H.apply(this,arguments)}function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}function Z4(t,e){if(Ra(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ra(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eF(t){var e=Z4(t,"string");return Ra(e)=="symbol"?e:String(e)}function tF(t,e,n){return e=eF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M0(Object(n),!0).forEach(function(r){tF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var F0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Yh=function(){return Math.random().toString(36).substring(7).split("").join(".")},U0={INIT:"@@redux/INIT"+Yh(),REPLACE:"@@redux/REPLACE"+Yh(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Yh()}};function nF(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function IC(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Tt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Tt(1));return n(IC)(t,e)}if(typeof t!="function")throw new Error(Tt(2));var i=t,o=e,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(Tt(3));return o}function d(v){if(typeof v!="function")throw new Error(Tt(4));if(l)throw new Error(Tt(5));var _=!0;return u(),a.push(v),function(){if(_){if(l)throw new Error(Tt(6));_=!1,u();var p=a.indexOf(v);a.splice(p,1),s=null}}}function h(v){if(!nF(v))throw new Error(Tt(7));if(typeof v.type>"u")throw new Error(Tt(8));if(l)throw new Error(Tt(9));try{l=!0,o=i(o,v)}finally{l=!1}for(var _=s=a,m=0;m<_.length;m++){var p=_[m];p()}return v}function f(v){if(typeof v!="function")throw new Error(Tt(10));i=v,h({type:U0.REPLACE})}function g(){var v,_=d;return v={subscribe:function(p){if(typeof p!="object"||p===null)throw new Error(Tt(11));function y(){p.next&&p.next(c())}y();var w=_(y);return{unsubscribe:w}}},v[F0]=function(){return this},v}return h({type:U0.INIT}),r={dispatch:h,subscribe:d,getState:c,replaceReducer:f},r[F0]=g,r}function B0(t,e){return function(){return e(t.apply(this,arguments))}}function $0(t,e){if(typeof t=="function")return B0(t,e);if(typeof t!="object"||t===null)throw new Error(Tt(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=B0(i,e))}return n}function TC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function rF(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Tt(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(l){return l(s)});return o=TC.apply(void 0,a)(i.dispatch),V0(V0({},i),{},{dispatch:o})}}}var SC=Z.createContext(null);function iF(t){t()}var CC=iF,oF=function(e){return CC=e},sF=function(){return CC};function aF(){var t=sF(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=e;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!o||e===null||(o=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var j0={notify:function(){},get:function(){return[]}};function RC(t,e){var n,r=j0;function i(d){return l(),r.subscribe(d)}function o(){r.notify()}function s(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(s):t.subscribe(s),r=aF())}function u(){n&&(n(),n=void 0,r.clear(),r=j0)}var c={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:function(){return r}};return c}var PC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?I.useLayoutEffect:I.useEffect;function lF(t){var e=t.store,n=t.context,r=t.children,i=I.useMemo(function(){var a=RC(e);return{store:e,subscription:a}},[e]),o=I.useMemo(function(){return e.getState()},[e]);PC(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,o]);var s=n||SC;return Z.createElement(s.Provider,{value:i},r)}function gc(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var bC={exports:{}},de={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qe=typeof Symbol=="function"&&Symbol.for,cv=qe?Symbol.for("react.element"):60103,dv=qe?Symbol.for("react.portal"):60106,Ad=qe?Symbol.for("react.fragment"):60107,xd=qe?Symbol.for("react.strict_mode"):60108,Dd=qe?Symbol.for("react.profiler"):60114,kd=qe?Symbol.for("react.provider"):60109,Nd=qe?Symbol.for("react.context"):60110,hv=qe?Symbol.for("react.async_mode"):60111,Od=qe?Symbol.for("react.concurrent_mode"):60111,Ld=qe?Symbol.for("react.forward_ref"):60112,Md=qe?Symbol.for("react.suspense"):60113,uF=qe?Symbol.for("react.suspense_list"):60120,Vd=qe?Symbol.for("react.memo"):60115,Fd=qe?Symbol.for("react.lazy"):60116,cF=qe?Symbol.for("react.block"):60121,dF=qe?Symbol.for("react.fundamental"):60117,hF=qe?Symbol.for("react.responder"):60118,fF=qe?Symbol.for("react.scope"):60119;function Wt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case cv:switch(t=t.type,t){case hv:case Od:case Ad:case Dd:case xd:case Md:return t;default:switch(t=t&&t.$$typeof,t){case Nd:case Ld:case Fd:case Vd:case kd:return t;default:return e}}case dv:return e}}}function AC(t){return Wt(t)===Od}de.AsyncMode=hv;de.ConcurrentMode=Od;de.ContextConsumer=Nd;de.ContextProvider=kd;de.Element=cv;de.ForwardRef=Ld;de.Fragment=Ad;de.Lazy=Fd;de.Memo=Vd;de.Portal=dv;de.Profiler=Dd;de.StrictMode=xd;de.Suspense=Md;de.isAsyncMode=function(t){return AC(t)||Wt(t)===hv};de.isConcurrentMode=AC;de.isContextConsumer=function(t){return Wt(t)===Nd};de.isContextProvider=function(t){return Wt(t)===kd};de.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===cv};de.isForwardRef=function(t){return Wt(t)===Ld};de.isFragment=function(t){return Wt(t)===Ad};de.isLazy=function(t){return Wt(t)===Fd};de.isMemo=function(t){return Wt(t)===Vd};de.isPortal=function(t){return Wt(t)===dv};de.isProfiler=function(t){return Wt(t)===Dd};de.isStrictMode=function(t){return Wt(t)===xd};de.isSuspense=function(t){return Wt(t)===Md};de.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ad||t===Od||t===Dd||t===xd||t===Md||t===uF||typeof t=="object"&&t!==null&&(t.$$typeof===Fd||t.$$typeof===Vd||t.$$typeof===kd||t.$$typeof===Nd||t.$$typeof===Ld||t.$$typeof===dF||t.$$typeof===hF||t.$$typeof===fF||t.$$typeof===cF)};de.typeOf=Wt;bC.exports=de;var pF=bC.exports,fv=pF,gF={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},mF={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},vF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pv={};pv[fv.ForwardRef]=vF;pv[fv.Memo]=xC;function z0(t){return fv.isMemo(t)?xC:pv[t.$$typeof]||gF}var yF=Object.defineProperty,_F=Object.getOwnPropertyNames,W0=Object.getOwnPropertySymbols,wF=Object.getOwnPropertyDescriptor,EF=Object.getPrototypeOf,H0=Object.prototype;function DC(t,e,n){if(typeof e!="string"){if(H0){var r=EF(e);r&&r!==H0&&DC(t,r,n)}var i=_F(e);W0&&(i=i.concat(W0(e)));for(var o=z0(t),s=z0(e),a=0;a<i.length;++a){var l=i[a];if(!mF[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var u=wF(e,l);try{yF(t,l,u)}catch{}}}}return t}var IF=DC;const G0=Gp(IF);var kC={exports:{}},he={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud=60103,Bd=60106,nl=60107,rl=60108,il=60114,ol=60109,sl=60110,al=60112,ll=60113,gv=60120,ul=60115,cl=60116,NC=60121,OC=60122,LC=60117,MC=60129,VC=60131;if(typeof Symbol=="function"&&Symbol.for){var Ke=Symbol.for;Ud=Ke("react.element"),Bd=Ke("react.portal"),nl=Ke("react.fragment"),rl=Ke("react.strict_mode"),il=Ke("react.profiler"),ol=Ke("react.provider"),sl=Ke("react.context"),al=Ke("react.forward_ref"),ll=Ke("react.suspense"),gv=Ke("react.suspense_list"),ul=Ke("react.memo"),cl=Ke("react.lazy"),NC=Ke("react.block"),OC=Ke("react.server.block"),LC=Ke("react.fundamental"),MC=Ke("react.debug_trace_mode"),VC=Ke("react.legacy_hidden")}function vn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ud:switch(t=t.type,t){case nl:case il:case rl:case ll:case gv:return t;default:switch(t=t&&t.$$typeof,t){case sl:case al:case cl:case ul:case ol:return t;default:return e}}case Bd:return e}}}var TF=ol,SF=Ud,CF=al,RF=nl,PF=cl,bF=ul,AF=Bd,xF=il,DF=rl,kF=ll;he.ContextConsumer=sl;he.ContextProvider=TF;he.Element=SF;he.ForwardRef=CF;he.Fragment=RF;he.Lazy=PF;he.Memo=bF;he.Portal=AF;he.Profiler=xF;he.StrictMode=DF;he.Suspense=kF;he.isAsyncMode=function(){return!1};he.isConcurrentMode=function(){return!1};he.isContextConsumer=function(t){return vn(t)===sl};he.isContextProvider=function(t){return vn(t)===ol};he.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ud};he.isForwardRef=function(t){return vn(t)===al};he.isFragment=function(t){return vn(t)===nl};he.isLazy=function(t){return vn(t)===cl};he.isMemo=function(t){return vn(t)===ul};he.isPortal=function(t){return vn(t)===Bd};he.isProfiler=function(t){return vn(t)===il};he.isStrictMode=function(t){return vn(t)===rl};he.isSuspense=function(t){return vn(t)===ll};he.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===nl||t===il||t===MC||t===rl||t===ll||t===gv||t===VC||typeof t=="object"&&t!==null&&(t.$$typeof===cl||t.$$typeof===ul||t.$$typeof===ol||t.$$typeof===sl||t.$$typeof===al||t.$$typeof===LC||t.$$typeof===NC||t[0]===OC)};he.typeOf=vn;kC.exports=he;var NF=kC.exports,OF=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],LF=["reactReduxForwardedRef"],MF=[],VF=[null,null];function FF(t,e){var n=t[1];return[e.payload,n+1]}function q0(t,e,n){PC(function(){return t.apply(void 0,e)},n)}function UF(t,e,n,r,i,o,s){t.current=r,e.current=i,n.current=!1,o.current&&(o.current=null,s())}function BF(t,e,n,r,i,o,s,a,l,u){if(t){var c=!1,d=null,h=function(){if(!c){var v=e.getState(),_,m;try{_=r(v,i.current)}catch(p){m=p,d=p}m||(d=null),_===o.current?s.current||l():(o.current=_,a.current=_,s.current=!0,u({type:"STORE_UPDATED",payload:{error:m}}))}};n.onStateChange=h,n.trySubscribe(),h();var f=function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d};return f}}var $F=function(){return[null,0]};function jF(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(y){return"ConnectAdvanced("+y+")"}:r,o=n.methodName,s=o===void 0?"connectAdvanced":o,a=n.renderCountProp,l=a===void 0?void 0:a,u=n.shouldHandleStateChanges,c=u===void 0?!0:u,d=n.storeKey,h=d===void 0?"store":d;n.withRef;var f=n.forwardRef,g=f===void 0?!1:f,v=n.context,_=v===void 0?SC:v,m=gc(n,OF),p=_;return function(w){var T=w.displayName||w.name||"Component",S=i(T),C=H({},m,{getDisplayName:i,methodName:s,renderCountProp:l,shouldHandleStateChanges:c,storeKey:h,displayName:S,wrappedComponentName:T,WrappedComponent:w}),x=m.pure;function V(B){return t(B.dispatch,C)}var P=x?I.useMemo:function(B){return B()};function N(B){var re=I.useMemo(function(){var es=B.reactReduxForwardedRef,Zd=gc(B,LF);return[B.context,es,Zd]},[B]),_e=re[0],Ue=re[1],D=re[2],j=I.useMemo(function(){return _e&&_e.Consumer&&NF.isContextConsumer(Z.createElement(_e.Consumer,null))?_e:p},[_e,p]),W=I.useContext(j),ae=!!B.store&&!!B.store.getState&&!!B.store.dispatch;W&&W.store;var q=ae?B.store:W.store,yn=I.useMemo(function(){return V(q)},[q]),Ht=I.useMemo(function(){if(!c)return VF;var es=RC(q,ae?null:W.subscription),Zd=es.notifyNestedSubs.bind(es);return[es,Zd]},[q,ae,W]),Gt=Ht[0],qt=Ht[1],Fn=I.useMemo(function(){return ae?W:H({},W,{subscription:Gt})},[ae,W,Gt]),fl=I.useReducer(FF,MF,$F),Kd=fl[0],Bi=Kd[0],Qd=fl[1];if(Bi&&Bi.error)throw Bi.error;var Uv=I.useRef(),Yd=I.useRef(D),pl=I.useRef(),Bv=I.useRef(!1),Xd=P(function(){return pl.current&&D===Yd.current?pl.current:yn(q.getState(),D)},[q,Bi,D]);q0(UF,[Yd,Uv,Bv,D,Xd,pl,qt]),q0(BF,[c,q,Gt,yn,Yd,Uv,Bv,pl,qt,Qd],[q,Gt,yn]);var Jd=I.useMemo(function(){return Z.createElement(w,H({},Xd,{ref:Ue}))},[Ue,w,Xd]),UR=I.useMemo(function(){return c?Z.createElement(j.Provider,{value:Fn},Jd):Jd},[j,Jd,Fn]);return UR}var O=x?Z.memo(N):N;if(O.WrappedComponent=w,O.displayName=N.displayName=S,g){var G=Z.forwardRef(function(re,_e){return Z.createElement(O,H({},re,{reactReduxForwardedRef:_e}))});return G.displayName=S,G.WrappedComponent=w,G0(G,w)}return G0(O,w)}}function K0(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Xh(t,e){if(K0(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!K0(t[n[i]],e[n[i]]))return!1;return!0}function zF(t,e){var n={},r=function(s){var a=t[s];typeof a=="function"&&(n[s]=function(){return e(a.apply(void 0,arguments))})};for(var i in t)r(i);return n}function mv(t){return function(n,r){var i=t(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function Q0(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function FC(t,e){return function(r,i){i.displayName;var o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=t,o.dependsOnOwnProps=Q0(t);var u=o(a,l);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=Q0(u),u=o(a,l)),u},o}}function WF(t){return typeof t=="function"?FC(t):void 0}function HF(t){return t?void 0:mv(function(e){return{dispatch:e}})}function GF(t){return t&&typeof t=="object"?mv(function(e){return zF(t,e)}):void 0}const qF=[WF,HF,GF];function KF(t){return typeof t=="function"?FC(t):void 0}function QF(t){return t?void 0:mv(function(){return{}})}const YF=[KF,QF];function XF(t,e,n){return H({},n,t,e)}function JF(t){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,s=!1,a;return function(u,c,d){var h=t(u,c,d);return s?(!i||!o(h,a))&&(a=h):(s=!0,a=h),a}}}function ZF(t){return typeof t=="function"?JF(t):void 0}function eU(t){return t?void 0:function(){return XF}}const tU=[ZF,eU];var nU=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function rU(t,e,n,r){return function(o,s){return n(t(o,s),e(r,s),s)}}function iU(t,e,n,r,i){var o=i.areStatesEqual,s=i.areOwnPropsEqual,a=i.areStatePropsEqual,l=!1,u,c,d,h,f;function g(y,w){return u=y,c=w,d=t(u,c),h=e(r,c),f=n(d,h,c),l=!0,f}function v(){return d=t(u,c),e.dependsOnOwnProps&&(h=e(r,c)),f=n(d,h,c),f}function _(){return t.dependsOnOwnProps&&(d=t(u,c)),e.dependsOnOwnProps&&(h=e(r,c)),f=n(d,h,c),f}function m(){var y=t(u,c),w=!a(y,d);return d=y,w&&(f=n(d,h,c)),f}function p(y,w){var T=!s(w,c),S=!o(y,u,w,c);return u=y,c=w,T&&S?v():T?_():S?m():f}return function(w,T){return l?p(w,T):g(w,T)}}function oU(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=gc(e,nU),s=n(t,o),a=r(t,o),l=i(t,o),u=o.pure?iU:rU;return u(s,a,l,t,o)}var sU=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Jh(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(o,s){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+s.wrappedComponentName+".")}}function aU(t,e){return t===e}function lU(t){var e=t===void 0?{}:t,n=e.connectHOC,r=n===void 0?jF:n,i=e.mapStateToPropsFactories,o=i===void 0?YF:i,s=e.mapDispatchToPropsFactories,a=s===void 0?qF:s,l=e.mergePropsFactories,u=l===void 0?tU:l,c=e.selectorFactory,d=c===void 0?oU:c;return function(f,g,v,_){_===void 0&&(_={});var m=_,p=m.pure,y=p===void 0?!0:p,w=m.areStatesEqual,T=w===void 0?aU:w,S=m.areOwnPropsEqual,C=S===void 0?Xh:S,x=m.areStatePropsEqual,V=x===void 0?Xh:x,P=m.areMergedPropsEqual,N=P===void 0?Xh:P,O=gc(m,sU),G=Jh(f,o,"mapStateToProps"),B=Jh(g,a,"mapDispatchToProps"),re=Jh(v,u,"mergeProps");return r(d,H({methodName:"connect",getDisplayName:function(Ue){return"Connect("+Ue+")"},shouldHandleStateChanges:!!f,initMapStateToProps:G,initMapDispatchToProps:B,initMergeProps:re,pure:y,areStatesEqual:T,areOwnPropsEqual:C,areStatePropsEqual:V,areMergedPropsEqual:N},O))}}const UC=lU();oF($g.unstable_batchedUpdates);function uU(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function BC(t,e){var n=I.useState(function(){return{inputs:e,result:t()}})[0],r=I.useRef(!0),i=I.useRef(n),o=r.current||!!(e&&i.current.inputs&&uU(e,i.current.inputs)),s=o?i.current:{inputs:e,result:t()};return I.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function cU(t,e){return BC(function(){return t},e)}var oe=BC,$=cU,dU="Invariant failed";function hU(t,e){if(!t)throw new Error(dU)}var hn=function(e){var n=e.top,r=e.right,i=e.bottom,o=e.left,s=r-o,a=i-n,l={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},vv=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},Y0=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},fU=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},Zh={top:0,right:0,bottom:0,left:0},yv=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?Zh:r,o=e.border,s=o===void 0?Zh:o,a=e.padding,l=a===void 0?Zh:a,u=hn(vv(n,i)),c=hn(Y0(n,s)),d=hn(Y0(c,l));return{marginBox:u,borderBox:hn(n),paddingBox:c,contentBox:d,margin:i,border:s,padding:l}},Kt=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&hU(!1),i},pU=function(){return{x:window.pageXOffset,y:window.pageYOffset}},mc=function(e,n){var r=e.borderBox,i=e.border,o=e.margin,s=e.padding,a=fU(r,n);return yv({borderBox:a,border:i,margin:o,padding:s})},vc=function(e,n){return n===void 0&&(n=pU()),mc(e,n)},$C=function(e,n){var r={top:Kt(n.marginTop),right:Kt(n.marginRight),bottom:Kt(n.marginBottom),left:Kt(n.marginLeft)},i={top:Kt(n.paddingTop),right:Kt(n.paddingRight),bottom:Kt(n.paddingBottom),left:Kt(n.paddingLeft)},o={top:Kt(n.borderTopWidth),right:Kt(n.borderRightWidth),bottom:Kt(n.borderBottomWidth),left:Kt(n.borderLeftWidth)};return yv({borderBox:e,margin:r,padding:i,border:o})},jC=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return $C(n,r)},X0=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function gU(t,e){return!!(t===e||X0(t)&&X0(e))}function mU(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!gU(t[n],e[n]))return!1;return!0}function ze(t,e){e===void 0&&(e=mU);var n,r=[],i,o=!1;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&e(a,r)||(i=t.apply(this,a),o=!0,n=this,r=a),i}return s}var Pa=function(e){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function zC(t,e){}zC.bind(null,"warn");zC.bind(null,"error");function Nr(){}function vU(t,e){return H({},t,{},e)}function en(t,e,n){var r=e.map(function(i){var o=vU(n,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var yU="Invariant failed";function yc(t){this.message=t}yc.prototype.toString=function(){return this.message};function k(t,e){if(!t)throw new yc(yU)}var _U=function(t){EC(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.callbacks=null,r.unbind=Nr,r.onWindowError=function(a){var l=r.getCallbacks();l.isDragging()&&l.tryAbort();var u=a.error;u instanceof yc&&a.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(a){r.callbacks=a},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=en(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof yc){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(Z.Component),wU=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,_c=function(e){return e+1},EU=function(e){return`
  You have lifted an item in position `+_c(e.source.index)+`
`},WC=function(e,n){var r=e.droppableId===n.droppableId,i=_c(e.index),o=_c(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},HC=function(e,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},IU=function(e){var n=e.destination;if(n)return WC(e.source,n);var r=e.combine;return r?HC(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},J0=function(e){return`
  The item has returned to its starting position
  of `+_c(e.index)+`
`},TU=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+J0(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+WC(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+HC(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+J0(e.source)+`
  `},vu={dragHandleUsageInstructions:wU,onDragStart:EU,onDragUpdate:IU,onDragEnd:TU},He={x:0,y:0},et=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},Lt=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},Or=function(e,n){return e.x===n.x&&e.y===n.y},Xo=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},xi=function(e,n,r){var i;return r===void 0&&(r=0),i={},i[e]=n,i[e==="x"?"y":"x"]=r,i},ba=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},Z0=function(e,n){return Math.min.apply(Math,n.map(function(r){return ba(e,r)}))},GC=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},SU=function(t,e){var n=hn({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},dl=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},ew=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},CU={top:0,right:0,bottom:0,left:0},RU=function(e,n){return n?dl(e,n.scroll.diff.displacement):e},PU=function(e,n,r){if(r&&r.increasedBy){var i;return H({},e,(i={},i[n.end]=e[n.end]+r.increasedBy[n.line],i))}return e},bU=function(e,n){return n&&n.shouldClipSubject?SU(n.pageMarginBox,e):hn(e)},Vo=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,o=RU(e.marginBox,i),s=PU(o,r,n),a=bU(s,i);return{page:e,withPlaceholder:n,active:a}},_v=function(t,e){t.frame||k(!1);var n=t.frame,r=Lt(e,n.scroll.initial),i=Xo(r),o=H({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),s=Vo({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o}),a=H({},t,{frame:o,subject:s});return a};function wc(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function wv(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function Xr(t,e){if(t.find)return t.find(e);var n=wv(t,e);if(n!==-1)return t[n]}function qC(t){return Array.prototype.slice.call(t)}var KC=ze(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),QC=ze(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),$d=ze(function(t){return wc(t)}),AU=ze(function(t){return wc(t)}),Jo=ze(function(t,e){var n=AU(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function Ev(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function jd(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var zd=ze(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),xU=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.previousImpact;if(!r.isCombineEnabled)return null;var s=Ev(o);if(!s)return null;function a(v){var _={type:"COMBINE",combine:{draggableId:v,droppableId:r.descriptor.id}};return H({},o,{at:_})}var l=o.displaced.all,u=l.length?l[0]:null;if(e)return u?a(u):null;var c=zd(n,i);if(!u){if(!c.length)return null;var d=c[c.length-1];return a(d.descriptor.id)}var h=wv(c,function(v){return v.descriptor.id===u});h===-1&&k(!1);var f=h-1;if(f<0)return null;var g=c[f];return a(g.descriptor.id)},Zo=function(t,e){return t.descriptor.droppableId===e.descriptor.id},YC={point:He,value:0},Aa={invisible:{},visible:{},all:[]},DU={displaced:Aa,displacedBy:YC,at:null},rn=function(t,e){return function(n){return t<=n&&n<=e}},XC=function(t){var e=rn(t.top,t.bottom),n=rn(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=e(r.top)||e(r.bottom),s=n(r.left)||n(r.right),a=o&&s;if(a)return!0;var l=r.top<t.top&&r.bottom>t.bottom,u=r.left<t.left&&r.right>t.right,c=l&&u;if(c)return!0;var d=l&&s||u&&o;return d}},kU=function(t){var e=rn(t.top,t.bottom),n=rn(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return i}},Iv={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},JC={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},NU=function(t){return function(e){var n=rn(e.top,e.bottom),r=rn(e.left,e.right);return function(i){return t===Iv?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},OU=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:He;return dl(e,r)},LU=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},MU=function(e,n,r){return r(n)(e)},Tv=function(e){var n=e.target,r=e.destination,i=e.viewport,o=e.withDroppableDisplacement,s=e.isVisibleThroughFrameFn,a=o?OU(n,r):n;return LU(a,r,s)&&MU(a,i,s)},VU=function(e){return Tv(H({},e,{isVisibleThroughFrameFn:XC}))},ZC=function(e){return Tv(H({},e,{isVisibleThroughFrameFn:kU}))},FU=function(e){return Tv(H({},e,{isVisibleThroughFrameFn:NU(e.destination.axis)}))},UU=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[e])return!1;var s=o[e];return s?s.shouldAnimate:!0};function BU(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return hn(vv(n,r))}function xa(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,o=t.forceShouldAnimate,s=t.last;return e.reduce(function(l,u){var c=BU(u,r),d=u.descriptor.id;l.all.push(d);var h=VU({target:c,destination:n,viewport:i,withDroppableDisplacement:!0});if(!h)return l.invisible[u.descriptor.id]=!0,l;var f=UU(d,s,o),g={draggableId:d,shouldAnimate:f};return l.visible[d]=g,l},{all:[],visible:{},invisible:{}})}function $U(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function tw(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,o=$U(e,{inHomeList:n});return{displaced:Aa,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function Ec(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,o=t.displacedBy,s=t.last,a=t.index,l=t.forceShouldAnimate,u=Zo(e,r);if(a==null)return tw({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var c=Xr(n,function(v){return v.descriptor.index===a});if(!c)return tw({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var d=zd(e,n),h=n.indexOf(c),f=d.slice(h),g=xa({afterDragging:f,destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:l});return{displaced:g,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function jr(t,e){return!!e.effected[t]}var jU=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,o=t.afterCritical;if(!n.isCombineEnabled)return null;var s=i.draggableId,a=r[s],l=a.descriptor.index,u=jr(s,o);return u?e?l:l-1:e?l+1:l},zU=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var o=i.index,s=e?o+1:o-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index,u=n?l:l+1;return s<a||s>u?null:s},WU=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,o=t.destination,s=t.insideDestination,a=t.previousImpact,l=t.viewport,u=t.afterCritical,c=a.at;if(c||k(!1),c.type==="REORDER"){var d=zU({isMovingForward:e,isInHomeList:n,location:c.destination,insideDestination:s});return d==null?null:Ec({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:d})}var h=jU({isMovingForward:e,destination:o,displaced:a.displaced,draggables:i,combine:c.combine,afterCritical:u});return h==null?null:Ec({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:h})},HU=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,o=!!(e.visible[r]||e.invisible[r]);return jr(r,n)?o?He:Xo(i.point):o?i.point:He},GU=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=jd(n);i||k(!1);var o=i.draggableId,s=r[o].page.borderBox.center,a=HU({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return et(s,a)},eR=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},qU=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},Sv=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},nw=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return xi(n.line,r.marginBox[n.end]+eR(n,i),Sv(n,r.marginBox,i))},rw=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return xi(n.line,r.marginBox[n.start]-qU(n,i),Sv(n,r.marginBox,i))},KU=function(e){var n=e.axis,r=e.moveInto,i=e.isMoving;return xi(n.line,r.contentBox[n.start]+eR(n,i),Sv(n,r.contentBox,i))},QU=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,o=t.afterCritical,s=Jo(i.descriptor.id,r),a=n.page,l=i.axis;if(!s.length)return KU({axis:l,moveInto:i.page,isMoving:a});var u=e.displaced,c=e.displacedBy,d=u.all[0];if(d){var h=r[d];if(jr(d,o))return rw({axis:l,moveRelativeTo:h.page,isMoving:a});var f=mc(h.page,c.point);return rw({axis:l,moveRelativeTo:f,isMoving:a})}var g=s[s.length-1];if(g.descriptor.id===n.descriptor.id)return a.borderBox.center;if(jr(g.descriptor.id,o)){var v=mc(g.page,Xo(o.displacedBy.point));return nw({axis:l,moveRelativeTo:v,isMoving:a})}return nw({axis:l,moveRelativeTo:g.page,isMoving:a})},Bp=function(t,e){var n=t.frame;return n?et(e,n.scroll.diff.displacement):e},YU=function(e){var n=e.impact,r=e.draggable,i=e.droppable,o=e.draggables,s=e.afterCritical,a=r.page.borderBox.center,l=n.at;return!i||!l?a:l.type==="REORDER"?QU({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:s}):GU({impact:n,draggables:o,afterCritical:s})},Wd=function(t){var e=YU(t),n=t.droppable,r=n?Bp(n,e):e;return r},tR=function(t,e){var n=Lt(e,t.scroll.initial),r=Xo(n),i=hn({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),o={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return o};function iw(t,e){return t.map(function(n){return e[n]})}function XU(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var JU=function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,o=t.maxScrollChange,s=tR(n,et(n.scroll.current,o)),a=r.frame?_v(r,et(r.frame.scroll.current,o)):r,l=e.displaced,u=xa({afterDragging:iw(l.all,i),destination:r,displacedBy:e.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),c=xa({afterDragging:iw(l.all,i),destination:a,displacedBy:e.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,u,c];l.all.forEach(function(v){var _=XU(v,f);if(_){h[v]=_;return}d[v]=!0});var g=H({},e,{displaced:{all:l.all,invisible:d,visible:h}});return g},ZU=function(t,e){return et(t.scroll.diff.displacement,e)},Cv=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,i=ZU(r,e),o=Lt(i,n.page.borderBox.center);return et(n.client.borderBox.center,o)},nR=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,o=t.withDroppableDisplacement,s=t.onlyOnMainAxis,a=s===void 0?!1:s,l=Lt(r,e.page.borderBox.center),u=dl(e.page.borderBox,l),c={target:u,destination:n,withDroppableDisplacement:o,viewport:i};return a?FU(c):ZC(c)},eB=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,o=t.previousImpact,s=t.viewport,a=t.previousPageBorderBoxCenter,l=t.previousClientSelection,u=t.afterCritical;if(!r.isEnabled)return null;var c=Jo(r.descriptor.id,i),d=Zo(n,r),h=xU({isMovingForward:e,draggable:n,destination:r,insideDestination:c,previousImpact:o})||WU({isMovingForward:e,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:c,previousImpact:o,viewport:s,afterCritical:u});if(!h)return null;var f=Wd({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:u}),g=nR({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var v=Cv({pageBorderBoxCenter:f,draggable:n,viewport:s});return{clientSelection:v,impact:h,scrollJumpRequest:null}}var _=Lt(f,a),m=JU({impact:h,viewport:s,destination:r,draggables:i,maxScrollChange:_});return{clientSelection:l,impact:m,scrollJumpRequest:_}},mt=function(e){var n=e.subject.active;return n||k(!1),n},tB=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,o=t.viewport,s=r.subject.active;if(!s)return null;var a=r.axis,l=rn(s[a.start],s[a.end]),u=$d(i).filter(function(d){return d!==r}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return XC(o.frame)(mt(d))}).filter(function(d){var h=mt(d);return e?s[a.crossAxisEnd]<h[a.crossAxisEnd]:h[a.crossAxisStart]<s[a.crossAxisStart]}).filter(function(d){var h=mt(d),f=rn(h[a.start],h[a.end]);return l(h[a.start])||l(h[a.end])||f(s[a.start])||f(s[a.end])}).sort(function(d,h){var f=mt(d)[a.crossAxisStart],g=mt(h)[a.crossAxisStart];return e?f-g:g-f}).filter(function(d,h,f){return mt(d)[a.crossAxisStart]===mt(f[0])[a.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var c=u.filter(function(d){var h=rn(mt(d)[a.start],mt(d)[a.end]);return h(n[a.line])});return c.length===1?c[0]:c.length>1?c.sort(function(d,h){return mt(d)[a.start]-mt(h)[a.start]})[0]:u.sort(function(d,h){var f=Z0(n,ew(mt(d))),g=Z0(n,ew(mt(h)));return f!==g?f-g:mt(d)[a.start]-mt(h)[a.start]})[0]},ow=function(e,n){var r=e.page.borderBox.center;return jr(e.descriptor.id,n)?Lt(r,n.displacedBy.point):r},nB=function(e,n){var r=e.page.borderBox;return jr(e.descriptor.id,n)?dl(r,Xo(n.displacedBy.point)):r},rB=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,o=t.afterCritical,s=i.filter(function(a){return ZC({target:nB(a,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(a,l){var u=ba(e,Bp(r,ow(a,o))),c=ba(e,Bp(r,ow(l,o)));return u<c?-1:c<u?1:a.descriptor.index-l.descriptor.index});return s[0]||null},hl=ze(function(e,n){var r=n[e.line];return{value:r,point:xi(e.line,r)}}),iB=function(e,n,r){var i=e.axis;if(e.descriptor.mode==="virtual")return xi(i.line,n[i.line]);var o=e.subject.page.contentBox[i.size],s=Jo(e.descriptor.id,r),a=s.reduce(function(c,d){return c+d.client.marginBox[i.size]},0),l=a+n[i.line],u=l-o;return u<=0?null:xi(i.line,u)},rR=function(e,n){return H({},e,{scroll:H({},e.scroll,{max:n})})},iR=function(e,n,r){var i=e.frame;Zo(n,e)&&k(!1),e.subject.withPlaceholder&&k(!1);var o=hl(e.axis,n.displaceBy).point,s=iB(e,o,r),a={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var l=Vo({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return H({},e,{subject:l})}var u=s?et(i.scroll.max,s):i.scroll.max,c=rR(i,u),d=Vo({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c});return H({},e,{subject:d,frame:c})},oB=function(e){var n=e.subject.withPlaceholder;n||k(!1);var r=e.frame;if(!r){var i=Vo({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return H({},e,{subject:i})}var o=n.oldFrameMaxScroll;o||k(!1);var s=rR(r,o),a=Vo({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return H({},e,{subject:a,frame:s})},sB=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,o=t.draggables,s=t.destination,a=t.viewport,l=t.afterCritical;if(!n){if(r.length)return null;var u={displaced:Aa,displacedBy:YC,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},c=Wd({impact:u,draggable:i,droppable:s,draggables:o,afterCritical:l}),d=Zo(i,s)?s:iR(s,i,o),h=nR({draggable:i,destination:d,newPageBorderBoxCenter:c,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?u:null}var f=e[s.axis.line]<=n.page.borderBox.center[s.axis.line],g=function(){var _=n.descriptor.index;return n.descriptor.id===i.descriptor.id||f?_:_+1}(),v=hl(s.axis,i.displaceBy);return Ec({draggable:i,insideDestination:r,destination:s,viewport:a,displacedBy:v,last:Aa,index:g})},aB=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,o=t.draggables,s=t.droppables,a=t.viewport,l=t.afterCritical,u=tB({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:s,viewport:a});if(!u)return null;var c=Jo(u.descriptor.id,o),d=rB({pageBorderBoxCenter:n,viewport:a,destination:u,insideDestination:c,afterCritical:l}),h=sB({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:c,viewport:a,afterCritical:l});if(!h)return null;var f=Wd({impact:h,draggable:r,droppable:u,draggables:o,afterCritical:l}),g=Cv({pageBorderBoxCenter:f,draggable:r,viewport:a});return{clientSelection:g,impact:h,scrollJumpRequest:null}},Ft=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},lB=function(e,n){var r=Ft(e);return r?n[r]:null},uB=function(t){var e=t.state,n=t.type,r=lB(e.impact,e.dimensions.droppables),i=!!r,o=e.dimensions.droppables[e.critical.droppable.id],s=r||o,a=s.axis.direction,l=a==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||a==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!i)return null;var u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,h=e.dimensions,f=h.draggables,g=h.droppables;return l?eB({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:s,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):aB({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:s,draggables:f,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function ni(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function oR(t){var e=rn(t.top,t.bottom),n=rn(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function cB(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function dB(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,o=r.map(function(s){var a=s.axis,l=xi(s.axis.line,e.center[a.line],s.page.borderBox.center[a.crossAxisLine]);return{id:s.descriptor.id,distance:ba(i,l)}}).sort(function(s,a){return a.distance-s.distance});return o[0]?o[0].id:null}function hB(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=$d(r).filter(function(o){if(!o.isEnabled)return!1;var s=o.subject.active;if(!s||!cB(e,s))return!1;if(oR(s)(e.center))return!0;var a=o.axis,l=s.center[a.crossAxisLine],u=e[a.crossAxisStart],c=e[a.crossAxisEnd],d=rn(s[a.crossAxisStart],s[a.crossAxisEnd]),h=d(u),f=d(c);return!h&&!f?!0:h?u<l:c>l});return i.length?i.length===1?i[0].descriptor.id:dB({pageBorderBox:e,draggable:n,candidates:i}):null}var sR=function(e,n){return hn(dl(e,n))},fB=function(t,e){var n=t.frame;return n?sR(e,n.scroll.diff.value):e};function aR(t){var e=t.displaced,n=t.id;return!!(e.visible[n]||e.invisible[n])}function pB(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var gB=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.last,s=t.viewport,a=t.afterCritical,l=r.axis,u=hl(r.axis,n.displaceBy),c=u.value,d=e[l.start],h=e[l.end],f=zd(n,i),g=Xr(f,function(_){var m=_.descriptor.id,p=_.page.borderBox.center[l.line],y=jr(m,a),w=aR({displaced:o,id:m});return y?w?h<=p:d<p-c:w?h<=p+c:d<p}),v=pB({draggable:n,closest:g,inHomeList:Zo(n,r)});return Ec({draggable:n,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:u,index:v})},mB=4,vB=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,o=t.insideDestination,s=t.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,l=hl(i.axis,e.displaceBy),u=l.value,c=n[a.start],d=n[a.end],h=zd(e,o),f=Xr(h,function(v){var _=v.descriptor.id,m=v.page.borderBox,p=m[a.size],y=p/mB,w=jr(_,s),T=aR({displaced:r.displaced,id:_});return w?T?d>m[a.start]+y&&d<m[a.end]-y:c>m[a.start]-u+y&&c<m[a.end]-u-y:T?d>m[a.start]+u+y&&d<m[a.end]+u-y:c>m[a.start]+y&&c<m[a.end]-y});if(!f)return null;var g={displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:i.descriptor.id}}};return g},lR=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,o=t.previousImpact,s=t.viewport,a=t.afterCritical,l=sR(n.page.borderBox,e),u=hB({pageBorderBox:l,draggable:n,droppables:i});if(!u)return DU;var c=i[u],d=Jo(c.descriptor.id,r),h=fB(c,l);return vB({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:c,insideDestination:d,afterCritical:a})||gB({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:c,insideDestination:d,last:o.displaced,viewport:s,afterCritical:a})},Rv=function(t,e){var n;return H({},t,(n={},n[e.descriptor.id]=e,n))},yB=function(e){var n=e.previousImpact,r=e.impact,i=e.droppables,o=Ft(n),s=Ft(r);if(!o||o===s)return i;var a=i[o];if(!a.subject.withPlaceholder)return i;var l=oB(a);return Rv(i,l)},_B=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,o=t.impact,s=yB({previousImpact:i,impact:o,droppables:r}),a=Ft(o);if(!a)return s;var l=r[a];if(Zo(e,l)||l.subject.withPlaceholder)return s;var u=iR(l,e,n);return Rv(s,u)},zs=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,o=t.impact,s=t.scrollJumpRequest,a=i||e.viewport,l=r||e.dimensions,u=n||e.current.client.selection,c=Lt(u,e.initial.client.selection),d={offset:c,selection:u,borderBoxCenter:et(e.initial.client.borderBoxCenter,c)},h={selection:et(d.selection,a.scroll.current),borderBoxCenter:et(d.borderBoxCenter,a.scroll.current),offset:et(d.offset,a.scroll.diff.value)},f={client:d,page:h};if(e.phase==="COLLECTING")return H({phase:"COLLECTING"},e,{dimensions:l,viewport:a,current:f});var g=l.draggables[e.critical.draggable.id],v=o||lR({pageOffset:h.offset,draggable:g,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),_=_B({draggable:g,impact:v,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables}),m=H({},e,{current:f,dimensions:{draggables:l.draggables,droppables:_},impact:v,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return m};function wB(t,e){return t.map(function(n){return e[n]})}var uR=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,o=t.forceShouldAnimate,s=e.displaced,a=wB(s.all,r),l=xa({afterDragging:a,destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return H({},e,{displaced:l})},cR=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,o=t.viewport,s=t.afterCritical,a=Wd({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:s});return Cv({pageBorderBoxCenter:a,draggable:n,viewport:o})},dR=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&k(!1);var i=e.impact,o=r||e.viewport,s=n||e.dimensions,a=s.draggables,l=s.droppables,u=a[e.critical.draggable.id],c=Ft(i);c||k(!1);var d=l[c],h=uR({impact:i,viewport:o,destination:d,draggables:a}),f=cR({impact:h,draggable:u,droppable:d,draggables:a,viewport:o,afterCritical:e.afterCritical});return zs({impact:h,clientSelection:f,state:e,dimensions:s,viewport:o})},EB=function(t){return{index:t.index,droppableId:t.droppableId}},hR=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,o=hl(n.axis,e.displaceBy),s=Jo(n.descriptor.id,r),a=s.indexOf(e);a===-1&&k(!1);var l=s.slice(a+1),u=l.reduce(function(f,g){return f[g.descriptor.id]=!0,f},{}),c={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:u},d=xa({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),h={displaced:d,displacedBy:o,at:{type:"REORDER",destination:EB(e.descriptor)}};return{impact:h,afterCritical:c}},IB=function(t,e){return{draggables:t.draggables,droppables:Rv(t.droppables,e)}},TB=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=mc(e.client,n),o=vc(i,r),s=H({},e,{placeholder:H({},e.placeholder,{client:i}),client:i,page:o});return s},SB=function(t){var e=t.frame;return e||k(!1),e},CB=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map(function(o){var s=o.descriptor.droppableId,a=n[s],l=SB(a),u=l.scroll.diff.value,c=et(i,u),d=TB({draggable:o,offset:c,initialWindowScroll:r.scroll.initial});return d})},RB=function(t){var e=t.state,n=t.published,r=n.modified.map(function(y){var w=e.dimensions.droppables[y.droppableId],T=_v(w,y.scroll);return T}),i=H({},e.dimensions.droppables,{},KC(r)),o=QC(CB({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),s=H({},e.dimensions.draggables,{},o);n.removals.forEach(function(y){delete s[y]});var a={droppables:i,draggables:s},l=Ft(e.impact),u=l?a.droppables[l]:null,c=a.draggables[e.critical.draggable.id],d=a.droppables[e.critical.droppable.id],h=hR({draggable:c,home:d,draggables:s,viewport:e.viewport}),f=h.impact,g=h.afterCritical,v=u&&u.isCombineEnabled?e.impact:f,_=lR({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:v,viewport:e.viewport,afterCritical:g}),m=H({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:_,onLiftImpact:f,dimensions:a,afterCritical:g,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return m;var p=H({phase:"DROP_PENDING"},m,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return p},$p=function(e){return e.movementMode==="SNAP"},ef=function(e,n,r){var i=IB(e.dimensions,n);return!$p(e)||r?zs({state:e,dimensions:i}):dR({state:e,dimensions:i})};function tf(t){return t.isDragging&&t.movementMode==="SNAP"?H({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var sw={phase:"IDLE",completed:null,shouldFlush:!1},PB=function(t,e){if(t===void 0&&(t=sw),e.type==="FLUSH")return H({},sw,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&k(!1);var n=e.payload,r=n.critical,i=n.clientSelection,o=n.viewport,s=n.dimensions,a=n.movementMode,l=s.draggables[r.draggable.id],u=s.droppables[r.droppable.id],c={selection:i,borderBoxCenter:l.client.borderBox.center,offset:He},d={client:c,page:{selection:et(c.selection,o.scroll.initial),borderBoxCenter:et(c.selection,o.scroll.initial),offset:et(c.selection,o.scroll.diff.value)}},h=$d(s.droppables).every(function(Qd){return!Qd.isFixedOnPage}),f=hR({draggable:l,home:u,draggables:s.draggables,viewport:o}),g=f.impact,v=f.afterCritical,_={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:s,initial:d,current:d,isWindowScrollAllowed:h,impact:g,afterCritical:v,onLiftImpact:g,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return _}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&k(!1);var m=H({phase:"COLLECTING"},t,{phase:"COLLECTING"});return m}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||k(!1),RB({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;ni(t)||k(!1);var p=e.payload.client;return Or(p,t.current.client.selection)?t:zs({state:t,clientSelection:p,impact:$p(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return tf(t);ni(t)||k(!1);var y=e.payload,w=y.id,T=y.newScroll,S=t.dimensions.droppables[w];if(!S)return t;var C=_v(S,T);return ef(t,C,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;ni(t)||k(!1);var x=e.payload,V=x.id,P=x.isEnabled,N=t.dimensions.droppables[V];N||k(!1),N.isEnabled===P&&k(!1);var O=H({},N,{isEnabled:P});return ef(t,O,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;ni(t)||k(!1);var G=e.payload,B=G.id,re=G.isCombineEnabled,_e=t.dimensions.droppables[B];_e||k(!1),_e.isCombineEnabled===re&&k(!1);var Ue=H({},_e,{isCombineEnabled:re});return ef(t,Ue,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;ni(t)||k(!1),t.isWindowScrollAllowed||k(!1);var D=e.payload.newScroll;if(Or(t.viewport.scroll.current,D))return tf(t);var j=tR(t.viewport,D);return $p(t)?dR({state:t,viewport:j}):zs({state:t,viewport:j})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ni(t))return t;var W=e.payload.maxScroll;if(Or(W,t.viewport.scroll.max))return t;var ae=H({},t.viewport,{scroll:H({},t.viewport.scroll,{max:W})});return H({phase:"DRAGGING"},t,{viewport:ae})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&k(!1);var q=uB({state:t,type:e.type});return q?zs({state:t,impact:q.impact,clientSelection:q.clientSelection,scrollJumpRequest:q.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var yn=e.payload.reason;t.phase!=="COLLECTING"&&k(!1);var Ht=H({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:yn});return Ht}if(e.type==="DROP_ANIMATE"){var Gt=e.payload,qt=Gt.completed,Fn=Gt.dropDuration,fl=Gt.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||k(!1);var Kd={phase:"DROP_ANIMATING",completed:qt,dropDuration:Fn,newHomeClientOffset:fl,dimensions:t.dimensions};return Kd}if(e.type==="DROP_COMPLETE"){var Bi=e.payload.completed;return{phase:"IDLE",completed:Bi,shouldFlush:!1}}return t},bB=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},AB=function(e){return{type:"LIFT",payload:e}},xB=function(e){return{type:"INITIAL_PUBLISH",payload:e}},DB=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},kB=function(){return{type:"COLLECTION_STARTING",payload:null}},NB=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},OB=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},LB=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},fR=function(e){return{type:"MOVE",payload:e}},MB=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},VB=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},FB=function(){return{type:"MOVE_UP",payload:null}},UB=function(){return{type:"MOVE_DOWN",payload:null}},BB=function(){return{type:"MOVE_RIGHT",payload:null}},$B=function(){return{type:"MOVE_LEFT",payload:null}},Pv=function(){return{type:"FLUSH",payload:null}},jB=function(e){return{type:"DROP_ANIMATE",payload:e}},bv=function(e){return{type:"DROP_COMPLETE",payload:e}},pR=function(e){return{type:"DROP",payload:e}},zB=function(e){return{type:"DROP_PENDING",payload:e}},gR=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},WB=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var s=o.payload,a=s.id,l=s.clientSelection,u=s.movementMode,c=n();c.phase==="DROP_ANIMATING"&&r(bv({completed:c.completed})),n().phase!=="IDLE"&&k(!1),r(Pv()),r(bB({draggableId:a,movementMode:u}));var d={shouldPublishImmediately:u==="SNAP"},h={draggableId:a,scrollOptions:d},f=t.startPublishing(h),g=f.critical,v=f.dimensions,_=f.viewport;r(xB({critical:g,dimensions:v,clientSelection:l,movementMode:u,viewport:_}))}}}},HB=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},Av={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Da={opacity:{drop:0,combining:.7},scale:{drop:.75}},xv={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Jr=xv.outOfTheWay+"s "+Av.outOfTheWay,Ws={fluid:"opacity "+Jr,snap:"transform "+Jr+", opacity "+Jr,drop:function(e){var n=e+"s "+Av.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Jr,placeholder:"height "+Jr+", width "+Jr+", margin "+Jr},aw=function(e){return Or(e,He)?null:"translate("+e.x+"px, "+e.y+"px)"},jp={moveTo:aw,drop:function(e,n){var r=aw(e);return r?n?r+" scale("+Da.scale.drop+")":r:null}},zp=xv.minDropTime,mR=xv.maxDropTime,GB=mR-zp,lw=1500,qB=.6,KB=function(t){var e=t.current,n=t.destination,r=t.reason,i=ba(e,n);if(i<=0)return zp;if(i>=lw)return mR;var o=i/lw,s=zp+GB*o,a=r==="CANCEL"?s*qB:s;return Number(a.toFixed(2))},QB=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,o=t.afterCritical,s=r.draggables,a=r.droppables,l=Ft(e),u=l?a[l]:null,c=a[n.descriptor.droppableId],d=cR({impact:e,draggable:n,draggables:s,afterCritical:o,droppable:u||c,viewport:i}),h=Lt(d,n.client.borderBox.center);return h},YB=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,o=t.viewport,s=t.onLiftImpact;if(!r.at||n!=="DROP"){var a=uR({draggables:e,impact:s,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var l=H({},r,{displaced:Aa});return{impact:l,didDropInsideDroppable:!0}},XB=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=e(),s=i.payload.reason;if(o.phase==="COLLECTING"){n(zB({reason:s}));return}if(o.phase!=="IDLE"){var a=o.phase==="DROP_PENDING"&&o.isWaiting;a&&k(!1),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||k(!1);var l=o.critical,u=o.dimensions,c=u.draggables[o.critical.draggable.id],d=YB({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),h=d.impact,f=d.didDropInsideDroppable,g=f?Ev(h):null,v=f?jd(h):null,_={index:l.draggable.index,droppableId:l.droppable.id},m={draggableId:c.descriptor.id,type:c.descriptor.type,source:_,reason:s,mode:o.movementMode,destination:g,combine:v},p=QB({impact:h,draggable:c,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),y={critical:o.critical,afterCritical:o.afterCritical,result:m,impact:h},w=!Or(o.current.client.offset,p)||!!m.combine;if(!w){n(bv({completed:y}));return}var T=KB({current:o.current.client.offset,destination:p,reason:s}),S={newHomeClientOffset:p,dropDuration:T,completed:y};n(jB(S))}}}},vR=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function JB(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function ZB(t){var e=t.onWindowScroll;function n(){e(vR())}var r=Pa(n),i=JB(r),o=Nr;function s(){return o!==Nr}function a(){s()&&k(!1),o=en(window,[i])}function l(){s()||k(!1),r.cancel(),o(),o=Nr}return{start:a,stop:l,isActive:s}}var e$=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},t$=function(t){var e=ZB({onWindowScroll:function(r){t.dispatch(MB({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&e$(r)&&e.stop(),n(r)}}},n$=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(s){e||n||(e=!0,t(s),clearTimeout(r))};return i.wasCalled=function(){return e},i},r$=function(){var t=[],e=function(o){var s=wv(t,function(u){return u.timerId===o});s===-1&&k(!1);var a=t.splice(s,1),l=a[0];l.callback()},n=function(o){var s=setTimeout(function(){return e(s)}),a={timerId:s,callback:o};t.push(a)},r=function(){if(t.length){var o=[].concat(t);t.length=0,o.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:n,flush:r}},i$=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},o$=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},s$=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,i=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&i},fs=function(e,n){n()},ql=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},nf=function(e,n,r,i){if(!e){r(i(n));return}var o=n$(r),s={announce:o};e(n,s),o.wasCalled()||r(i(n))},a$=function(t,e){var n=r$(),r=null,i=function(h,f){r&&k(!1),fs("onBeforeCapture",function(){var g=t().onBeforeCapture;if(g){var v={draggableId:h,mode:f};g(v)}})},o=function(h,f){r&&k(!1),fs("onBeforeDragStart",function(){var g=t().onBeforeDragStart;g&&g(ql(h,f))})},s=function(h,f){r&&k(!1);var g=ql(h,f);r={mode:f,lastCritical:h,lastLocation:g.source,lastCombine:null},n.add(function(){fs("onDragStart",function(){return nf(t().onDragStart,g,e,vu.onDragStart)})})},a=function(h,f){var g=Ev(f),v=jd(f);r||k(!1);var _=!s$(h,r.lastCritical);_&&(r.lastCritical=h);var m=!i$(r.lastLocation,g);m&&(r.lastLocation=g);var p=!o$(r.lastCombine,v);if(p&&(r.lastCombine=v),!(!_&&!m&&!p)){var y=H({},ql(h,r.mode),{combine:v,destination:g});n.add(function(){fs("onDragUpdate",function(){return nf(t().onDragUpdate,y,e,vu.onDragUpdate)})})}},l=function(){r||k(!1),n.flush()},u=function(h){r||k(!1),r=null,fs("onDragEnd",function(){return nf(t().onDragEnd,h,e,vu.onDragEnd)})},c=function(){if(r){var h=H({},ql(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});u(h)}};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:u,abort:c}},l$=function(t,e){var n=a$(t,e);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var s=o.payload.critical;n.beforeStart(s,o.payload.movementMode),i(o),n.start(s,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),o.type==="FLUSH"){n.abort();return}var l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}}}},u$=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&k(!1),t.dispatch(bv({completed:r.completed}))}}},c$=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=t.getState();l.phase==="DROP_ANIMATING"&&t.dispatch(gR())}};n=requestAnimationFrame(function(){n=null,e=en(window,[s])})}}}},d$=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},h$=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},f$=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},p$=function(t){return function(e){return function(n){return function(r){if(f$(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=e.getState();i.phase!=="DRAGGING"&&k(!1),t.start(i);return}n(r),t.scroll(e.getState())}}}},g$=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(pR({reason:r.reason})))}}}},m$=TC,v$=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,i=t.getResponders,o=t.announce,s=t.autoScroller;return IC(PB,m$(rF(HB(r),d$(e),WB(e),XB,u$,c$,g$,p$(s),t$,h$(n),l$(i,o))))},rf=function(){return{additions:{},removals:{},modified:{}}};function y$(t){var e=t.registry,n=t.callbacks,r=rf(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var c=r,d=c.additions,h=c.removals,f=c.modified,g=Object.keys(d).map(function(m){return e.draggable.getById(m).getDimension(He)}).sort(function(m,p){return m.descriptor.index-p.descriptor.index}),v=Object.keys(f).map(function(m){var p=e.droppable.getById(m),y=p.callbacks.getScrollWhileDragging();return{droppableId:m,scroll:y}}),_={additions:g,removals:Object.keys(h),modified:v};r=rf(),n.publish(_)}))},s=function(c){var d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],o()},a=function(c){var d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],o()},l=function(){i&&(cancelAnimationFrame(i),i=null,r=rf())};return{add:s,remove:a,stop:l}}var yR=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,o=Lt({x:n,y:e},{x:i,y:r}),s={x:Math.max(0,o.x),y:Math.max(0,o.y)};return s},_R=function(){var t=document.documentElement;return t||k(!1),t},wR=function(){var t=_R(),e=yR({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},_$=function(){var t=vR(),e=wR(),n=t.y,r=t.x,i=_R(),o=i.clientWidth,s=i.clientHeight,a=r+o,l=n+s,u=hn({top:n,left:r,right:a,bottom:l}),c={frame:u,scroll:{initial:t,current:t,max:e,diff:{value:He,displacement:He}}};return c},w$=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,i=_$(),o=i.scroll.current,s=e.droppable,a=r.droppable.getAllByType(s.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(o,n)}),l=r.draggable.getAllByType(e.draggable.type).map(function(d){return d.getDimension(o)}),u={draggables:QC(l),droppables:KC(a)},c={dimensions:u,critical:e,viewport:i};return c};function uw(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var E$=function(t,e){var n=null,r=y$({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(f,g){t.droppable.exists(f)||k(!1),n&&e.updateDroppableIsEnabled({id:f,isEnabled:g})},o=function(f,g){n&&(t.droppable.exists(f)||k(!1),e.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:g}))},s=function(f,g){n&&(t.droppable.exists(f)||k(!1),e.updateDroppableScroll({id:f,newScroll:g}))},a=function(f,g){n&&t.droppable.getById(f).callbacks.scroll(g)},l=function(){if(n){r.stop();var f=n.critical.droppable;t.droppable.getAllByType(f.type).forEach(function(g){return g.callbacks.dragStopped()}),n.unsubscribe(),n=null}},u=function(f){n||k(!1);var g=n.critical.draggable;f.type==="ADDITION"&&uw(t,g,f.value)&&r.add(f.value),f.type==="REMOVAL"&&uw(t,g,f.value)&&r.remove(f.value)},c=function(f){n&&k(!1);var g=t.draggable.getById(f.draggableId),v=t.droppable.getById(g.descriptor.droppableId),_={draggable:g.descriptor,droppable:v.descriptor},m=t.subscribe(u);return n={critical:_,unsubscribe:m},w$({critical:_,registry:t,scrollOptions:f.scrollOptions})},d={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:c,stopPublishing:l};return d},ER=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},I$=function(t){window.scrollBy(t.x,t.y)},T$=ze(function(t){return $d(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),S$=function(e,n){var r=Xr(T$(n),function(i){return i.frame||k(!1),oR(i.frame.pageMarginBox)(e)});return r},C$=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}var o=S$(e,r);return o},Lr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},R$=function(t,e){var n=t[e.size]*Lr.startFromPercentage,r=t[e.size]*Lr.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},IR=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;if(i===0)return 0;var o=r-e,s=o/i;return s},Dv=1,P$=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return Lr.maxPixelScroll;if(t===e.startScrollingFrom)return Dv;var n=IR({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,i=Lr.maxPixelScroll*Lr.ease(r);return Math.ceil(i)},cw=Lr.durationDampening.accelerateAt,dw=Lr.durationDampening.stopDampeningAt,b$=function(t,e){var n=e,r=dw,i=Date.now(),o=i-n;if(o>=dw)return t;if(o<cw)return Dv;var s=IR({startOfRange:cw,endOfRange:r,current:o}),a=t*Lr.ease(s);return Math.ceil(a)},hw=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,o=P$(e,n);return o===0?0:i?Math.max(b$(o,r),Dv):o},fw=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,o=t.shouldUseTimeDampening,s=R$(e,i),a=n[i.end]<n[i.start];return a?hw({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o}):-1*hw({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o})},A$=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,o=n.width>e.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},x$=GC(function(t){return t===0?0:t}),TR=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,o=t.shouldUseTimeDampening,s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},a=fw({container:n,distanceToEdges:s,dragStartTime:e,axis:Iv,shouldUseTimeDampening:o}),l=fw({container:n,distanceToEdges:s,dragStartTime:e,axis:JC,shouldUseTimeDampening:o}),u=x$({x:l,y:a});if(Or(u,He))return null;var c=A$({container:n,subject:r,proposedScroll:u});return c?Or(c,He)?null:c:null},D$=GC(function(t){return t===0?0:t>0?1:-1}),kv=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,i=e.change,o=et(n,i),s={x:t(o.x,r.x),y:t(o.y,r.y)};return Or(s,He)?null:s}}(),SR=function(e){var n=e.max,r=e.current,i=e.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},s=D$(i),a=kv({max:o,current:r,change:s});return!a||s.x!==0&&a.x===0||s.y!==0&&a.y===0},Nv=function(e,n){return SR({current:e.scroll.current,max:e.scroll.max,change:n})},k$=function(e,n){if(!Nv(e,n))return null;var r=e.scroll.max,i=e.scroll.current;return kv({current:i,max:r,change:n})},Ov=function(e,n){var r=e.frame;return r?SR({current:r.scroll.current,max:r.scroll.max,change:n}):!1},N$=function(e,n){var r=e.frame;return!r||!Ov(e,n)?null:kv({current:r.scroll.current,max:r.scroll.max,change:n})},O$=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,s=TR({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o});return s&&Nv(e,s)?s:null},L$=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,s=e.frame;if(!s)return null;var a=TR({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return a&&Ov(e,a)?a:null},pw=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,o=t.scrollDroppable,s=e.current.page.borderBoxCenter,a=e.dimensions.draggables[e.critical.draggable.id],l=a.page.marginBox;if(e.isWindowScrollAllowed){var u=e.viewport,c=O$({dragStartTime:n,viewport:u,subject:l,center:s,shouldUseTimeDampening:r});if(c){i(c);return}}var d=C$({center:s,destination:Ft(e.impact),droppables:e.dimensions.droppables});if(d){var h=L$({dragStartTime:n,droppable:d,subject:l,center:s,shouldUseTimeDampening:r});h&&o(d.descriptor.id,h)}},M$=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=Pa(e),i=Pa(n),o=null,s=function(c){o||k(!1);var d=o,h=d.shouldUseTimeDampening,f=d.dragStartTime;pw({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:f,shouldUseTimeDampening:h})},a=function(c){o&&k(!1);var d=Date.now(),h=!1,f=function(){h=!0};pw({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f}),o={dragStartTime:d,shouldUseTimeDampening:h},h&&s(c)},l=function(){o&&(r.cancel(),i.cancel(),o=null)};return{start:a,stop:l,scroll:s}},V$=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(u,c){var d=et(u.current.client.selection,c);e({client:d})},o=function(u,c){if(!Ov(u,c))return c;var d=N$(u,c);if(!d)return n(u.descriptor.id,c),null;var h=Lt(c,d);n(u.descriptor.id,h);var f=Lt(c,h);return f},s=function(u,c,d){if(!u||!Nv(c,d))return d;var h=k$(c,d);if(!h)return r(d),null;var f=Lt(d,h);r(f);var g=Lt(d,f);return g},a=function(u){var c=u.scrollJumpRequest;if(c){var d=Ft(u.impact);d||k(!1);var h=o(u.dimensions.droppables[d],c);if(h){var f=u.viewport,g=s(u.isWindowScrollAllowed,f,h);g&&i(u,g)}}};return a},F$=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=M$({scrollWindow:n,scrollDroppable:e}),o=V$({move:r,scrollWindow:n,scrollDroppable:e}),s=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&o(u)}},a={scroll:s,start:i.start,stop:i.stop};return a},Fo="data-rbd",Uo=function(){var t=Fo+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),Wp=function(){var t=Fo+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),U$=function(){var t=Fo+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),gw={contextId:Fo+"-scroll-container-context-id"},B$=function(e){return function(n){return"["+n+'="'+e+'"]'}},ps=function(e,n){return e.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},$$="pointer-events: none;",j$=function(t){var e=B$(t),n=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Uo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:$$,dropAnimating:a}}}(),r=function(){var a=`
      transition: `+Ws.outOfTheWay+`;
    `;return{selector:e(Wp.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),i={selector:e(U$.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[r,n,i,o];return{always:ps(s,"always"),resting:ps(s,"resting"),dragging:ps(s,"dragging"),dropAnimating:ps(s,"dropAnimating"),userCancel:ps(s,"userCancel")}},Ut=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?I.useLayoutEffect:I.useEffect,of=function(){var e=document.querySelector("head");return e||k(!1),e},mw=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function z$(t,e){var n=oe(function(){return j$(t)},[t]),r=I.useRef(null),i=I.useRef(null),o=$(ze(function(d){var h=i.current;h||k(!1),h.textContent=d}),[]),s=$(function(d){var h=r.current;h||k(!1),h.textContent=d},[]);Ut(function(){!r.current&&!i.current||k(!1);var d=mw(e),h=mw(e);return r.current=d,i.current=h,d.setAttribute(Fo+"-always",t),h.setAttribute(Fo+"-dynamic",t),of().appendChild(d),of().appendChild(h),s(n.always),o(n.resting),function(){var f=function(v){var _=v.current;_||k(!1),of().removeChild(_),v.current=null};f(r),f(i)}},[e,s,o,n.always,n.resting,t]);var a=$(function(){return o(n.dragging)},[o,n.dragging]),l=$(function(d){if(d==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=$(function(){i.current&&o(n.resting)},[o,n.resting]),c=oe(function(){return{dragging:a,dropping:l,resting:u}},[a,l,u]);return c}var CR=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function Hd(t){return t instanceof CR(t).HTMLElement}function W$(t,e){var n="["+Uo.contextId+'="'+t+'"]',r=qC(document.querySelectorAll(n));if(!r.length)return null;var i=Xr(r,function(o){return o.getAttribute(Uo.draggableId)===e});return!i||!Hd(i)?null:i}function H$(t){var e=I.useRef({}),n=I.useRef(null),r=I.useRef(null),i=I.useRef(!1),o=$(function(h,f){var g={id:h,focus:f};return e.current[h]=g,function(){var _=e.current,m=_[h];m!==g&&delete _[h]}},[]),s=$(function(h){var f=W$(t,h);f&&f!==document.activeElement&&f.focus()},[t]),a=$(function(h,f){n.current===h&&(n.current=f)},[]),l=$(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var h=n.current;h&&s(h)}))},[s]),u=$(function(h){n.current=null;var f=document.activeElement;f&&f.getAttribute(Uo.draggableId)===h&&(n.current=h)},[]);Ut(function(){return i.current=!0,function(){i.current=!1;var h=r.current;h&&cancelAnimationFrame(h)}},[]);var c=oe(function(){return{register:o,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}},[o,u,l,a]);return c}function G$(){var t={draggables:{},droppables:{}},e=[];function n(d){return e.push(d),function(){var f=e.indexOf(d);f!==-1&&e.splice(f,1)}}function r(d){e.length&&e.forEach(function(h){return h(d)})}function i(d){return t.draggables[d]||null}function o(d){var h=i(d);return h||k(!1),h}var s={register:function(h){t.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:function(h,f){var g=t.draggables[f.descriptor.id];g&&g.uniqueId===h.uniqueId&&(delete t.draggables[f.descriptor.id],t.draggables[h.descriptor.id]=h)},unregister:function(h){var f=h.descriptor.id,g=i(f);g&&h.uniqueId===g.uniqueId&&(delete t.draggables[f],r({type:"REMOVAL",value:h}))},getById:o,findById:i,exists:function(h){return!!i(h)},getAllByType:function(h){return wc(t.draggables).filter(function(f){return f.descriptor.type===h})}};function a(d){return t.droppables[d]||null}function l(d){var h=a(d);return h||k(!1),h}var u={register:function(h){t.droppables[h.descriptor.id]=h},unregister:function(h){var f=a(h.descriptor.id);f&&h.uniqueId===f.uniqueId&&delete t.droppables[h.descriptor.id]},getById:l,findById:a,exists:function(h){return!!a(h)},getAllByType:function(h){return wc(t.droppables).filter(function(f){return f.descriptor.type===h})}};function c(){t.draggables={},t.droppables={},e.length=0}return{draggable:s,droppable:u,subscribe:n,clean:c}}function q$(){var t=oe(G$,[]);return I.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var Lv=Z.createContext(null),Ic=function(){var t=document.body;return t||k(!1),t},K$={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Q$=function(e){return"rbd-announcement-"+e};function Y$(t){var e=oe(function(){return Q$(t)},[t]),n=I.useRef(null);I.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),H(o.style,K$),Ic().appendChild(o),function(){setTimeout(function(){var l=Ic();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[e]);var r=$(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var X$=0,J$={separator:"::"};function Mv(t,e){return e===void 0&&(e=J$),oe(function(){return""+t+e.separator+X$++},[e.separator,t])}function Z$(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function e3(t){var e=t.contextId,n=t.text,r=Mv("hidden-text",{separator:"-"}),i=oe(function(){return Z$({contextId:e,uniqueId:r})},[r,e]);return I.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=n,s.style.display="none",Ic().appendChild(s),function(){var l=Ic();l.contains(s)&&l.removeChild(s)}},[i,n]),i}var Gd=Z.createContext(null);function RR(t){var e=I.useRef(t);return I.useEffect(function(){e.current=t}),e}function t3(){var t=null;function e(){return!!t}function n(s){return s===t}function r(s){t&&k(!1);var a={abandon:s};return t=a,a}function i(){t||k(!1),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:o}}var n3=9,r3=13,Vv=27,PR=32,i3=33,o3=34,s3=35,a3=36,l3=37,u3=38,c3=39,d3=40,Kl,h3=(Kl={},Kl[r3]=!0,Kl[n3]=!0,Kl),bR=function(t){h3[t.keyCode]&&t.preventDefault()},qd=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=Xr(e,function(r){return"on"+r in document});return n||t}(),AR=0,vw=5;function f3(t,e){return Math.abs(e.x-t.x)>=vw||Math.abs(e.y-t.y)>=vw}var yw={type:"IDLE"};function p3(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(s){var a=s.button,l=s.clientX,u=s.clientY;if(a===AR){var c={x:l,y:u},d=r();if(d.type==="DRAGGING"){s.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&k(!1);var h=d.point;if(f3(h,c)){s.preventDefault();var f=d.actions.fluidLift(c);i({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(s){var a=r();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(s){r().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:function(s){var a=r();if(a.type==="PENDING"){e();return}if(s.keyCode===Vv){s.preventDefault(),e();return}bR(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(s){var a=r();if(a.type==="IDLE"&&k(!1),a.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:qd,fn:e}]}function g3(t){var e=I.useRef(yw),n=I.useRef(Nr),r=oe(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===AR&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var h=t.findClosestDraggableId(d);if(h){var f=t.tryGetLock(h,s,{sourceEvent:d});if(f){d.preventDefault();var g={x:d.clientX,y:d.clientY};n.current(),u(f,g)}}}}}},[t]),i=oe(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var h=t.findClosestDraggableId(d);if(h){var f=t.findOptionsForDraggable(h);f&&(f.shouldRespectForcePress||t.canGetLock(h)&&d.preventDefault())}}}}},[t]),o=$(function(){var d={passive:!1,capture:!0};n.current=en(window,[i,r],d)},[i,r]),s=$(function(){var c=e.current;c.type!=="IDLE"&&(e.current=yw,n.current(),o())},[o]),a=$(function(){var c=e.current;s(),c.type==="DRAGGING"&&c.actions.cancel({shouldBlockNextClick:!0}),c.type==="PENDING"&&c.actions.abort()},[s]),l=$(function(){var d={capture:!0,passive:!1},h=p3({cancel:a,completed:s,getPhase:function(){return e.current},setPhase:function(g){e.current=g}});n.current=en(window,h,d)},[a,s]),u=$(function(d,h){e.current.type!=="IDLE"&&k(!1),e.current={type:"PENDING",point:h,actions:d},l()},[l]);Ut(function(){return o(),function(){n.current()}},[o])}var Wi;function m3(){}var v3=(Wi={},Wi[o3]=!0,Wi[i3]=!0,Wi[a3]=!0,Wi[s3]=!0,Wi);function y3(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===Vv){o.preventDefault(),n();return}if(o.keyCode===PR){o.preventDefault(),r();return}if(o.keyCode===d3){o.preventDefault(),t.moveDown();return}if(o.keyCode===u3){o.preventDefault(),t.moveUp();return}if(o.keyCode===c3){o.preventDefault(),t.moveRight();return}if(o.keyCode===l3){o.preventDefault(),t.moveLeft();return}if(v3[o.keyCode]){o.preventDefault();return}bR(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:qd,fn:n}]}function _3(t){var e=I.useRef(m3),n=oe(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==PR)return;var s=t.findClosestDraggableId(o);if(!s)return;var a=t.tryGetLock(s,c,{sourceEvent:o});if(!a)return;o.preventDefault();var l=!0,u=a.snapLift();e.current();function c(){l||k(!1),l=!1,e.current(),r()}e.current=en(window,y3(u,c),{capture:!0,passive:!1})}}},[t]),r=$(function(){var o={passive:!1,capture:!0};e.current=en(window,[n],o)},[n]);Ut(function(){return r(),function(){e.current()}},[r])}var sf={type:"IDLE"},w3=120,E3=.15;function I3(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.keyCode===Vv&&i.preventDefault(),e()}},{eventName:qd,fn:e}]}function T3(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;var a=o.touches[0],l=a.clientX,u=a.clientY,c={x:l,y:u};o.preventDefault(),s.actions.move(c)}},{eventName:"touchend",fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){e();return}o.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(o){var s=r();s.type==="IDLE"&&k(!1);var a=o.touches[0];if(a){var l=a.force>=E3;if(l){var u=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){u&&e();return}if(u){if(s.hasMoved){o.preventDefault();return}e();return}o.preventDefault()}}}},{eventName:qd,fn:e}]}function S3(t){var e=I.useRef(sf),n=I.useRef(Nr),r=$(function(){return e.current},[]),i=$(function(f){e.current=f},[]),o=oe(function(){return{eventName:"touchstart",fn:function(f){if(!f.defaultPrevented){var g=t.findClosestDraggableId(f);if(g){var v=t.tryGetLock(g,a,{sourceEvent:f});if(v){var _=f.touches[0],m=_.clientX,p=_.clientY,y={x:m,y:p};n.current(),d(v,y)}}}}}},[t]),s=$(function(){var f={capture:!0,passive:!1};n.current=en(window,[o],f)},[o]),a=$(function(){var h=e.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),i(sf),n.current(),s())},[s,i]),l=$(function(){var h=e.current;a(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[a]),u=$(function(){var f={capture:!0,passive:!1},g={cancel:l,completed:a,getPhase:r},v=en(window,T3(g),f),_=en(window,I3(g),f);n.current=function(){v(),_()}},[l,r,a]),c=$(function(){var f=r();f.type!=="PENDING"&&k(!1);var g=f.actions.fluidLift(f.point);i({type:"DRAGGING",actions:g,hasMoved:!1})},[r,i]),d=$(function(f,g){r().type!=="IDLE"&&k(!1);var v=setTimeout(c,w3);i({type:"PENDING",point:g,actions:f,longPressTimerId:v}),u()},[u,r,i,c]);Ut(function(){return s(),function(){n.current();var g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),i(sf))}},[r,s,i]),Ut(function(){var f=en(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return f},[])}var C3={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function xR(t,e){if(e==null)return!1;var n=!!C3[e.tagName.toLowerCase()];if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:xR(t,e.parentElement)}function R3(t,e){var n=e.target;return Hd(n)?xR(t,n):!1}var P3=function(t){return hn(t.getBoundingClientRect()).center};function b3(t){return t instanceof CR(t).Element}var A3=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=Xr(e,function(r){return r in Element.prototype});return n||t}();function DR(t,e){return t==null?null:t[A3](e)?t:DR(t.parentElement,e)}function x3(t,e){return t.closest?t.closest(e):DR(t,e)}function D3(t){return"["+Uo.contextId+'="'+t+'"]'}function k3(t,e){var n=e.target;if(!b3(n))return null;var r=D3(t),i=x3(n,r);return!i||!Hd(i)?null:i}function N3(t,e){var n=k3(t,e);return n?n.getAttribute(Uo.draggableId):null}function O3(t,e){var n="["+Wp.contextId+'="'+t+'"]',r=qC(document.querySelectorAll(n)),i=Xr(r,function(o){return o.getAttribute(Wp.id)===e});return!i||!Hd(i)?null:i}function L3(t){t.preventDefault()}function Ql(t){var e=t.expected,n=t.phase,r=t.isLockActive;return t.shouldWarn,!(!r()||e!==n)}function kR(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!ER(n.getState(),i))}function M3(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,o=t.draggableId,s=t.forceSensorStop,a=t.sourceEvent,l=kR({lockAPI:e,store:r,registry:i,draggableId:o});if(!l)return null;var u=i.draggable.getById(o),c=O3(n,u.descriptor.id);if(!c||a&&!u.options.canDragInteractiveElements&&R3(c,a))return null;var d=e.claim(s||Nr),h="PRE_DRAG";function f(){return u.options.shouldRespectForcePress}function g(){return e.isActive(d)}function v(S,C){Ql({expected:S,phase:h,isLockActive:g,shouldWarn:!0})&&r.dispatch(C())}var _=v.bind(null,"DRAGGING");function m(S){function C(){e.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(C(),h!=="PRE_DRAG"&&k(!1)),r.dispatch(AB(S.liftActionArgs)),h="DRAGGING";function x(V,P){if(P===void 0&&(P={shouldBlockNextClick:!1}),S.cleanup(),P.shouldBlockNextClick){var N=en(window,[{eventName:"click",fn:L3,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(N)}C(),r.dispatch(pR({reason:V}))}return H({isActive:function(){return Ql({expected:"DRAGGING",phase:h,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(P){return x("DROP",P)},cancel:function(P){return x("CANCEL",P)}},S.actions)}function p(S){var C=Pa(function(V){_(function(){return fR({client:V})})}),x=m({liftActionArgs:{id:o,clientSelection:S,movementMode:"FLUID"},cleanup:function(){return C.cancel()},actions:{move:C}});return H({},x,{move:C})}function y(){var S={moveUp:function(){return _(FB)},moveRight:function(){return _(BB)},moveDown:function(){return _(UB)},moveLeft:function(){return _($B)}};return m({liftActionArgs:{id:o,clientSelection:P3(c),movementMode:"SNAP"},cleanup:Nr,actions:S})}function w(){var S=Ql({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!0});S&&e.release()}var T={isActive:function(){return Ql({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:p,snapLift:y,abort:w};return T}var V3=[g3,_3,S3];function F3(t){var e=t.contextId,n=t.store,r=t.registry,i=t.customSensors,o=t.enableDefaultSensors,s=[].concat(o?V3:[],i||[]),a=I.useState(function(){return t3()})[0],l=$(function(p,y){p.isDragging&&!y.isDragging&&a.tryAbandon()},[a]);Ut(function(){var p=n.getState(),y=n.subscribe(function(){var w=n.getState();l(p,w),p=w});return y},[a,n,l]),Ut(function(){return a.tryAbandon},[a.tryAbandon]);for(var u=$(function(m){return kR({lockAPI:a,registry:r,store:n,draggableId:m})},[a,r,n]),c=$(function(m,p,y){return M3({lockAPI:a,registry:r,contextId:e,store:n,draggableId:m,forceSensorStop:p,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null})},[e,a,r,n]),d=$(function(m){return N3(e,m)},[e]),h=$(function(m){var p=r.draggable.findById(m);return p?p.options:null},[r.draggable]),f=$(function(){a.isClaimed()&&(a.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(Pv()))},[a,n]),g=$(a.isClaimed,[a]),v=oe(function(){return{canGetLock:u,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:h,tryReleaseLock:f,isLockClaimed:g}},[u,c,d,h,f,g]),_=0;_<s.length;_++)s[_](v)}var U3=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function gs(t){return t.current||k(!1),t.current}function B3(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,i=t.nonce,o=t.dragHandleUsageInstructions,s=I.useRef(null),a=RR(t),l=$(function(){return U3(a.current)},[a]),u=Y$(e),c=e3({contextId:e,text:o}),d=z$(e,i),h=$(function(V){gs(s).dispatch(V)},[]),f=oe(function(){return $0({publishWhileDragging:DB,updateDroppableScroll:NB,updateDroppableIsEnabled:OB,updateDroppableIsCombineEnabled:LB,collectionStarting:kB},h)},[h]),g=q$(),v=oe(function(){return E$(g,f)},[g,f]),_=oe(function(){return F$(H({scrollWindow:I$,scrollDroppable:v.scrollDroppable},$0({move:fR},h)))},[v.scrollDroppable,h]),m=H$(e),p=oe(function(){return v$({announce:u,autoScroller:_,dimensionMarshal:v,focusMarshal:m,getResponders:l,styleMarshal:d})},[u,_,v,m,l,d]);s.current=p;var y=$(function(){var V=gs(s),P=V.getState();P.phase!=="IDLE"&&V.dispatch(Pv())},[]),w=$(function(){var V=gs(s).getState();return V.isDragging||V.phase==="DROP_ANIMATING"},[]),T=oe(function(){return{isDragging:w,tryAbort:y}},[w,y]);n(T);var S=$(function(V){return ER(gs(s).getState(),V)},[]),C=$(function(){return ni(gs(s).getState())},[]),x=oe(function(){return{marshal:v,focus:m,contextId:e,canLift:S,isMovementAllowed:C,dragHandleUsageInstructionsId:c,registry:g}},[e,v,c,m,S,C,g]);return F3({contextId:e,store:p,registry:g,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),I.useEffect(function(){return y},[y]),Z.createElement(Gd.Provider,{value:x},Z.createElement(lF,{context:Lv,store:p},t.children))}var $3=0;function j3(){return oe(function(){return""+$3++},[])}function z3(t){var e=j3(),n=t.dragHandleUsageInstructions||vu.dragHandleUsageInstructions;return Z.createElement(_U,null,function(r){return Z.createElement(B3,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var NR=function(e){return function(n){return e===n}},W3=NR("scroll"),H3=NR("auto"),_w=function(e,n){return n(e.overflowX)||n(e.overflowY)},G3=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return _w(r,W3)||_w(r,H3)},q3=function(){return!1},K3=function t(e){return e==null?null:e===document.body?q3()?e:null:e===document.documentElement?null:G3(e)?e:t(e.parentElement)},Hp=function(t){return{x:t.scrollLeft,y:t.scrollTop}},Q3=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},Y3=function(t){var e=K3(t),n=Q3(t);return{closestScrollable:e,isFixedOnPage:n}},X3=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,o=t.direction,s=t.client,a=t.page,l=t.closest,u=function(){if(!l)return null;var f=l.scrollSize,g=l.client,v=yR({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:g,scrollSize:f,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:v,diff:{value:He,displacement:He}}}}(),c=o==="vertical"?Iv:JC,d=Vo({page:a,withPlaceholder:null,axis:c,frame:u}),h={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:c,isEnabled:n,client:s,page:a,frame:u,subject:d};return h},J3=function(e,n){var r=jC(e);if(!n||e!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,s=i+n.scrollHeight,a=o+n.scrollWidth,l={top:i,right:a,bottom:s,left:o},u=vv(l,r.border),c=yv({borderBox:u,margin:r.margin,border:r.border,padding:r.padding});return c},Z3=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,o=t.direction,s=t.isDropDisabled,a=t.isCombineEnabled,l=t.shouldClipSubject,u=r.closestScrollable,c=J3(e,u),d=vc(c,i),h=function(){if(!u)return null;var g=jC(u),v={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:g,page:vc(g,i),scroll:Hp(u),scrollSize:v,shouldClipSubject:l}}(),f=X3({descriptor:n,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:c,page:d,closest:h});return f},ej={passive:!1},tj={passive:!0},ww=function(t){return t.shouldPublishImmediately?ej:tj};function Tc(t){var e=I.useContext(t);return e||k(!1),e}var Yl=function(e){return e&&e.env.closestScrollable||null};function nj(t){var e=I.useRef(null),n=Tc(Gd),r=Mv("droppable"),i=n.registry,o=n.marshal,s=RR(t),a=oe(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),l=I.useRef(a),u=oe(function(){return ze(function(w,T){e.current||k(!1);var S={x:w,y:T};o.updateDroppableScroll(a.id,S)})},[a.id,o]),c=$(function(){var w=e.current;return!w||!w.env.closestScrollable?He:Hp(w.env.closestScrollable)},[]),d=$(function(){var w=c();u(w.x,w.y)},[c,u]),h=oe(function(){return Pa(d)},[d]),f=$(function(){var w=e.current,T=Yl(w);w&&T||k(!1);var S=w.scrollOptions;if(S.shouldPublishImmediately){d();return}h()},[h,d]),g=$(function(w,T){e.current&&k(!1);var S=s.current,C=S.getDroppableRef();C||k(!1);var x=Y3(C),V={ref:C,descriptor:a,env:x,scrollOptions:T};e.current=V;var P=Z3({ref:C,descriptor:a,env:x,windowScroll:w,direction:S.direction,isDropDisabled:S.isDropDisabled,isCombineEnabled:S.isCombineEnabled,shouldClipSubject:!S.ignoreContainerClipping}),N=x.closestScrollable;return N&&(N.setAttribute(gw.contextId,n.contextId),N.addEventListener("scroll",f,ww(V.scrollOptions))),P},[n.contextId,a,f,s]),v=$(function(){var w=e.current,T=Yl(w);return w&&T||k(!1),Hp(T)},[]),_=$(function(){var w=e.current;w||k(!1);var T=Yl(w);e.current=null,T&&(h.cancel(),T.removeAttribute(gw.contextId),T.removeEventListener("scroll",f,ww(w.scrollOptions)))},[f,h]),m=$(function(w){var T=e.current;T||k(!1);var S=Yl(T);S||k(!1),S.scrollTop+=w.y,S.scrollLeft+=w.x},[]),p=oe(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:v,dragStopped:_,scroll:m}},[_,g,v,m]),y=oe(function(){return{uniqueId:r,descriptor:a,callbacks:p}},[p,a,r]);Ut(function(){return l.current=y.descriptor,i.droppable.register(y),function(){e.current&&_(),i.droppable.unregister(y)}},[p,a,_,y,o,i.droppable]),Ut(function(){e.current&&o.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),Ut(function(){e.current&&o.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function af(){}var Ew={width:0,height:0,margin:CU},rj=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return n||i==="close"?Ew:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},ij=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,o=rj({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Ws.placeholder:null}};function oj(t){var e=I.useRef(null),n=$(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=t.animate,i=t.onTransitionEnd,o=t.onClose,s=t.contextId,a=I.useState(t.animate==="open"),l=a[0],u=a[1];I.useEffect(function(){return l?r!=="open"?(n(),u(!1),af):e.current?af:(e.current=setTimeout(function(){e.current=null,u(!1)}),n):af},[r,l,n]);var c=$(function(h){h.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),d=ij({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return Z.createElement(t.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":s,onTransitionEnd:c,ref:t.innerRef})}var sj=Z.memo(oj),Fv=Z.createContext(null),aj=function(t){EC(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(Z.PureComponent),Iw={dragging:5e3,dropAnimating:4500},lj=function(e,n){return n?Ws.drop(n.duration):e?Ws.snap:Ws.fluid},uj=function(e,n){return e?n?Da.opacity.drop:Da.opacity.combining:null},cj=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function dj(t){var e=t.dimension,n=e.client,r=t.offset,i=t.combineWith,o=t.dropping,s=!!i,a=cj(t),l=!!o,u=l?jp.drop(r,s):jp.moveTo(r),c={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:lj(a,o),transform:u,opacity:uj(s,l),zIndex:l?Iw.dropAnimating:Iw.dragging,pointerEvents:"none"};return c}function hj(t){return{transform:jp.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function fj(t){return t.type==="DRAGGING"?dj(t):hj(t)}function pj(t,e,n){n===void 0&&(n=He);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=$C(i,r),s=vc(o,n),a={client:o,tagName:e.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height},u={descriptor:t,placeholder:a,displaceBy:l,client:o,page:s};return u}function gj(t){var e=Mv("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,o=t.canDragInteractiveElements,s=t.shouldRespectForcePress,a=t.isEnabled,l=oe(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}},[o,a,s]),u=$(function(f){var g=i();return g||k(!1),pj(n,g,f)},[n,i]),c=oe(function(){return{uniqueId:e,descriptor:n,options:l,getDimension:u}},[n,u,l,e]),d=I.useRef(c),h=I.useRef(!0);Ut(function(){return r.draggable.register(d.current),function(){return r.draggable.unregister(d.current)}},[r.draggable]),Ut(function(){if(h.current){h.current=!1;return}var f=d.current;d.current=c,r.draggable.update(c,f)},[c,r.draggable])}function mj(t){t.preventDefault()}function vj(t){var e=I.useRef(null),n=$(function(V){e.current=V},[]),r=$(function(){return e.current},[]),i=Tc(Gd),o=i.contextId,s=i.dragHandleUsageInstructionsId,a=i.registry,l=Tc(Fv),u=l.type,c=l.droppableId,d=oe(function(){return{id:t.draggableId,index:t.index,type:u,droppableId:c}},[t.draggableId,t.index,u,c]),h=t.children,f=t.draggableId,g=t.isEnabled,v=t.shouldRespectForcePress,_=t.canDragInteractiveElements,m=t.isClone,p=t.mapped,y=t.dropAnimationFinished;if(!m){var w=oe(function(){return{descriptor:d,registry:a,getDraggableRef:r,canDragInteractiveElements:_,shouldRespectForcePress:v,isEnabled:g}},[d,a,r,_,v,g]);gj(w)}var T=oe(function(){return g?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:mj}:null},[o,s,f,g]),S=$(function(V){p.type==="DRAGGING"&&p.dropping&&V.propertyName==="transform"&&y()},[y,p]),C=oe(function(){var V=fj(p),P=p.type==="DRAGGING"&&p.dropping?S:null,N={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":f,style:V,onTransitionEnd:P},dragHandleProps:T};return N},[o,T,f,p,S,n]),x=oe(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return h(C,p.snapshot,x)}var OR=function(t,e){return t===e},LR=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},yj=function(e){return e.combine?e.combine.draggableId:null},_j=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function wj(){var t=ze(function(i,o){return{x:i,y:o}}),e=ze(function(i,o,s,a,l){return{isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null}}),n=ze(function(i,o,s,a,l,u,c){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:o,offset:i,dimension:s,forceShouldAnimate:c,snapshot:e(o,a,l,u,null)}}}),r=function(o,s){if(o.isDragging){if(o.critical.draggable.id!==s.draggableId)return null;var a=o.current.client.offset,l=o.dimensions.draggables[s.draggableId],u=Ft(o.impact),c=_j(o.impact),d=o.forceShouldAnimate;return n(t(a.x,a.y),o.movementMode,l,s.isClone,u,c,d)}if(o.phase==="DROP_ANIMATING"){var h=o.completed;if(h.result.draggableId!==s.draggableId)return null;var f=s.isClone,g=o.dimensions.draggables[s.draggableId],v=h.result,_=v.mode,m=LR(v),p=yj(v),y=o.dropDuration,w={duration:y,curve:Av.drop,moveTo:o.newHomeClientOffset,opacity:p?Da.opacity.drop:null,scale:p?Da.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:g,dropping:w,draggingOver:m,combineWith:p,mode:_,forceShouldAnimate:null,snapshot:e(_,f,m,p,w)}}}return null};return r}function MR(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var Ej={mapped:{type:"SECONDARY",offset:He,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:MR(null)}};function Ij(){var t=ze(function(s,a){return{x:s,y:a}}),e=ze(MR),n=ze(function(s,a,l){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}}}),r=function(a){return a?n(He,a,!0):null},i=function(a,l,u,c){var d=u.displaced.visible[a],h=!!(c.inVirtualList&&c.effected[a]),f=jd(u),g=f&&f.draggableId===a?l:null;if(!d){if(!h)return r(g);if(u.displaced.invisible[a])return null;var v=Xo(c.displacedBy.point),_=t(v.x,v.y);return n(_,g,!0)}if(h)return r(g);var m=u.displacedBy.point,p=t(m.x,m.y);return n(p,g,d.shouldAnimate)},o=function(a,l){if(a.isDragging)return a.critical.draggable.id===l.draggableId?null:i(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var u=a.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return o}var Tj=function(){var e=wj(),n=Ij(),r=function(o,s){return e(o,s)||n(o,s)||Ej};return r},Sj={dropAnimationFinished:gR},Cj=UC(Tj,Sj,null,{context:Lv,pure:!0,areStatePropsEqual:OR})(vj);function VR(t){var e=Tc(Fv),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:Z.createElement(Cj,t)}function Rj(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return Z.createElement(VR,H({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function Pj(t){var e=I.useContext(Gd);e||k(!1);var n=e.contextId,r=e.isMovementAllowed,i=I.useRef(null),o=I.useRef(null),s=t.children,a=t.droppableId,l=t.type,u=t.mode,c=t.direction,d=t.ignoreContainerClipping,h=t.isDropDisabled,f=t.isCombineEnabled,g=t.snapshot,v=t.useClone,_=t.updateViewportMaxScroll,m=t.getContainerForClone,p=$(function(){return i.current},[]),y=$(function(N){i.current=N},[]);$(function(){return o.current},[]);var w=$(function(N){o.current=N},[]),T=$(function(){r()&&_({maxScroll:wR()})},[r,_]);nj({droppableId:a,type:l,mode:u,direction:c,isDropDisabled:h,isCombineEnabled:f,ignoreContainerClipping:d,getDroppableRef:p});var S=Z.createElement(aj,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(N){var O=N.onClose,G=N.data,B=N.animate;return Z.createElement(sj,{placeholder:G,onClose:O,innerRef:w,animate:B,contextId:n,onTransitionEnd:T})}),C=oe(function(){return{innerRef:y,placeholder:S,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":n}}},[n,a,S,y]),x=v?v.dragging.draggableId:null,V=oe(function(){return{droppableId:a,type:l,isUsingCloneFor:x}},[a,x,l]);function P(){if(!v)return null;var N=v.dragging,O=v.render,G=Z.createElement(VR,{draggableId:N.draggableId,index:N.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(B,re){return O(B,re,N)});return hA.createPortal(G,m())}return Z.createElement(Fv.Provider,{value:V},s(C,g),P())}var lf=function(e,n){return e===n.droppable.type},Tw=function(e,n){return n.draggables[e.draggable.id]},bj=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=H({},e,{shouldAnimatePlaceholder:!1}),r=ze(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=ze(function(s,a,l,u,c,d){var h=c.descriptor.id,f=c.descriptor.droppableId===s;if(f){var g=d?{render:d,dragging:r(c.descriptor)}:null,v={isDraggingOver:l,draggingOverWith:l?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:v,useClone:g}}if(!a)return n;if(!u)return e;var _={isDraggingOver:l,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:_,useClone:null}}),o=function(a,l){var u=l.droppableId,c=l.type,d=!l.isDropDisabled,h=l.renderClone;if(a.isDragging){var f=a.critical;if(!lf(c,f))return n;var g=Tw(f,a.dimensions),v=Ft(a.impact)===u;return i(u,d,v,v,g,h)}if(a.phase==="DROP_ANIMATING"){var _=a.completed;if(!lf(c,_.critical))return n;var m=Tw(_.critical,a.dimensions);return i(u,d,LR(_.result)===u,Ft(_.impact)===u,m,h)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var p=a.completed;if(!lf(c,p.critical))return n;var y=Ft(p.impact)===u,w=!!(p.impact.at&&p.impact.at.type==="COMBINE"),T=p.critical.droppable.id===u;return y?w?e:n:T?e:n}return n};return o},Aj={updateViewportMaxScroll:VB};function xj(){return document.body||k(!1),document.body}var Dj={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:xj},FR=UC(bj,Aj,null,{context:Lv,pure:!0,areStatePropsEqual:OR})(Pj);FR.defaultProps=Dj;function kj(t){const{catalog:e,updateCatalog:n,addImageToCatalog:r,deleteImageFromCatalog:i}=Ai();let o=t.selected?Number(t.selected.substring(0,1)):0;const[s,a]=I.useState(0),l=I.useRef();let u=!1;I.useEffect(()=>{e.map((d,h)=>{d.id===o&&a(h)}),u=!0},[t.selected]),I.useEffect(()=>{u||(o=e[s].id)},[e]);function c(d){if(!d.destination)return;const h=Array.from(e[s].images),[f]=h.splice(d.source.index,1);h.splice(d.destination.index,0,f),e[s].images=h,n(o,e[s])}return E.jsx("div",{className:"mt-5 flex justify-center",children:e[0].description!=="testingXYZ"&&E.jsxs("div",{className:"flex items-center justify-center rounded-xl border-4 border-gray-200 p-5",children:[E.jsx(z3,{onDragEnd:c,children:E.jsx(FR,{droppableId:"images",direction:"vertical",children:d=>E.jsxs("ul",{className:"justify-content flex max-w-[500px] flex-col ",...d.droppableProps,ref:d.innerRef,children:[e[s].images&&e[s].images.map(({id:h,url:f},g)=>E.jsx(Rj,{draggableId:String(h),index:g,children:v=>E.jsx("li",{className:"mx-3",ref:v.innerRef,...v.draggableProps,...v.dragHandleProps,children:E.jsxs("div",{className:"flex w-[300px] items-center justify-center rounded-xl border-2 border-blue-400 bg-white  p-2 text-center align-middle",children:[E.jsx("img",{className:"mr-2 h-16",src:f}),E.jsx("p",{className:"mr-2 text-center",children:h}),E.jsx("button",{className:"border-2 border-blue-400",onClick:()=>{i(o,h)},children:"delete"})]})},h)},h)),d.placeholder]})})}),E.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl  border-2 border-gray-200  p-2 text-center align-middle",children:[E.jsx("input",{className:"w-64 items-center justify-center ",type:"file",onChange:d=>{l.current=d.target.files[0]}}),E.jsx("button",{className:"border-2",onClick:()=>{l.current!==void 0&&r(o,l.current)},children:"Add"})]})]})})}function Nj(){const{profile:t}=Ai(),e=t.editor,n=Ai().updateProfile,r=localStorage.getItem("uid")!=="x",[i,o]=I.useState(""),[s,a]=I.useState("");return E.jsxs("div",{children:[E.jsxs("p",{children:["Editor ",e.toString()]}),!e&&E.jsx("input",{value:i,className:"rounded-md border-2 bg-gray-100",onChange:l=>(o(l.target.value),l.target.value==="tm"?(o(""),r?n("editor",!0):null):null),type:"text"}),e&&E.jsx("div",{children:E.jsx("button",{className:"mt-5 rounded-xl bg-sky-700 px-4 py-2 text-white hover:bg-sky-800 sm:px-8 sm:py-3",onClick:()=>n("editor",!1),children:"Disable Editor Mode"})}),E.jsx(J4,{className:"mb-5",setSelected:l=>a(l),selected:s}),E.jsx(kj,{selected:s})]})}function Oj(){return E.jsx(E.Fragment,{children:E.jsxs(fC,{context:!0,children:[E.jsx(e4,{}),E.jsxs(U4,{children:[E.jsx(lr,{path:"/",element:E.jsx(t4,{})}),E.jsx(lr,{path:"/products",element:E.jsx(q4,{})}),E.jsx(lr,{path:"/about-us",element:E.jsx(K4,{})}),E.jsx(lr,{path:"/contact",element:E.jsx(Q4,{})}),E.jsx(lr,{path:"/account",element:E.jsx(H4,{})}),E.jsx(lr,{path:"/schick-glaser",element:E.jsx(Y4,{})}),E.jsx(lr,{path:"/dev",element:E.jsx(Nj,{})})]})]})})}uf.createRoot(document.getElementById("root")).render(E.jsx(fC,{children:E.jsx(j4,{children:E.jsx(Oj,{})})}));
